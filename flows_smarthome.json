[
    {
        "id": "1c11632f.f206fd",
        "type": "tab",
        "label": "Smarthus Oversikt",
        "disabled": false,
        "info": ""
    },
    {
        "id": "aa0ae7ae.75d228",
        "type": "tab",
        "label": "Lys",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bc3b2c68.b35f6",
        "type": "tab",
        "label": "Garbage Collector",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8b99f8fe.7b27b8",
        "type": "tab",
        "label": "Smarthome_MODE",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1b14ec1b.20ab54",
        "type": "tab",
        "label": "Happy",
        "disabled": false,
        "info": ""
    },
    {
        "id": "605ae98f.8a9998",
        "type": "tab",
        "label": "Bedroom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f487aa99.386108",
        "type": "tab",
        "label": "Data",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e3737c94.fd59f",
        "type": "tab",
        "label": "FH Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a7af161f.d5ece8",
        "type": "tab",
        "label": "Deconz Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bd342fd3.e926f",
        "type": "tab",
        "label": "FaceReq",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8c7725c0.d87138",
        "type": "tab",
        "label": "HOMEKIT",
        "disabled": false,
        "info": ""
    },
    {
        "id": "94ff8f0f.02c5a",
        "type": "subflow",
        "name": "Deconz  Movement",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 420,
                "y": 200,
                "wires": [
                    {
                        "id": "e5f5aa31.81fff8"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 720,
                "y": 200,
                "wires": [
                    {
                        "id": "e5f5aa31.81fff8",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "Name",
                "type": "str",
                "value": "default"
            },
            {
                "name": "ETG",
                "type": "str",
                "value": "1"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 640,
            "y": 140,
            "wires": [
                {
                    "id": "94ff8f0f.02c5a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "5bd36af.4ea5494",
        "type": "subflow",
        "name": "Timer",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 180,
                "y": 180,
                "wires": [
                    {
                        "id": "89e42a76.f6f2f8"
                    },
                    {
                        "id": "64d46e65.a7d2e"
                    },
                    {
                        "id": "2603e6d2.f1973a"
                    },
                    {
                        "id": "cdb73747.3ca6b8"
                    },
                    {
                        "id": "d3ba4ca2.8554d"
                    },
                    {
                        "id": "7e546c3.3eb7794"
                    },
                    {
                        "id": "4bded5f5.5e225c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1120,
                "y": 200,
                "wires": [
                    {
                        "id": "c907fe20.72aa6",
                        "port": 0
                    },
                    {
                        "id": "10faff0a.197481",
                        "port": 0
                    },
                    {
                        "id": "14bc3937.ad4257",
                        "port": 0
                    },
                    {
                        "id": "ee0cac1c.3b7c3",
                        "port": 0
                    },
                    {
                        "id": "1732dcca.1a2903",
                        "port": 0
                    },
                    {
                        "id": "acc8dc6a.4246f",
                        "port": 0
                    },
                    {
                        "id": "56324a59.cc82b4",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 1320,
            "y": 240,
            "wires": [
                {
                    "id": "27e86256.4bd24e",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c99beb5f.614cb8",
        "type": "subflow",
        "name": "Light Enabeled",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "d21593f0.281a6"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 80,
                "wires": [
                    {
                        "id": "976640e9.63cfd",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 580,
            "y": 180,
            "wires": [
                {
                    "id": "4fdcf2d1.2bd64c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c8930ccb.6e912",
        "type": "subflow",
        "name": "Subflow 1",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 0
                    }
                ]
            },
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 1
                    }
                ]
            },
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "95167fef.b6134",
        "type": "subflow",
        "name": "Lights",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 140,
                "wires": [
                    {
                        "id": "26870d78.89b472"
                    },
                    {
                        "id": "e7c7e2aa.37a72"
                    },
                    {
                        "id": "ab9063bb.93cdb"
                    },
                    {
                        "id": "e6f595a8.bbe788"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1660,
                "y": 180,
                "wires": [
                    {
                        "id": "998943e2.e0d0f",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "room",
                "type": "str",
                "value": "room"
            },
            {
                "name": "illumenance",
                "type": "num",
                "value": "200"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 1740,
            "y": 520,
            "wires": [
                {
                    "id": "7c2eceab.3f7bf",
                    "port": 0
                },
                {
                    "id": "d40dbe57.f0a9c",
                    "port": 0
                },
                {
                    "id": "12e98816.16dea8",
                    "port": 0
                },
                {
                    "id": "91a7fb27.153388",
                    "port": 0
                },
                {
                    "id": "7619e08.a8fb32",
                    "port": 0
                },
                {
                    "id": "efc9c5a8.94ff98",
                    "port": 0
                },
                {
                    "id": "4e96a6d5.febc48",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "dccbff74.2769",
        "type": "node-hue-bridge",
        "name": "Hue Bridge",
        "address": "192.168.1.53",
        "key": "VBGb8l3baRWQyLpSQK2-GAB6H0UsRj37n3e51l3O",
        "interval": "10000"
    },
    {
        "id": "c40d1711.7fd448",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "oivheg",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "8d9ae12b.2a6f5",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8a264f87.d9145",
        "type": "ui_group",
        "name": "1ETG",
        "tab": "8d9ae12b.2a6f5",
        "order": 5,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "530528aa.2006c8",
        "type": "pushbullet-config",
        "name": "Øivind"
    },
    {
        "id": "d1934670.897a88",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: Norsk",
        "language": "no"
    },
    {
        "id": "a967d384.f5115",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: RU",
        "language": "ru"
    },
    {
        "id": "35cb409b.4a073",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: ENG",
        "language": "en"
    },
    {
        "id": "5ee6b185.35f2d",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.44",
        "name": "Stue: RU",
        "language": "ru"
    },
    {
        "id": "429b8253.24d1dc",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.44",
        "name": "Stue: NO",
        "language": "no"
    },
    {
        "id": "ca3eef.3da5b11",
        "type": "ui_group",
        "name": "Kjeller",
        "tab": "8d9ae12b.2a6f5",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "56a8be2a.9b9eb",
        "type": "ui_group",
        "name": "House",
        "tab": "8d9ae12b.2a6f5",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "efd0ae.1a06bf5",
        "type": "ui_group",
        "name": "1 Etg",
        "tab": "8d9ae12b.2a6f5",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "12895ae7.9c6bf5",
        "type": "deconz-server",
        "name": "Zigbee",
        "ip": "192.168.1.103",
        "port": "80",
        "apikey": "235159C37F",
        "ws_port": "8088",
        "secure": false,
        "polling": "15"
    },
    {
        "id": "1f05e387.5d527c",
        "type": "ui_tab",
        "name": "List",
        "icon": "dashboard"
    },
    {
        "id": "54f6a8ea.957eb8",
        "type": "nora-config",
        "name": "hegglunds",
        "group": "",
        "notify": false
    },
    {
        "id": "99977a8c.c02588",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "movement",
        "name": "",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "1.x"
    },
    {
        "id": "583fffe9.e7d8f",
        "type": "ui_group",
        "name": "Bevegelse",
        "tab": "1f05e387.5d527c",
        "order": 1,
        "disp": true,
        "width": 24,
        "collapse": false
    },
    {
        "id": "6708f2f6.06829c",
        "type": "miio-roborock-server",
        "name": "Mr Robot",
        "ip": "192.168.1.90",
        "token": "4e765244557a37537139316f77595245",
        "polling": "30"
    },
    {
        "id": "4ec8324b.b2dc1c",
        "type": "ambi-config",
        "clientId": "c52c175d-8388-4974-be6e-2db7abf90818",
        "clientSecret": "8046ff33-2c02-4aa7-95d5-cb71848032dd",
        "username": "oivheg@gmail.com",
        "password": "y4mHub&PcsW0%p!I"
    },
    {
        "id": "fae123cb.bd4b2",
        "type": "futurehome-login",
        "displayName": "Øivind",
        "site_name": "Hegglunds",
        "base_uri": "futurehome.no/",
        "username": "oivheg@gmail.com"
    },
    {
        "id": "3587f56e.3de5ba",
        "type": "castv2-connection",
        "name": "",
        "target": "SHIELD",
        "host": "",
        "port": "8009"
    },
    {
        "id": "374dd77b.cadc38",
        "type": "ui_group",
        "name": "Happy",
        "tab": "8d9ae12b.2a6f5",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "74ecc7dd.ae2238",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.44",
        "name": "Stude: ENG",
        "language": "en"
    },
    {
        "id": "8850956.8b49b68",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.67",
        "name": "office",
        "language": "en"
    },
    {
        "id": "862863a9.265f3",
        "type": "castv2-connection",
        "name": "",
        "target": "Office speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "639afec7.a73a3",
        "type": "castv2-connection",
        "name": "",
        "target": "Music",
        "host": "",
        "port": "8009"
    },
    {
        "id": "eca6af44.5297b",
        "type": "mqtt-broker",
        "name": "MQTT",
        "broker": "dockerpi.local",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "76384a52.7084c4",
        "type": "mqtt-broker",
        "z": "8c7725c0.d87138",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "verifyservercert": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": null,
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willRetain": null,
        "willPayload": ""
    },
    {
        "id": "c070ecdb.6d5ce",
        "type": "ui_group",
        "z": "1c11632f.f206fd",
        "name": "Click",
        "tab": "7d974e73.cf8f9",
        "order": 1,
        "disp": true,
        "width": "5"
    },
    {
        "id": "7d974e73.cf8f9",
        "type": "ui_tab",
        "z": "1c11632f.f206fd",
        "name": "Home",
        "icon": "link",
        "order": 1
    },
    {
        "id": "e45fadc8.79108",
        "type": "ui_tab",
        "name": "Start",
        "icon": "dashboard"
    },
    {
        "id": "6f086c55.b8b294",
        "type": "ui_group",
        "name": "Basement",
        "tab": "8d9ae12b.2a6f5",
        "order": 6,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "1744610e.18ab3f",
        "type": "castv2-connection",
        "name": "",
        "target": "Stue",
        "host": "",
        "port": "8009"
    },
    {
        "id": "8dccef.f4aa531",
        "type": "ui_tab",
        "name": "Home",
        "icon": "fa-home"
    },
    {
        "id": "500ed0da.64f0b",
        "type": "ui_tab",
        "name": "Klima",
        "icon": "fa-thermometer"
    },
    {
        "id": "71cdcc44.c21a44",
        "type": "ui_tab",
        "name": "Steuerung",
        "icon": "fa-power-off"
    },
    {
        "id": "90f2cd0b.33527",
        "type": "ui_tab",
        "name": "Systeminformationen",
        "icon": "fa-tachometer",
        "order": 3
    },
    {
        "id": "a3060614.236198",
        "type": "ui_tab",
        "name": "Sicherheit",
        "icon": "fa-key"
    },
    {
        "id": "78baf919.aceda8",
        "type": "ui_tab",
        "name": "Debug",
        "icon": "fa-bug"
    },
    {
        "id": "c93d9ccb.30d74",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "On\\Off",
        "func": "msg.payload;\n//msg.payload.on =  msg.payload.power === \"on\" ? true : false \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1350,
        "y": 1220,
        "wires": [
            [
                "2552d668.c01cea",
                "8f119d5d.e9645",
                "bb47679e.49ecb8"
            ]
        ]
    },
    {
        "id": "b60e383f.f82dc8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Set Karinas Office",
        "func": "let msg2 = {id: \"karina\",name:\"Karinas office\", power : msg.payload.on === true ? \"on\" : \"off\"}\nreturn msg2;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 1060,
        "wires": [
            [
                "66d9f1c.785941"
            ]
        ]
    },
    {
        "id": "2552d668.c01cea",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "Hue Lights",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Karinas office",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1590,
        "y": 1180,
        "wires": [
            [
                "e0c331e3.e6648"
            ]
        ]
    },
    {
        "id": "10016b07.ab9885",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Presence",
        "info": "",
        "x": 120,
        "y": 100,
        "wires": []
    },
    {
        "id": "7c348293.52162c",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "Every 30 seconds",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "f44e1823.867bc8"
            ]
        ]
    },
    {
        "id": "6cef8202.47cb9c",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Determine device presence",
        "func": "const lastSeenSeconds = 70;\nlet presenceCutoff = (new Date() - (lastSeenSeconds * 1000)) / 1000; \nconst people = {\n    \"presence/heggland\": \"heggland\",\n    \"presence/karina\": \"karina\",\n    \"presence/person3\": \"stian\"\n};\n\nreturn Object.keys(people).map(function(topic) {\n    let devices = msg.payload[0].filter(device => device.name === people[topic] && device.last_seen > presenceCutoff);\n    return {\n        topic: topic,\n        retain: true,\n        payload: devices.length > 0\n    };\n});",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1080,
        "y": 240,
        "wires": [
            [
                "d5a9cb0d.738118",
                "394f6d15.3c43e2",
                "d6d8cf38.1794d"
            ],
            [
                "d5a9cb0d.738118",
                "394f6d15.3c43e2",
                "3d692d1e.98b022"
            ],
            [
                "394f6d15.3c43e2"
            ]
        ],
        "outputLabels": [
            "oivheg ",
            "Karina ",
            "Stian"
        ]
    },
    {
        "id": "f0615fd.9f26ba",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Home",
        "func": "msg.payload = {\"mode\":\"home\"};\nglobal.set(\"Mode\", \"home\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2030,
        "y": 240,
        "wires": [
            [
                "247260f.c82dca",
                "5e0f66ea.3848a8",
                "29d24b09.012634"
            ]
        ]
    },
    {
        "id": "e4c32eed.12537",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Away",
        "func": "msg.payload = {\"mode\":\"away\"};\nglobal.set(\"Mode\", \"away\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2030,
        "y": 280,
        "wires": [
            [
                "fc4fe81e.444628",
                "77d1d4b3.4641ec"
            ]
        ]
    },
    {
        "id": "9c18ec5f.f9594",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "INFORM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 140,
        "wires": [
            [
                "6a421ae3.f71ae4",
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "ae47dd19.04f86",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "GO",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "GO",
        "payloadType": "str",
        "x": 230,
        "y": 60,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "38b19a16.a4b306",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "STOP",
        "payloadType": "str",
        "x": 230,
        "y": 100,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "3b05335c.ab790c",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 140,
        "wires": [
            [
                "7db434df.a3db2c"
            ]
        ]
    },
    {
        "id": "9430e52f.746a78",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.topic = \"Remember Garbage\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 100,
        "wires": [
            [
                "c0005e0c.a1014"
            ]
        ]
    },
    {
        "id": "37115d31.12a892",
        "type": "switch",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 180,
        "wires": [
            [
                "584db3f7.80672c"
            ],
            [
                "757cb634.cb61d8"
            ]
        ]
    },
    {
        "id": "584db3f7.80672c",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 160,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "757cb634.cb61d8",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 200,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "1329b56.bea634b",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "links": [
            "fbefe13.48c352",
            "4f3eee1e.36e83",
            "26ea56d4.267caa",
            "6cff6cc7.d00fc4",
            "7796e27e.3580ac"
        ],
        "x": 175,
        "y": 460,
        "wires": [
            [
                "477666d4.b53928"
            ]
        ]
    },
    {
        "id": "55a1471c.7ca3e8",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "30",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 460,
        "wires": [
            [
                "8bc83fb6.95689"
            ]
        ]
    },
    {
        "id": "28f59771.b88068",
        "type": "ui_button",
        "z": "bc3b2c68.b35f6",
        "name": "Søppel",
        "group": "56a8be2a.9b9eb",
        "order": 6,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Søppel",
        "tooltip": "Trykk når søppel tatt ut",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "STOP",
        "payloadType": "str",
        "topic": "FALSE",
        "x": 230,
        "y": 20,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "e24d6f6a.515a6",
        "type": "ui_toast",
        "z": "bc3b2c68.b35f6",
        "position": "top right",
        "displayTime": "10",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "Husk Søppel",
        "name": "Husk Søppel",
        "x": 970,
        "y": 60,
        "wires": []
    },
    {
        "id": "343547fd.e77fb8",
        "type": "ui_template",
        "z": "1c11632f.f206fd",
        "group": "8a264f87.d9145",
        "name": "1 ETG",
        "order": 1,
        "width": 6,
        "height": 11,
        "format": "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>\n</head>\n<body style=\"margin: 0px;\">\n\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"318\" height=\"800\"  xml:space=\"preserve\" id=\"i02XXX\">\n    <!-- Generated by PaintCode - http://www.paintcodeapp.com -->\n    <defs>\n        <pattern id=\"i1floorPlan\" patternUnits=\"userSpaceOnUse\" width=\"318\" height=\"600\" align=\"middle\">\n            <image xlink:href=\"http://toyotacarina.net/SmartHome/1stFloor.jpg\" x=\"0\" y=\"0\" width=\"318\" height=\"600\" align=\"middle\"></image>\n        </pattern>\n    </defs>\n    <rect id=\"i02XXX-floorPlan\" stroke=\"none\" fill=\"url(#i1floorPlan)\" x=\"0\" y=\"0\" width=\"318\" height=\"600\" align=\"middle\"></rect>\n    <g id=\"i02XXX-allSensors\">\n        <g id=\"i02XXX-motionSensors\" opacity=\"0.5\">\n            \n            <g id=\"Livingroom\" transform=\"translate(430,408) rotate(90)\">\n                <svg class=\"svg-rect\" width=\"149\" height=\"67\">\n                    <rect id=\"Stue\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Lys i stue</text>\n                </svg>\n            </g>\n               <g id=\"KarinasOffice\" transform=\"translate(430,40) rotate(90)\">\n                <svg class=\"svg-rect\" width=\"149\" height=\"67\">\n                    <rect id=\"Karinas office\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Karinas office</text>\n                </svg>\n            </g>\n            <g id=\"Kitchen\" transform=\"translate(0,410)\">\n                <svg class=\"svg-rect\" width=\"140\" height=\"70\">\n                    <rect id=\"Kjøkken\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Kjøkken lys</text>\n                </svg>  \n            </g>\n             <g id=\"Gusetroom\" transform=\"translate(0,150)\">\n                <svg class=\"svg-rect\" width=\"120\" height=\"75\">\n                    <rect id=\"Kontor: Lys\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Guestroom lys</text>\n                </svg>                \n            </g>\n             <g id=\"Gang\" transform=\"translate(150,100)\">\n                <svg class=\"svg-rect\" width=\"50\" height=\"75\">\n                    <rect id=\"Gangen\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Gang</text>\n                </svg>                \n            </g>\n        </g>\n    </g>\n</svg>\n\n<script>\nvar light = \"on\";\nvar name = \"lys\";\nvar retur = \"mothing\";\nfunction myFunction(clicked_id) {\n    \n    //  document.getElementById(clicked_id).style.fill=\"yellow\";\n   var fill = document.getElementById(clicked_id).style.fill;\n    if (fill ==  \"yellow\")  {\n    document.getElementById(clicked_id).style.fill=\"white\";\n    light = \"off\";\n    name = clicked_id;\n  } else {\n    document.getElementById(clicked_id).style.fill=\"yellow\";\n    light = \"on\";\n     name = clicked_id;\n    \n  }\n \n}\n\nthis.scope.action = function() { return {\"power\" :light, \"name\": name }; }\n\n</script>\n<script>\n  (function(scope){ \n\tscope.$watch('msg', function(msg) {\n\t\tif (msg){\n\t\t    console.log(msg.payload.jquerySelector);\n\t\t    console.log(document.getElementById(String(msg.payload.jquerySelector)));\n\t\t\tif (msg.payload.status ==  \"off\")  {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"white\";\n\t\t\t} else {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"yellow\";\n\t\t\t}                     \n\t\t}\n\t});\n})(scope);\n</script>\n</body>\n</html>\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 1210,
        "y": 1180,
        "wires": [
            [
                "c93d9ccb.30d74"
            ]
        ]
    },
    {
        "id": "db00bb8.82e0148",
        "type": "ui_template",
        "z": "1c11632f.f206fd",
        "group": "6f086c55.b8b294",
        "name": "Basement",
        "order": 1,
        "width": 6,
        "height": 11,
        "format": "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>\n</head>\n<body style=\"margin: 0px;\">\n\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"318\" height=\"800\"  xml:space=\"preserve\" id=\"i01XXX\">\n    <!-- Generated by PaintCode - http://www.paintcodeapp.com -->\n    <defs>\n        <pattern id=\"basementPattern\" patternUnits=\"userSpaceOnUse\" width=\"318\" height=\"600\" align=\"middle\">\n            <image xlink:href=\"http://toyotacarina.net/SmartHome/Basement.jpg\" x=\"0\" y=\"0\" width=\"318\" height=\"600\" align=\"middle\"></image>\n        </pattern>\n    </defs>\n    <rect id=\"i01XXX-floorPlan\" stroke=\"none\" fill=\"url(#basementPattern)\" x=\"0\" y=\"0\" width=\"318\" height=\"600\" align=\"middle\"></rect>\n      <g id=\"i01XXX-allSensors\">\n        <g id=\"i01XXX-motionSensors\" opacity=\"0.5\">\n     <g id=\"Basement\" transform=\"translate(320,350) rotate(90)\">\n                <svg class=\"svg-rect\" width=\"150\" height=\"60\">\n                    <rect id=\"Kjeller Gang\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Kjeller Lys</text>\n                </svg>                \n            </g>\n\t <g id=\"Vaskerom1\" transform=\"translate(110,100)\">\n                <svg class=\"svg-rect\" width=\"100\" height=\"70\">\n                    <rect id=\"Vaskerom: Lys\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Vaskerom</text>\n                </svg>                \n            </g>\n\t<g id=\"Closet1\" transform=\"translate(210,120)\">\n                <svg class=\"svg-rect\" width=\"100\" height=\"100\">\n                    <rect id=\"Closet\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Garderobe</text>\n                </svg>                \n            </g>\n    <g id=\"Soverommet\" transform=\"translate(20,370)\">\n                <svg class=\"svg-rect\" width=\"110\" height=\"130\">\n                    <rect id=\"Karina\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Soverom</text>\n                </svg>                \n            </g>\n    <g id=\"Gardin\" transform=\"translate(60,550)\">\n                <svg class=\"svg-rect\" width=\"110\" height=\"40\">\n                    <rect id=\"Sov_Gardin\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Gardin</text>\n                </svg>                \n            </g>\n        </g>   \n    </g>  \n</svg>\n<script>\nvar light = \"on\";\nvar name = \"lys\";\nvar retur = \"mothing\";\nfunction myFunction(clicked_id) {\n    \n    //  document.getElementById(clicked_id).style.fill=\"yellow\";\n   var fill = document.getElementById(clicked_id).style.fill;\n    if (fill ==  \"yellow\")  {\n    document.getElementById(clicked_id).style.fill=\"white\";\n    light = \"off\";\n    name = clicked_id;\n  } else {\n    document.getElementById(clicked_id).style.fill=\"yellow\";\n    light = \"on\";\n     name = clicked_id;\n    \n  }\n \n}\n\nthis.scope.action = function() { return {\"power\" :light, \"name\": name }; }\n\n</script>\n<script>\n  (function(scope){ \n\tscope.$watch('msg', function(msg) {\n\t\tif (msg){\n\t\t    console.log(msg.payload.jquerySelector);\n\t\t    console.log(document.getElementById(String(msg.payload.jquerySelector)));\n\t\t\tif (msg.payload.status ==  \"off\")  {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"white\";\n\t\t\t} else {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"yellow\";\n\t\t\t}                     \n\t\t}\n\t});\n})(scope);\n</script>\n</body>\n</html>\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 1200,
        "y": 1260,
        "wires": [
            [
                "c93d9ccb.30d74"
            ]
        ]
    },
    {
        "id": "c2c55e51.42bd2",
        "type": "node-hue-out",
        "z": "1c11632f.f206fd",
        "server": "dccbff74.2769",
        "lightID": "light8",
        "name": "Karinas Office",
        "x": 170,
        "y": 1060,
        "wires": [
            [
                "b60e383f.f82dc8"
            ]
        ]
    },
    {
        "id": "d937e7f8.315d88",
        "type": "node-hue-in",
        "z": "1c11632f.f206fd",
        "server": "dccbff74.2769",
        "lightID": "light8",
        "name": "Karinas Office",
        "x": 1980,
        "y": 1180,
        "wires": []
    },
    {
        "id": "6a421ae3.f71ae4",
        "type": "bigtimer",
        "z": "bc3b2c68.b35f6",
        "outtopic": "",
        "outpayload1": "",
        "outpayload2": "",
        "name": "Big Timer",
        "comment": "",
        "lat": "58.851299",
        "lon": "5.748830",
        "starttime": "1035",
        "endtime": "1320",
        "starttime2": 0,
        "endtime2": 0,
        "startoff": 0,
        "endoff": 0,
        "startoff2": 0,
        "endoff2": 0,
        "offs": 0,
        "outtext1": "GO",
        "outtext2": "STOP",
        "timeout": 1440,
        "sun": false,
        "mon": false,
        "tue": true,
        "wed": false,
        "thu": false,
        "fri": false,
        "sat": false,
        "jan": true,
        "feb": false,
        "mar": false,
        "apr": false,
        "may": true,
        "jun": false,
        "jul": false,
        "aug": false,
        "sep": true,
        "oct": false,
        "nov": false,
        "dec": false,
        "day1": 0,
        "month1": 0,
        "day2": 0,
        "month2": 0,
        "day3": 0,
        "month3": 0,
        "day4": 0,
        "month4": 0,
        "day5": 0,
        "month5": 0,
        "day6": 0,
        "month6": 0,
        "day7": "",
        "month7": "",
        "day8": "",
        "month8": "",
        "day9": "",
        "month9": "",
        "day10": "",
        "month10": "",
        "day11": "",
        "month11": "",
        "day12": "",
        "month12": "",
        "d1": 0,
        "w1": 0,
        "d2": 0,
        "w2": 0,
        "d3": 0,
        "w3": 0,
        "d4": 0,
        "w4": 0,
        "d5": 0,
        "w5": 0,
        "d6": 0,
        "w6": 0,
        "xday1": 0,
        "xmonth1": 0,
        "xday2": 0,
        "xmonth2": 0,
        "xday3": 0,
        "xmonth3": 0,
        "xday4": 0,
        "xmonth4": 0,
        "xday5": 0,
        "xmonth5": 0,
        "xday6": 0,
        "xmonth6": 0,
        "xd1": 0,
        "xw1": 0,
        "xd2": 0,
        "xw2": 0,
        "xd3": 0,
        "xw3": 0,
        "xd4": 0,
        "xw4": 0,
        "xd5": 0,
        "xw5": 0,
        "xd6": 0,
        "xw6": 0,
        "suspend": false,
        "random": false,
        "repeat": false,
        "atstart": true,
        "odd": false,
        "even": false,
        "x": 360,
        "y": 180,
        "wires": [
            [
                "47a496d1.bcac18"
            ],
            [
                "47a496d1.bcac18",
                "37115d31.12a892"
            ],
            []
        ]
    },
    {
        "id": "394f6d15.3c43e2",
        "type": "and-gate",
        "z": "8b99f8fe.7b27b8",
        "name": "Er Borte",
        "rules": [
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/heggland"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/person3"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/karina"
            }
        ],
        "outputTopic": "Gone",
        "gateType": "and",
        "emitOnlyIfTrue": true,
        "x": 1400,
        "y": 280,
        "wires": [
            [
                "77b78689.5eac68"
            ]
        ]
    },
    {
        "id": "d5a9cb0d.738118",
        "type": "or-gate",
        "z": "8b99f8fe.7b27b8",
        "name": "Er Hjemme",
        "rules": [
            {
                "t": "true",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/heggland"
            },
            {
                "t": "true",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/karina"
            },
            {
                "t": "true",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/person3"
            }
        ],
        "outputTopic": "Home",
        "gateType": "or",
        "emitOnlyIfTrue": true,
        "x": 1410,
        "y": 240,
        "wires": [
            [
                "a5d3065e.5a0698"
            ]
        ]
    },
    {
        "id": "47a496d1.bcac18",
        "type": "traffic",
        "z": "bc3b2c68.b35f6",
        "name": "Traffic sample",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 700,
        "y": 80,
        "wires": [
            [
                "e24d6f6a.515a6",
                "9430e52f.746a78",
                "3b05335c.ab790c",
                "b5be7475.8e3328"
            ]
        ]
    },
    {
        "id": "e2460a6c.579118",
        "type": "Unifi",
        "z": "8b99f8fe.7b27b8",
        "name": "Heggland",
        "ip": "178.128.169.181",
        "port": 8443,
        "site": "7vyhbfa5",
        "command": "20",
        "unifios": false,
        "x": 860,
        "y": 240,
        "wires": [
            [
                "6cef8202.47cb9c"
            ]
        ]
    },
    {
        "id": "61ee7057.5df1f",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 460,
        "wires": [
            [],
            [
                "ebfc5adc.7672f8"
            ]
        ]
    },
    {
        "id": "ea100c04.f677b",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "d1934670.897a88",
        "name": "Kjeller: Norsk",
        "x": 2050,
        "y": 60,
        "wires": []
    },
    {
        "id": "1dd6721c.ecdc0e",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "a967d384.f5115",
        "name": "Kjeller:RU",
        "x": 2040,
        "y": 100,
        "wires": []
    },
    {
        "id": "d09cfa06.b99e18",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "429b8253.24d1dc",
        "name": "Stue: NO",
        "x": 2020,
        "y": 400,
        "wires": []
    },
    {
        "id": "e239cc32.ce75b",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller: NO",
        "links": [],
        "x": 1775,
        "y": 60,
        "wires": [
            [
                "ea100c04.f677b"
            ]
        ]
    },
    {
        "id": "be178b19.a730f8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller:  RU",
        "links": [],
        "x": 1775,
        "y": 100,
        "wires": [
            [
                "1dd6721c.ecdc0e"
            ]
        ]
    },
    {
        "id": "c9b1af2b.75dac",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller: ENG",
        "links": [],
        "x": 1775,
        "y": 140,
        "wires": [
            [
                "dc258474.c2c088"
            ]
        ]
    },
    {
        "id": "342f3c87.de1764",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: RU",
        "links": [],
        "x": 1775,
        "y": 180,
        "wires": [
            [
                "2df34fb1.a7855"
            ]
        ]
    },
    {
        "id": "fee9f406.ef48d8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: ENG",
        "links": [
            "6c568696.26a908",
            "7db434df.a3db2c",
            "976db23e.1f8ba",
            "64758e77.619e7",
            "1217ddf6.8b7182"
        ],
        "x": 1775,
        "y": 240,
        "wires": [
            [
                "3cf8582.5c410a8"
            ]
        ]
    },
    {
        "id": "d8761e25.88f1d",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: NO",
        "links": [
            "eb9070bf.75d39",
            "9dde96a4.f1d6d8"
        ],
        "x": 1755,
        "y": 400,
        "wires": [
            [
                "d09cfa06.b99e18"
            ]
        ]
    },
    {
        "id": "7db434df.a3db2c",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "links": [
            "15d28c99.680783",
            "fee9f406.ef48d8"
        ],
        "x": 1095,
        "y": 140,
        "wires": []
    },
    {
        "id": "c0005e0c.a1014",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "SÃ¸ppel_Push",
        "links": [
            "9d6f976b.5d59f8"
        ],
        "x": 1095,
        "y": 100,
        "wires": []
    },
    {
        "id": "e812b99e.e523f8",
        "type": "pushbullet",
        "z": "1c11632f.f206fd",
        "config": "530528aa.2006c8",
        "pushtype": "note",
        "title": "",
        "chan": "",
        "name": "Notification",
        "x": 2010,
        "y": 460,
        "wires": []
    },
    {
        "id": "9d6f976b.5d59f8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Pushbullet",
        "links": [
            "e7746f47.54cbc",
            "c0005e0c.a1014",
            "976db23e.1f8ba",
            "c0909415.c77af8"
        ],
        "x": 1755,
        "y": 460,
        "wires": [
            [
                "e812b99e.e523f8"
            ]
        ]
    },
    {
        "id": "fdbf838e.f9e58",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 520,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "ddc8b687.374538",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "00:15:8d:00:01:4a:08:f7-01-0006",
        "device_name": "Happy sulten : ZHASwitch",
        "topic": "",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 80,
        "wires": [
            [
                "547e3ce0.793284",
                "933b65ba.415558"
            ],
            []
        ]
    },
    {
        "id": "547e3ce0.793284",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "d": true,
        "name": "Happy outside ",
        "func": "msg.payload = \"Happy wants to GO Inside \";\nmsg.emitVolume =50;\n\n\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Inside\",\n        \"description\": msg.payload,\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 80,
        "wires": [
            [
                "ba60c720.f08e38"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "976db23e.1f8ba",
        "type": "link out",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "links": [
            "9d6f976b.5d59f8",
            "fee9f406.ef48d8",
            "15d28c99.680783"
        ],
        "x": 815,
        "y": 80,
        "wires": []
    },
    {
        "id": "eb90ae51.1af18",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "00:15:8d:00:01:9d:e5:2c-01-0006",
        "device_name": "Happy vil ut : ZHASwitch",
        "topic": "",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 140,
        "wires": [
            [
                "4f048068.a4401",
                "ddeb10c8.abffe"
            ],
            []
        ]
    },
    {
        "id": "4f048068.a4401",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "d": true,
        "name": "Happy hungry",
        "func": "msg.payload = \"Happy is hungry\";\nmsg.emitVolume =50;\n\n\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Eat\",\n        \"description\": \"Happy wants to eat\",\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ebfc5adc.7672f8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 460,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "3de649e9.5c9be6",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "to bedroom",
        "links": [],
        "x": 1395,
        "y": 480,
        "wires": []
    },
    {
        "id": "a085a6f7.ae8698",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 480,
        "wires": [
            [
                "3de649e9.5c9be6"
            ]
        ]
    },
    {
        "id": "66d9f1c.785941",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Update State_1_floor",
        "func": "let systemState = global.get(\"State_1_floor\") || {};\n\n        let name = msg.name;\n        let power = msg.power ;\n        let pay = { name,power}\n        let id = msg.id;\n        systemState[id] = pay;\n    \n\nglobal.set(\"State_1_floor\", systemState);\n\n\nreturn msg;\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 1180,
        "wires": [
            [
                "389edf89.60cfe"
            ]
        ]
    },
    {
        "id": "389edf89.60cfe",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Set State_1_floor",
        "func": "let systemState = global.get(\"State_1_floor\") || {};\n\n\n\n    for(var k in systemState)\n    {\n        name = systemState[k].name\n        status = systemState[k].power \n        pay = {jquerySelector: name, status}\n        msg.payload = pay\n        node.send(msg)\n    }\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 1180,
        "wires": [
            [
                "343547fd.e77fb8"
            ]
        ]
    },
    {
        "id": "a4770dbb.04eff",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "button press",
        "property": "payload.buttonevent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "2002",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1002",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 400,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "20238790.e84df8",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 440,
        "wires": [
            [
                "1bb57f45.872e71",
                "26caebff.0ab3c4",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "4182b18c.6b705",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "CLOSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "255",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 400,
        "wires": [
            [
                "1bb57f45.872e71",
                "112531d1.56298e",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "6c1d6758.428808",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "IK: Sov",
        "links": [
            "fd49ca1d.879ac8",
            "b630d8c.cb7f128",
            "fc4fe81e.444628"
        ],
        "x": 355,
        "y": 360,
        "wires": [
            [
                "6bb5ecbc.1d0e04"
            ]
        ]
    },
    {
        "id": "cec0f8cb.33f1b8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 360,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "247260f.c82dca",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: HOME",
        "links": [
            "3072aa8d.fc3b66",
            "8456ad2c.7b492",
            "e17d0a43.b0e048"
        ],
        "x": 2155,
        "y": 180,
        "wires": []
    },
    {
        "id": "fc4fe81e.444628",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: Away",
        "links": [
            "1fd53d4.656cfc3",
            "6c1d6758.428808",
            "8456ad2c.7b492",
            "e17d0a43.b0e048"
        ],
        "x": 2155,
        "y": 380,
        "wires": []
    },
    {
        "id": "79007779.8a0088",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Update State_basement",
        "func": "let systemState = global.get(\"State_basement\") || {};\n\n     let name = msg.name;\n        let power = msg.power ;\n        let pay = { name,power}\n        let id = msg.id;\n        systemState[id] = pay;\nglobal.set(\"State_basement\", systemState);\n\nreturn msg;\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 690,
        "y": 1260,
        "wires": [
            [
                "3054be45.205a62"
            ]
        ]
    },
    {
        "id": "3054be45.205a62",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Set State_basement",
        "func": "let systemState = global.get(\"State_basement\") || {};\n\n\n\n    for(var k in systemState)\n    {\n        name = systemState[k].name\n        status = systemState[k].power \n        pay = {jquerySelector: name, status}\n        msg.payload = pay\n        node.send(msg)\n    }\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 1260,
        "wires": [
            [
                "db00bb8.82e0148"
            ]
        ]
    },
    {
        "id": "b1e4c558.fb5618",
        "type": "ui_ui_control",
        "z": "1c11632f.f206fd",
        "name": "",
        "events": "connect",
        "x": 640,
        "y": 1220,
        "wires": [
            [
                "c316115f.3e237"
            ]
        ]
    },
    {
        "id": "74a70908.bd50d8",
        "type": "inject",
        "z": "605ae98f.8a9998",
        "name": "Åpne Gardin 07 00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 290,
        "y": 320,
        "wires": [
            [
                "8818e486.2765d8"
            ]
        ]
    },
    {
        "id": "8f119d5d.e9645",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "Gardiner",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Sov_Gardin",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1580,
        "y": 1260,
        "wires": [
            [
                "e2e0325d.993a1"
            ]
        ]
    },
    {
        "id": "e2e0325d.993a1",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.on",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1760,
        "y": 1260,
        "wires": [
            [
                "b630d8c.cb7f128"
            ]
        ]
    },
    {
        "id": "b630d8c.cb7f128",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Ikea: Gardin SOV",
        "links": [
            "6c1d6758.428808"
        ],
        "x": 1875,
        "y": 1260,
        "wires": []
    },
    {
        "id": "7f15ef4a.ce4ca",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload.devices.power",
        "x": 410,
        "y": 1320,
        "wires": [
            [
                "79007779.8a0088"
            ]
        ]
    },
    {
        "id": "d8a4e608.f39898",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Sm: Gardin",
        "links": [
            "bb45bf3b.5ab5f"
        ],
        "x": 215,
        "y": 1320,
        "wires": [
            [
                "7f15ef4a.ce4ca"
            ]
        ]
    },
    {
        "id": "bb45bf3b.5ab5f",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "",
        "links": [
            "d8a4e608.f39898"
        ],
        "x": 1315,
        "y": 400,
        "wires": []
    },
    {
        "id": "9ab1a383.0f88b",
        "type": "ui_list",
        "z": "1b14ec1b.20ab54",
        "group": "374dd77b.cadc38",
        "name": "Happy",
        "order": 1,
        "width": 6,
        "height": 5,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Happy",
        "x": 910,
        "y": 100,
        "wires": []
    },
    {
        "id": "6fce2655.029658",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "date",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1830,
        "y": 280,
        "wires": [
            [
                "e4c32eed.12537"
            ]
        ]
    },
    {
        "id": "e1dcab5a.66f5f8",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "11:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 560,
        "wires": [
            [
                "2e0d79f5.69a796"
            ],
            []
        ]
    },
    {
        "id": "2e0d79f5.69a796",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Movement Morning",
        "links": [
            "1d2eacde.d050c3"
        ],
        "x": 555,
        "y": 560,
        "wires": []
    },
    {
        "id": "1d2eacde.d050c3",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Home Mode",
        "links": [
            "2e0d79f5.69a796"
        ],
        "x": 1655,
        "y": 200,
        "wires": [
            [
                "3e6914e6.deefec"
            ]
        ]
    },
    {
        "id": "3e6914e6.deefec",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1850,
        "y": 200,
        "wires": [
            [],
            [
                "f0615fd.9f26ba"
            ]
        ]
    },
    {
        "id": "525d4b6.a82efb4",
        "type": "nora-blinds",
        "z": "605ae98f.8a9998",
        "devicename": "Blinds",
        "roomhint": "Bedroom",
        "name": "",
        "passthru": false,
        "invert": false,
        "nora": "54f6a8ea.957eb8",
        "topic": "rullegardin",
        "x": 770,
        "y": 500,
        "wires": [
            [
                "d6717b22.f0d1e8"
            ]
        ]
    },
    {
        "id": "26caebff.0ab3c4",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "func": "msg.payload = {openPercent : 100};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 480,
        "wires": [
            [
                "525d4b6.a82efb4"
            ]
        ]
    },
    {
        "id": "112531d1.56298e",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Close",
        "func": "msg.payload = {openPercent : 0};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 440,
        "wires": [
            [
                "525d4b6.a82efb4"
            ]
        ]
    },
    {
        "id": "d6717b22.f0d1e8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload.openPercent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "100",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 770,
        "y": 440,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "1bb57f45.872e71",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "",
        "func": "        msg.payload = {devices:{id: \"id\",name: \"Sov_Gardin\", power: (msg.payload === 0) ? \"off\" : \"on\"}};\n      \n        \n   \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 400,
        "wires": [
            [
                "bb45bf3b.5ab5f"
            ]
        ]
    },
    {
        "id": "2603c373.b06f0c",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 630,
        "y": 320,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "817f1df1.c5f98",
        "type": "exec",
        "z": "1c11632f.f206fd",
        "command": "node-red-restart",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 1360,
        "y": 80,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "aecb8d48.af66f",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1160,
        "y": 80,
        "wires": [
            [
                "817f1df1.c5f98"
            ]
        ]
    },
    {
        "id": "772b0560.6b8bcc",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "heggland",
        "links": [
            "d871d736.d19838"
        ],
        "x": 1495,
        "y": 160,
        "wires": []
    },
    {
        "id": "47763aff.5ff334",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "karina",
        "links": [
            "b9ab5a15.2f2aa8",
            "84abded8.462ac"
        ],
        "x": 1495,
        "y": 200,
        "wires": []
    },
    {
        "id": "8a2b5b04.944b38",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 1220,
        "wires": [
            [
                "3054be45.205a62",
                "389edf89.60cfe"
            ]
        ]
    },
    {
        "id": "602fce3c.7d792",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Get Motion ",
        "query": "select * from Motion ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 850,
        "y": 160,
        "wires": [
            [
                "4c3aea37.34b724"
            ]
        ]
    },
    {
        "id": "991ef94.bba8508",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "Movement",
        "order": 1,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Movement",
        "x": 1250,
        "y": 160,
        "wires": []
    },
    {
        "id": "8f9dc82d.0e7b28",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 120,
        "wires": [
            [
                "4c3aea37.34b724"
            ]
        ]
    },
    {
        "id": "fc896ae2.2631d8",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.mode\n    listdata.icon_name = \"fa-home\";\n    if(listdata.title == \"away\"){\n         listdata.icon_name = \"fa-sign-out\";\n    }else if (listdata.title == \"sleep\"){\n         listdata.icon_name = \"fa-bed\";\n    }\n    \n    listdata.title = msg.payload.mode + \": \" + msg.payload.time.toLocaleTimeString();\n    listdata.description = msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1050,
        "y": 280,
        "wires": [
            [
                "9525b6d6.0d24b8"
            ],
            [
                "3f602c1d.afdeb4"
            ]
        ]
    },
    {
        "id": "fbde8b9b.41d5c8",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Get Mode",
        "query": "select * from Mode ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 840,
        "y": 260,
        "wires": [
            [
                "fc896ae2.2631d8"
            ]
        ]
    },
    {
        "id": "3f602c1d.afdeb4",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "Mode",
        "order": 2,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Mode",
        "x": 1230,
        "y": 280,
        "wires": []
    },
    {
        "id": "9525b6d6.0d24b8",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 240,
        "wires": [
            [
                "fc896ae2.2631d8"
            ]
        ]
    },
    {
        "id": "4c3aea37.34b724",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.name + \": \" + msg.payload.time.toLocaleTimeString();\n    listdata.icon_name =  \"fa-stop\";\n    if(msg.payload.movement === true){\n           listdata.icon_name = \"fa-play\";\n    }\n    \n    \n    listdata.description =  msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "x": 1049,
        "y": 163,
        "wires": [
            [
                "8f9dc82d.0e7b28"
            ],
            [
                "991ef94.bba8508"
            ]
        ]
    },
    {
        "id": "3d1162d0.861b9e",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.name\n    listdata.icon_name = \"fa-home\";\n    if(msg.payload.Status === false){\n         listdata.icon_name = \"fa-sign-out\";\n    }\n    \n    listdata.title = msg.payload.name + \": \" + msg.payload.Status;\n    listdata.description = \"KL:  \" + msg.payload.time.toLocaleTimeString() + \" \" + msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "x": 1050,
        "y": 380,
        "wires": [
            [
                "13992971.9f5ad7"
            ],
            [
                "7867cbfa.2c5394"
            ]
        ]
    },
    {
        "id": "d3a7cd73.75602",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Get UserState",
        "query": "select * from UserState ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 860,
        "y": 360,
        "wires": [
            [
                "3d1162d0.861b9e"
            ]
        ]
    },
    {
        "id": "7867cbfa.2c5394",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "userState",
        "order": 2,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Mode",
        "x": 1240,
        "y": 380,
        "wires": []
    },
    {
        "id": "13992971.9f5ad7",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "3d1162d0.861b9e"
            ]
        ]
    },
    {
        "id": "8818e486.2765d8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "sleepLonger",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 320,
        "wires": [
            [
                "2603c373.b06f0c"
            ]
        ]
    },
    {
        "id": "77ccbb67.9f0614",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Motion",
        "measurement": "Motion",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 220,
        "wires": []
    },
    {
        "id": "6c66c8c9.ee9c18",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Store Movement",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    name:msg.topic,\n    movement: msg.payload\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 220,
        "wires": [
            [
                "77ccbb67.9f0614"
            ]
        ]
    },
    {
        "id": "93ef5d70.0130e",
        "type": "link in",
        "z": "f487aa99.386108",
        "name": "Movement Status",
        "links": [
            "b6bc1feb.434cf",
            "96c7928d.91306",
            "947d038a.551e7",
            "1549e12e.f9b98f",
            "5a15544b.c6b1ac",
            "c30c4c38.708fe",
            "ee25b1da.bb3eb",
            "b6ae8f46.335be"
        ],
        "x": 175,
        "y": 220,
        "wires": [
            [
                "6c66c8c9.ee9c18"
            ]
        ]
    },
    {
        "id": "fdbcb7b8.ece208",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Store Mode",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    mode:global.get(\"Mode\")\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 260,
        "wires": [
            [
                "5da10e65.4ab27"
            ]
        ]
    },
    {
        "id": "5da10e65.4ab27",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Mode",
        "measurement": "Mode",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 260,
        "wires": []
    },
    {
        "id": "5b63eaae.4cbcf4",
        "type": "link in",
        "z": "f487aa99.386108",
        "name": "Mode Status",
        "links": [
            "973fda0d.893748",
            "47e242b5.0edd6c"
        ],
        "x": 175,
        "y": 260,
        "wires": [
            [
                "fdbcb7b8.ece208"
            ]
        ]
    },
    {
        "id": "e665b73a.350dd8",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Users",
        "measurement": "UserState",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 300,
        "wires": []
    },
    {
        "id": "1ad64b95.49d574",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Store Person",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    name:msg.topic,\n    Status: msg.payload\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "e665b73a.350dd8"
            ]
        ]
    },
    {
        "id": "e3ae9576.18be48",
        "type": "link in",
        "z": "f487aa99.386108",
        "name": "Person Status",
        "links": [
            "3220b5b9.05cd2a",
            "19836afb.acbac5"
        ],
        "x": 175,
        "y": 300,
        "wires": [
            [
                "1ad64b95.49d574"
            ]
        ]
    },
    {
        "id": "8ea3f755.e68d88",
        "type": "miio-roborock-command",
        "z": "8b99f8fe.7b27b8",
        "name": "Mr Robot Start",
        "server": "6708f2f6.06829c",
        "command_name": "► Start",
        "command": "app_start",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 2620,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "5e0f66ea.3848a8",
        "type": "miio-roborock-command",
        "z": "8b99f8fe.7b27b8",
        "name": "Mr Robot STOP",
        "server": "6708f2f6.06829c",
        "command_name": "◼ Stop & dock",
        "command": "app_stop_dock",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 2620,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "3572fdf5.48cc62",
        "type": "miio-roborock-event",
        "z": "1c11632f.f206fd",
        "name": "Mr Robot",
        "server": "6708f2f6.06829c",
        "outputAtStartup": true,
        "x": 260,
        "y": 80,
        "wires": [
            [
                "1f150a19.40f1f6"
            ]
        ]
    },
    {
        "id": "704455a7.c3d2ec",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "Mr Robot",
        "label": "{{label}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 3,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-bolt",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 800,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "9ae92a2b.99c9c8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Convert Data",
        "func": "     msg.label = msg.status.state_text;\n     //msg.payload = global.get(\"Mode\");\n     msg.payload = false;\n     if(msg.label === \"charging\"){\n         msg.payload = true;\n     }\n     \n     \n     msg.label = \"Mr Robot is \" + msg.label; \n     \n \nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 80,
        "wires": [
            [
                "704455a7.c3d2ec"
            ]
        ]
    },
    {
        "id": "f44e1823.867bc8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Guestmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 530,
        "y": 240,
        "wires": [
            [
                "a4626cbe.2a6a4"
            ]
        ]
    },
    {
        "id": "a4626cbe.2a6a4",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "!vacation",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "vacation",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 700,
        "y": 240,
        "wires": [
            [
                "e2460a6c.579118"
            ]
        ]
    },
    {
        "id": "77d1d4b3.4641ec",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 2270,
        "y": 280,
        "wires": [
            [
                "accd6d3d.10c09"
            ],
            []
        ]
    },
    {
        "id": "accd6d3d.10c09",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "12",
        "extend": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2450,
        "y": 280,
        "wires": [
            [
                "8ea3f755.e68d88"
            ]
        ]
    },
    {
        "id": "a76ee99e.e4d718",
        "type": "json",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 310,
        "y": 140,
        "wires": [
            [
                "5c6e44d5.cb5f8c"
            ]
        ]
    },
    {
        "id": "84ab604.32a85a",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Mode",
                "pt": "global",
                "to": "payload.site.mode",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 60,
        "wires": [
            [
                "47e242b5.0edd6c"
            ]
        ]
    },
    {
        "id": "39dd072e.b84138",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1270,
        "y": 60,
        "wires": [
            [
                "84ab604.32a85a"
            ],
            [
                "84ab604.32a85a"
            ]
        ]
    },
    {
        "id": "8e07c57f.92d158",
        "type": "rbe",
        "z": "e3737c94.fd59f",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload.site.mode",
        "x": 1130,
        "y": 60,
        "wires": [
            [
                "39dd072e.b84138"
            ]
        ]
    },
    {
        "id": "77d4a580.a4a38c",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "Type/ Function",
        "func": "\n\nif(typeof  msg.payload.site !== \"undefined\")\n{\n    var Mode = msg.payload.site.mode;\n return msg; \n} \n\nif(typeof  msg.payload.devices === \"undefined\"  ||  msg.payload.devices === null)\n{\n    //node.warn(\"no Device\");\n    return null;\n}\n\nif(typeof  msg.payload.devices[0].functionality !== \"undefined\" && msg.payload.devices[0].functionality !== null )\n{\n \n    if (msg.payload.devices[0].functionality == \"lighting\") {\n        var Light = {};\n        Light.name = msg.payload.devices[0].name;\n        Light.power = msg.payload.devices[0].power;\n        Light.Room = msg.payload.devices[0].room;\n        Light.id = msg.payload.devices[0].id;\n       return [null,Light];  \n    }\n     if (msg.payload.devices[0].functionality == \"heating\") {\n        var Heat = {};\n        Heat.name = msg.payload.devices[0].name;\n        Heat.power = msg.payload.devices[0].power;\n        Heat.Room = msg.payload.devices[0].room;\n        Heat.id = msg.payload.devices[0].id;\n       return [null,null,Heat];  \n    }\n    if (msg.payload.devices[0].functionality == \"appliance\") {\n        var appliance = {};\n        appliance.name = msg.payload.devices[0].name;\n        appliance.power = msg.payload.devices[0].power;\n        appliance.Room = msg.payload.devices[0].room;\n        appliance.id = msg.payload.devices[0].id;\n       return [null,null,null,null,appliance];  \n    }\n \n} else if (msg.payload.devices[0].functionality === null){\n   \n    var mvmnt = {};\n        mvmnt.name = msg.payload.devices[0].name;\n        mvmnt.topic = mvmnt.name;\n        mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = msg.payload.devices[0].room;\n        mvmnt.id = msg.payload.devices[0].id;\n        mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.payload = msg.payload.devices[0].presence;\n        \n    return [null,null,null,mvmnt];  \n}\n\n  \n",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 140,
        "wires": [
            [
                "8e07c57f.92d158"
            ],
            [
                "8ad3e3c1.ae8ea",
                "c5c2b5a2.bb5b18"
            ],
            [
                "f2e0b439.cfe148"
            ],
            [
                "dd32e2f.5d7022",
                "c601c69e.6137e8",
                "277f34fb.de5d9c",
                "63ddbc3d.17bc34"
            ],
            [
                "f57725ce.089018"
            ]
        ],
        "outputLabels": [
            "Mode",
            "Light",
            "Heat",
            "Movement",
            "appliance"
        ]
    },
    {
        "id": "47e242b5.0edd6c",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Mode Out",
        "links": [
            "5b63eaae.4cbcf4"
        ],
        "x": 1575,
        "y": 60,
        "wires": []
    },
    {
        "id": "8ad3e3c1.ae8ea",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Light_OUT",
        "links": [
            "babcae54.9d1a9",
            "d7b6736b.b8d49",
            "cb008c94.5ff1f"
        ],
        "x": 1095,
        "y": 100,
        "wires": []
    },
    {
        "id": "babcae54.9d1a9",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Light IN",
        "links": [
            "8ad3e3c1.ae8ea"
        ],
        "x": 215,
        "y": 1220,
        "wires": [
            [
                "598481d4.859ad"
            ]
        ]
    },
    {
        "id": "598481d4.859ad",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Gangen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjøkken",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Stue",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kontor: Lys",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjeller Gang",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Karina",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Vaskerom: Lys",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 8,
        "x": 410,
        "y": 1220,
        "wires": [
            [
                "66d9f1c.785941"
            ],
            [
                "66d9f1c.785941"
            ],
            [
                "66d9f1c.785941"
            ],
            [
                "66d9f1c.785941"
            ],
            [
                "79007779.8a0088"
            ],
            [
                "79007779.8a0088"
            ],
            [
                "79007779.8a0088"
            ],
            [
                "79007779.8a0088"
            ]
        ]
    },
    {
        "id": "7422f190.1aacf",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "11",
        "device_id": "11",
        "name": "Stue",
        "x": 1130,
        "y": 440,
        "wires": []
    },
    {
        "id": "ae05daf4.f22088",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "10",
        "device_id": "10",
        "name": "Kjøkken",
        "x": 960,
        "y": 560,
        "wires": []
    },
    {
        "id": "57f7d91c.4946d8",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "17",
        "device_id": "17",
        "name": "Kjeller Gang",
        "x": 970,
        "y": 600,
        "wires": []
    },
    {
        "id": "a60ec8c0.5360a8",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "15",
        "device_id": "15",
        "name": "Vaskerom: Lys",
        "x": 980,
        "y": 680,
        "wires": []
    },
    {
        "id": "9d11c4da.344988",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "9",
        "device_id": "9",
        "name": "Closet",
        "x": 950,
        "y": 720,
        "wires": []
    },
    {
        "id": "472600f9.2afc6",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "20",
        "device_id": "20",
        "name": "Karina",
        "x": 950,
        "y": 760,
        "wires": []
    },
    {
        "id": "78b65f45.8b367",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "5",
        "device_id": "5",
        "name": "Kontor: Lys",
        "x": 970,
        "y": 800,
        "wires": []
    },
    {
        "id": "3de67605.ae865a",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "21",
        "device_id": "21",
        "name": "Gangen",
        "x": 960,
        "y": 640,
        "wires": []
    },
    {
        "id": "4bc3c84.d3b2838",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "FH:What Light",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Stue",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjøkken",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjeller Gang",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Gangen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Vaskerom: Lys",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Karina",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kontor: Lys",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 8,
        "x": 380,
        "y": 660,
        "wires": [
            [
                "7422f190.1aacf"
            ],
            [
                "ae05daf4.f22088"
            ],
            [
                "57f7d91c.4946d8"
            ],
            [
                "3de67605.ae865a"
            ],
            [
                "a60ec8c0.5360a8"
            ],
            [
                "9d11c4da.344988"
            ],
            [
                "472600f9.2afc6"
            ],
            [
                "78b65f45.8b367"
            ]
        ]
    },
    {
        "id": "aebee55b.78c578",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Status ",
        "info": "",
        "x": 130,
        "y": 80,
        "wires": []
    },
    {
        "id": "84619273.5b4a6",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Lights",
        "info": "",
        "x": 130,
        "y": 440,
        "wires": []
    },
    {
        "id": "93258667.8e8568",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "Lights",
        "links": [
            "bb47679e.49ecb8"
        ],
        "x": 135,
        "y": 660,
        "wires": [
            [
                "4bc3c84.d3b2838"
            ]
        ]
    },
    {
        "id": "bb47679e.49ecb8",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Lights_Out",
        "links": [
            "93258667.8e8568"
        ],
        "x": 1875,
        "y": 1220,
        "wires": []
    },
    {
        "id": "bb42f486.70c538",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Phillips Hue",
        "info": "",
        "x": 250,
        "y": 1000,
        "wires": []
    },
    {
        "id": "3fe65b32.abf894",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Futurehome",
        "info": "",
        "x": 250,
        "y": 1160,
        "wires": []
    },
    {
        "id": "3224de96.1f5772",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Deconz",
        "info": "",
        "x": 230,
        "y": 1260,
        "wires": []
    },
    {
        "id": "316049d.5ab63b6",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "FloorPlan",
        "info": "",
        "x": 180,
        "y": 940,
        "wires": []
    },
    {
        "id": "128705ae.2e87ba",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Status / INFO",
        "info": "",
        "x": 210,
        "y": 40,
        "wires": []
    },
    {
        "id": "1ecef1db.323e0e",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "Status",
        "label": "{{label}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "home",
        "onvalueType": "str",
        "onicon": "fa-home",
        "oncolor": "Green",
        "offvalue": "away",
        "offvalueType": "str",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 790,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "f679bcb.a33044",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Convert Data",
        "func": "     msg.label = global.get(\"Mode\");\n     msg.payload = global.get(\"Mode\");\n \nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 140,
        "wires": [
            [
                "1ecef1db.323e0e"
            ]
        ]
    },
    {
        "id": "8456ad2c.7b492",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "247260f.c82dca",
            "fc4fe81e.444628"
        ],
        "x": 215,
        "y": 140,
        "wires": [
            [
                "f679bcb.a33044"
            ]
        ]
    },
    {
        "id": "e45c34de.f632c8",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "heggland",
        "label": "Øivind",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 3,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-user",
        "oncolor": "Green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-user",
        "offcolor": "orange",
        "x": 800,
        "y": 200,
        "wires": [
            [
                "b670eaa0.8e6998",
                "fe7d3938.a5fd88"
            ]
        ]
    },
    {
        "id": "741be682.621ef8",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "karina",
        "label": "Karina",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-user",
        "oncolor": "Green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-user",
        "offcolor": "orange",
        "x": 790,
        "y": 240,
        "wires": [
            [
                "b670eaa0.8e6998",
                "f4cc46fb.79d698"
            ]
        ]
    },
    {
        "id": "d871d736.d19838",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "772b0560.6b8bcc"
        ],
        "x": 215,
        "y": 200,
        "wires": [
            [
                "45a078fc.952f68"
            ]
        ]
    },
    {
        "id": "84abded8.462ac",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "47763aff.5ff334"
        ],
        "x": 215,
        "y": 240,
        "wires": [
            [
                "e9824990.fac3a8"
            ]
        ]
    },
    {
        "id": "19836afb.acbac5",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Person Out",
        "links": [
            "e3ae9576.18be48"
        ],
        "x": 1155,
        "y": 220,
        "wires": []
    },
    {
        "id": "f530a672.6d7088",
        "type": "mode",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "Home mode",
        "mode": "home",
        "x": 470,
        "y": 340,
        "wires": []
    },
    {
        "id": "3072aa8d.fc3b66",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "Home Mode",
        "links": [
            "247260f.c82dca"
        ],
        "x": 135,
        "y": 340,
        "wires": [
            [
                "33127a60.00f3f6"
            ]
        ]
    },
    {
        "id": "80fca135.106b7",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Change Mode",
        "info": "",
        "x": 130,
        "y": 240,
        "wires": []
    },
    {
        "id": "820037b0.c8cac8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: English",
        "func": "msg.payload = \"Welcome Home Karina\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "f4fa0e6f.b6cf2",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: Norsk",
        "func": "msg.payload = \"Velkommen Hjem Karina\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "abeca5ba.816198",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: Russisk",
        "func": "msg.payload = \"я люблю тебя\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 180,
        "wires": [
            [
                "2df34fb1.a7855"
            ]
        ]
    },
    {
        "id": "d1068875.e54d18",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Sleep",
        "func": "msg.payload = {\"mode\":\"sleep\"};\nglobal.set(\"Mode\", \"sleep\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1250,
        "y": 520,
        "wires": [
            [
                "c9b7d9c6.2c46e8"
            ]
        ]
    },
    {
        "id": "c9b7d9c6.2c46e8",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "links": [
            "1fd53d4.656cfc3"
        ],
        "x": 1395,
        "y": 520,
        "wires": []
    },
    {
        "id": "52999902.dc1b78",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Set Sleep status",
        "info": "",
        "x": 140,
        "y": 400,
        "wires": []
    },
    {
        "id": "b670eaa0.8e6998",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "topic",
                "pt": "msg",
                "from": "presence/",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 220,
        "wires": [
            [
                "19836afb.acbac5"
            ]
        ]
    },
    {
        "id": "f2e0b439.cfe148",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Heating",
        "links": [],
        "x": 1095,
        "y": 140,
        "wires": []
    },
    {
        "id": "d4cd1de.82711e",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Movement oppe",
        "links": [
            "be2ad471.d9c448"
        ],
        "x": 1815,
        "y": 160,
        "wires": []
    },
    {
        "id": "8d3b028a.588a3",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 1610,
        "y": 180,
        "wires": [
            [
                "d4cd1de.82711e"
            ],
            [
                "b951c7f1.f25428"
            ]
        ]
    },
    {
        "id": "b951c7f1.f25428",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Movement Nede",
        "links": [
            "f66e7e24.aca9d"
        ],
        "x": 1815,
        "y": 200,
        "wires": []
    },
    {
        "id": "57ba7f31.9cd56",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Off",
        "group": "efd0ae.1a06bf5",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "x": 830,
        "y": 480,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "ed7a3ab.c4f31c8",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "On",
        "group": "efd0ae.1a06bf5",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "x": 830,
        "y": 440,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "d2142d17.21a64",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Auto",
        "group": "efd0ae.1a06bf5",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "auto",
        "x": 830,
        "y": 520,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "7f7ea747.fb10a8",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "auto",
        "x": 830,
        "y": 560,
        "wires": [
            [
                "6987ca2e.892e94",
                "ff979eb7.893f3",
                "32131fe0.68d4c",
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "71871582.621a2c",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Off",
        "group": "ca3eef.3da5b11",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "x": 830,
        "y": 640,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "8cc2264a.376548",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "On",
        "group": "ca3eef.3da5b11",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "x": 830,
        "y": 600,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "80ef18fb.d3bc48",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Auto",
        "group": "ca3eef.3da5b11",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "auto",
        "x": 830,
        "y": 680,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "54bf5eae.c8ef3",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "Room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "upstairs",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "gangen",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "bedroom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 410,
        "y": 520,
        "wires": [
            [
                "6add0bf.60245f4"
            ],
            [
                "530ebd3a.88d104"
            ],
            [
                "3de67605.ae865a"
            ],
            [
                "472600f9.2afc6"
            ]
        ]
    },
    {
        "id": "64bc6db.9a90194",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "Room",
        "links": [
            "6e1a0143.f51f8",
            "e9e9aaf2.37c198"
        ],
        "x": 134,
        "y": 521,
        "wires": [
            [
                "5da7627f.49119c"
            ]
        ]
    },
    {
        "id": "5da7627f.49119c",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "",
        "func": "var msg2 = {payload:{power: msg.payload === true ? \"on\" : \"off\" }};\nmsg2.room = msg.room;\nreturn msg2;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 520,
        "wires": [
            [
                "54bf5eae.c8ef3"
            ]
        ]
    },
    {
        "id": "45a078fc.952f68",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 590,
        "y": 200,
        "wires": [
            [
                "e45c34de.f632c8"
            ]
        ]
    },
    {
        "id": "e9824990.fac3a8",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 590,
        "y": 240,
        "wires": [
            [
                "741be682.621ef8"
            ]
        ]
    },
    {
        "id": "f08e4592.a992e8",
        "type": "catch",
        "z": "e3737c94.fd59f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 360,
        "y": 40,
        "wires": [
            [
                "3aaddf77.5c70f"
            ]
        ]
    },
    {
        "id": "3aaddf77.5c70f",
        "type": "debug",
        "z": "e3737c94.fd59f",
        "name": "ERROR",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 520,
        "y": 40,
        "wires": []
    },
    {
        "id": "e0c331e3.e6648",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.on",
                "pt": "msg",
                "to": "payload.power",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1790,
        "y": 1180,
        "wires": [
            [
                "d937e7f8.315d88"
            ]
        ]
    },
    {
        "id": "22d0e1ba.e0cbce",
        "type": "complete",
        "z": "f487aa99.386108",
        "name": "",
        "scope": [
            "77ccbb67.9f0614",
            "5da10e65.4ab27",
            "e665b73a.350dd8",
            "23cd8333.cca3dc",
            "dffa2b6b.ff3df8"
        ],
        "uncaught": false,
        "x": 610,
        "y": 260,
        "wires": [
            [
                "602fce3c.7d792",
                "fbde8b9b.41d5c8",
                "d3a7cd73.75602"
            ]
        ]
    },
    {
        "id": "4ad4e281.7dd9ac",
        "type": "ambi-comfort-mode",
        "z": "8b99f8fe.7b27b8",
        "oauthClient": "4ec8324b.b2dc1c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "x": 2520,
        "y": 80,
        "wires": []
    },
    {
        "id": "af800f77.82ef5",
        "type": "ambi-away-temp-upper",
        "z": "8b99f8fe.7b27b8",
        "oauthClient": "4ec8324b.b2dc1c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "value": "21",
        "x": 2190,
        "y": 440,
        "wires": []
    },
    {
        "id": "6bb5ecbc.1d0e04",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 360,
        "wires": [
            [
                "d87cbd2e.f854f"
            ]
        ]
    },
    {
        "id": "d87cbd2e.f854f",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 360,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "d6d8cf38.1794d",
        "type": "rbe",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1390,
        "y": 160,
        "wires": [
            [
                "772b0560.6b8bcc"
            ]
        ]
    },
    {
        "id": "3d692d1e.98b022",
        "type": "rbe",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "47763aff.5ff334"
            ]
        ]
    },
    {
        "id": "6d8cd486.3ac49c",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse StueVtoalett",
        "server": "12895ae7.9c6bf5",
        "device": "ec:1b:bd:ff:fe:3f:85:d8-01-0006",
        "device_name": "1etg: Stue-Gang : ZHAPresence",
        "topic": "StueVtoalett",
        "state": "0",
        "output": "always",
        "outputAtStartup": true,
        "x": 300,
        "y": 100,
        "wires": [
            [
                "8b7a0dc.31806f"
            ],
            []
        ]
    },
    {
        "id": "e92f253c.11b9b8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Trapp",
        "links": [
            "be2ad471.d9c448"
        ],
        "x": 700,
        "y": 100,
        "wires": []
    },
    {
        "id": "3bfccd97.de6142",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Gangen",
        "server": "12895ae7.9c6bf5",
        "device": "ec:1b:bd:ff:fe:a2:fd:03-01-0006",
        "device_name": "Gang : ZHAPresence",
        "topic": "",
        "state": "0",
        "output": "always",
        "outputAtStartup": true,
        "x": 290,
        "y": 160,
        "wires": [
            [
                "84d4238b.16cfe"
            ],
            []
        ]
    },
    {
        "id": "328ec247.9e5eee",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Gang",
        "links": [
            "be2ad471.d9c448",
            "dcf434ce.e89888"
        ],
        "x": 695,
        "y": 160,
        "wires": []
    },
    {
        "id": "5c6e44d5.cb5f8c",
        "type": "delay",
        "z": "e3737c94.fd59f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 520,
        "y": 140,
        "wires": [
            [
                "77d4a580.a4a38c"
            ]
        ]
    },
    {
        "id": "a9d1416e.a3b5b",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Basic Simple",
        "info": "This example uses the Lifx platform. The Lifx node works well with the thing nodes, as it requires no initization to receive inbound messages. And the Lifx node already uses the MAC address as the message topic, so the Lifx Things are setup with the MAC address as their ID.",
        "x": 1070,
        "y": 20,
        "wires": []
    },
    {
        "id": "c5c2b5a2.bb5b18",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "FH THINGS",
        "links": [
            "4724ce19.c03d7",
            "6f3ff7ed.42d758",
            "4903a515.087a4c"
        ],
        "x": 775,
        "y": 240,
        "wires": []
    },
    {
        "id": "f57725ce.089018",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "",
        "links": [],
        "x": 1095,
        "y": 280,
        "wires": []
    },
    {
        "id": "352f3a96.368046",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "name": "SHIELD",
        "connection": "3587f56e.3de5ba",
        "spotifyAccessToken": "",
        "spotifyAccessTokenExpiration": "",
        "spotifyDeviceName": "",
        "x": 240,
        "y": 680,
        "wires": [
            [
                "f847eafc.0e0ae8"
            ]
        ]
    },
    {
        "id": "f847eafc.0e0ae8",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "isStandBy",
                "pt": "global",
                "to": "platform.isStandBy",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 680,
        "wires": [
            [
                "92c02252.b1e1"
            ]
        ]
    },
    {
        "id": "1f150a19.40f1f6",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "rate",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 420,
        "y": 80,
        "wires": [
            [
                "9ae92a2b.99c9c8"
            ]
        ]
    },
    {
        "id": "c316115f.3e237",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 820,
        "y": 1220,
        "wires": [
            [
                "8a2b5b04.944b38"
            ]
        ]
    },
    {
        "id": "ad29b802.69fbb8",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "1b253553.66750b"
        ],
        "x": 355,
        "y": 400,
        "wires": [
            [
                "a4770dbb.04eff"
            ]
        ]
    },
    {
        "id": "515c9831.0334b8",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "800c441a.1f78d8"
        ],
        "x": 1175,
        "y": 360,
        "wires": []
    },
    {
        "id": "84cb19d4.d232e8",
        "type": "deconz-output",
        "z": "a7af161f.d5ece8",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "group_1",
        "device_name": "○ TRADFRI open/close remote",
        "command": "on",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 710,
        "y": 520,
        "wires": []
    },
    {
        "id": "36aeb8a0.824178",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "cc:cc:cc:ff:fe:02:96:c6-01-0001",
        "device_name": "FYRTUR block-out roller blind  : ZHABattery",
        "topic": "",
        "state": 0,
        "output": "always",
        "outputAtStartup": true,
        "x": 330,
        "y": 480,
        "wires": [
            [
                "1b253553.66750b"
            ],
            []
        ]
    },
    {
        "id": "1b253553.66750b",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "ad29b802.69fbb8"
        ],
        "x": 535,
        "y": 480,
        "wires": []
    },
    {
        "id": "800c441a.1f78d8",
        "type": "link in",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "515c9831.0334b8"
        ],
        "x": 535,
        "y": 520,
        "wires": [
            [
                "84cb19d4.d232e8"
            ]
        ]
    },
    {
        "id": "c7ee4eb5.5141c",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "pushtype": "note",
        "title": "Nattmodus",
        "chan": "",
        "name": "Nattmodus",
        "x": 1450,
        "y": 600,
        "wires": []
    },
    {
        "id": "412d28c0.b59968",
        "type": "pushbullet in",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "name": "",
        "x": 620,
        "y": 640,
        "wires": [
            [
                "7483e98c.d64388"
            ]
        ]
    },
    {
        "id": "7483e98c.d64388",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Nattmodus",
        "property": "data.title",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Nattmodus",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 770,
        "y": 640,
        "wires": [
            [
                "31e59f17.de62b"
            ]
        ]
    },
    {
        "id": "31e59f17.de62b",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Dismissed?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Push dismissed",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 930,
        "y": 640,
        "wires": [
            [
                "2571016f.0085ee"
            ]
        ]
    },
    {
        "id": "fe989649.553108",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "delayNattmodus",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 520,
        "wires": [
            [
                "d1068875.e54d18"
            ],
            [
                "8bc83fb6.95689"
            ]
        ]
    },
    {
        "id": "a731240e.5da298",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "delayNattmodus",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "8bc83fb6.95689",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 600,
        "wires": [
            [
                "a731240e.5da298",
                "f67b9d7c.ac75",
                "9bbfb61b.57ed88"
            ]
        ]
    },
    {
        "id": "2571016f.0085ee",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 640,
        "wires": [
            [
                "a731240e.5da298"
            ]
        ]
    },
    {
        "id": "9bbfb61b.57ed88",
        "type": "delay",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 560,
        "wires": [
            [
                "fe989649.553108"
            ]
        ]
    },
    {
        "id": "477666d4.b53928",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 460,
        "wires": [
            [
                "61ee7057.5df1f"
            ],
            [
                "fdbf838e.f9e58",
                "e1dcab5a.66f5f8"
            ]
        ]
    },
    {
        "id": "f4cc46fb.79d698",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Karina",
        "rules": [
            {
                "t": "set",
                "p": "Karina",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "fe7d3938.a5fd88",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Øivind",
        "rules": [
            {
                "t": "set",
                "p": "oivheg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "f67b9d7c.ac75",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "oivheg",
        "property": "oivheg",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 600,
        "wires": [
            [
                "c7ee4eb5.5141c"
            ]
        ]
    },
    {
        "id": "8d086061.8b918",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "22",
        "device_id": "22",
        "name": "Ovn",
        "x": 950,
        "y": 860,
        "wires": []
    },
    {
        "id": "3229de3c.7ea162",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 420,
        "y": 860,
        "wires": [
            [
                "845f8e9d.766ea"
            ],
            [
                "2393b6f.cffe14a"
            ]
        ]
    },
    {
        "id": "845f8e9d.766ea",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "ON",
        "func": "msg.payload = {};\nmsg.payload.power = \"on\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 840,
        "wires": [
            [
                "8d086061.8b918"
            ]
        ]
    },
    {
        "id": "2393b6f.cffe14a",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "OFF",
        "func": "msg.payload = {};\nmsg.payload.power = \"off\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 880,
        "wires": [
            [
                "8d086061.8b918"
            ]
        ]
    },
    {
        "id": "8f0e361a.88e718",
        "type": "ui_switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Status",
        "label": "Guestmode",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 5,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "false",
        "onvalueType": "bool",
        "onicon": "fa-home",
        "oncolor": "Green",
        "offvalue": "true",
        "offvalueType": "bool",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 510,
        "y": 100,
        "wires": [
            [
                "e67e0c77.93b2c"
            ]
        ]
    },
    {
        "id": "e67e0c77.93b2c",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "guestmode",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "25d2169a.1e5eca",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 340,
        "y": 100,
        "wires": [
            [
                "8f0e361a.88e718"
            ]
        ]
    },
    {
        "id": "7152deea.25fcb",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "pushtype": "file",
        "title": "Tegneserier",
        "chan": "",
        "name": "Tegneserier",
        "x": 770,
        "y": 840,
        "wires": []
    },
    {
        "id": "45ed298b.458838",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 840,
        "wires": [
            [
                "e090fcff.94f85"
            ]
        ]
    },
    {
        "id": "e090fcff.94f85",
        "type": "fs-file-lister",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "start": "/usr/local/HomeSeer/html/images/Tegneserier",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "files",
        "path": true,
        "single": false,
        "depth": 0,
        "stat": false,
        "showWarnings": true,
        "x": 360,
        "y": 840,
        "wires": [
            [
                "24dfc256.71129e"
            ]
        ]
    },
    {
        "id": "24dfc256.71129e",
        "type": "delay",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "4",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 580,
        "y": 840,
        "wires": [
            [
                "7152deea.25fcb"
            ]
        ]
    },
    {
        "id": "e5f5aa31.81fff8",
        "type": "function",
        "z": "94ff8f0f.02c5a",
        "name": "Convert",
        "func": "  var mvmnt = {};\n        mvmnt.name = env.get(\"Name\");\n        mvmnt.topic = mvmnt.name;\n       // mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = env.get(\"ETG\");\n       // mvmnt.id = msg.payload.devices[0].id;\n       // mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.payload = msg.payload.presence; // presence\n        mvmnt.dark = msg.payload.dark;\nreturn mvmnt;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "84d4238b.16cfe",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Gangen",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 160,
        "wires": [
            [
                "328ec247.9e5eee"
            ]
        ]
    },
    {
        "id": "6e1a0143.f51f8",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1595,
        "y": 1100,
        "wires": []
    },
    {
        "id": "5f77e25d.b94d0c",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "gangen",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "gangen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 1220,
        "wires": [
            [
                "6e1a0143.f51f8"
            ]
        ]
    },
    {
        "id": "4ca76adb.630d34",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "name": "ON",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1110,
        "y": 1200,
        "wires": [
            [
                "5f77e25d.b94d0c"
            ]
        ]
    },
    {
        "id": "919f4101.6a8c4",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1110,
        "y": 1240,
        "wires": [
            [
                "5f77e25d.b94d0c"
            ]
        ]
    },
    {
        "id": "746a942.43c286c",
        "type": "function",
        "z": "aa0ae7ae.75d228",
        "name": "Is lights",
        "func": " var reset = {};\n    reset.reset = true;\n\nif (msg.payload === false) {\n    \n    \n    return [reset, msg]\n}\n\n\n\n  return [msg,reset] ;  \n\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 920,
        "y": 1220,
        "wires": [
            [
                "4ca76adb.630d34"
            ],
            [
                "919f4101.6a8c4"
            ]
        ]
    },
    {
        "id": "b5c52e38.5a0b5",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "name": "Bevegelse Gangen",
        "label": "Bevegelse Gangen",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 7,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 690,
        "y": 1220,
        "wires": [
            [
                "746a942.43c286c",
                "6cff6cc7.d00fc4",
                "5a15544b.c6b1ac"
            ]
        ]
    },
    {
        "id": "d21593f0.281a6",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "Light Enabelde",
        "property": "Enabeled",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "976640e9.63cfd"
            ],
            [
                "728e655.258b19c"
            ]
        ]
    },
    {
        "id": "4f3eee1e.36e83",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Movement",
        "links": [
            "1329b56.bea634b"
        ],
        "x": 835,
        "y": 1140,
        "wires": []
    },
    {
        "id": "18e793bb.41ccac",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "name": "Bevegelse oppe",
        "label": "Bevegelse Oppe {{msg.illumenance}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 8,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 680,
        "y": 980,
        "wires": [
            [
                "26ea56d4.267caa",
                "c30c4c38.708fe",
                "8e62ff61.bd6a6"
            ]
        ]
    },
    {
        "id": "a3713cf3.b331a",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "name": "Bevegelse nede",
        "label": "Bevegelse Nede {{msg.illumenance}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 10,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 680,
        "y": 1100,
        "wires": [
            [
                "4f3eee1e.36e83",
                "ee25b1da.bb3eb",
                "24849af1.e25ad6"
            ]
        ]
    },
    {
        "id": "dcf434ce.e89888",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Movement Nede",
        "links": [
            "328ec247.9e5eee"
        ],
        "x": 155,
        "y": 1220,
        "wires": [
            [
                "b5c52e38.5a0b5"
            ]
        ]
    },
    {
        "id": "5a15544b.c6b1ac",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "links": [
            "93ef5d70.0130e"
        ],
        "x": 835,
        "y": 1180,
        "wires": []
    },
    {
        "id": "be2ad471.d9c448",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Movement oppe",
        "links": [
            "d4cd1de.82711e",
            "e92f253c.11b9b8",
            "63e9f9b.1d13608",
            "328ec247.9e5eee"
        ],
        "x": 155,
        "y": 960,
        "wires": [
            [
                "167a965f.fa254a",
                "45e7346a.4285dc"
            ]
        ]
    },
    {
        "id": "f66e7e24.aca9d",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Movement Nede",
        "links": [
            "b951c7f1.f25428"
        ],
        "x": 155,
        "y": 1100,
        "wires": [
            [
                "1c3cf2d2.a6e61d"
            ]
        ]
    },
    {
        "id": "c30c4c38.708fe",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "links": [
            "93ef5d70.0130e"
        ],
        "x": 835,
        "y": 1020,
        "wires": []
    },
    {
        "id": "ee25b1da.bb3eb",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "links": [
            "93ef5d70.0130e"
        ],
        "x": 835,
        "y": 1060,
        "wires": []
    },
    {
        "id": "a45951ad.ff222",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 640,
        "wires": [
            [
                "352f3a96.368046"
            ]
        ]
    },
    {
        "id": "6987ca2e.892e94",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "btn_upstairs",
        "links": [
            "6e6f2eda.8a5af",
            "fabdb6a9.b22598"
        ],
        "x": 1055,
        "y": 480,
        "wires": []
    },
    {
        "id": "ff979eb7.893f3",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "btn_downstairs",
        "links": [
            "34407a70.7715c6",
            "56d97603.6cdfe8"
        ],
        "x": 1035,
        "y": 640,
        "wires": []
    },
    {
        "id": "99ed1ce4.90a0c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Set Upstairs lights ",
        "links": [
            "e03e153f.c778d8"
        ],
        "x": 1275,
        "y": 200,
        "wires": [
            [
                "9253d22c.17587"
            ]
        ]
    },
    {
        "id": "c825f67d.b5dba8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "set-downstaris lights",
        "links": [
            "9a820556.4df458"
        ],
        "x": 1255,
        "y": 280,
        "wires": [
            [
                "76c860b3.3a25c"
            ]
        ]
    },
    {
        "id": "e9e9aaf2.37c198",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Upstairs Reset",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 555,
        "y": 300,
        "wires": []
    },
    {
        "id": "7c9078bb.3bd958",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Basemet Reset",
        "links": [
            "7dd012b9.740fbc",
            "ad38c25a.4977e"
        ],
        "x": 1135,
        "y": 300,
        "wires": []
    },
    {
        "id": "fabdb6a9.b22598",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "btn_upstairs",
        "links": [
            "6987ca2e.892e94"
        ],
        "x": 155,
        "y": 260,
        "wires": [
            [
                "952977f1.2f4798"
            ]
        ]
    },
    {
        "id": "429f76d8.f44498",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "button",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 260,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "e9e9aaf2.37c198"
            ]
        ]
    },
    {
        "id": "56d97603.6cdfe8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "btn_downstairs",
        "links": [
            "ff979eb7.893f3"
        ],
        "x": 155,
        "y": 300,
        "wires": [
            [
                "ff0e4529.8db608"
            ]
        ]
    },
    {
        "id": "128d5a8c.8a17f5",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "button",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 300,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "e9e9aaf2.37c198"
            ]
        ]
    },
    {
        "id": "8b7a0dc.31806f",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "StueVtoalett",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 100,
        "wires": [
            [
                "e92f253c.11b9b8"
            ]
        ]
    },
    {
        "id": "167a965f.fa254a",
        "type": "and-gate",
        "z": "aa0ae7ae.75d228",
        "name": "NO Movement",
        "rules": [
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "StueVtoalett"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "Kitchen: eye"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "Kjøkken"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "Gangen"
            }
        ],
        "outputTopic": "",
        "gateType": "and",
        "emitOnlyIfTrue": true,
        "x": 300,
        "y": 920,
        "wires": [
            [
                "6a8b134f.a954ac"
            ]
        ]
    },
    {
        "id": "45e7346a.4285dc",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "Movement",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 290,
        "y": 980,
        "wires": [
            [
                "6df68a1.4455e74"
            ]
        ]
    },
    {
        "id": "6a8b134f.a954ac",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "False",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Upstairs",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 920,
        "wires": [
            [
                "6df68a1.4455e74"
            ]
        ]
    },
    {
        "id": "c660d15c.213f9",
        "type": "get-state",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "1 etg LUX",
        "get_type": "devices",
        "device_id": "23",
        "device": "23",
        "room": "",
        "x": 1620,
        "y": 120,
        "wires": [
            [
                "e03e153f.c778d8"
            ]
        ]
    },
    {
        "id": "e03e153f.c778d8",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "1 etg Lux",
        "links": [
            "99ed1ce4.90a0c"
        ],
        "x": 1815,
        "y": 120,
        "wires": []
    },
    {
        "id": "ba60c720.f08e38",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 690,
        "y": 80,
        "wires": [
            [
                "976db23e.1f8ba"
            ]
        ]
    },
    {
        "id": "76c860b3.3a25c",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "B_illumenance",
                "pt": "flow",
                "to": "payload.illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "4324ade3.0032c4",
        "type": "http request",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.154:1880/feed",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 690,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "ddeb10c8.abffe",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 500,
        "y": 140,
        "wires": [
            [
                "4324ade3.0032c4"
            ]
        ]
    },
    {
        "id": "2899fe6e.4401a2",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "FILM",
        "group": "ca3eef.3da5b11",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "{{payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "block",
        "x": 830,
        "y": 720,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "26ea56d4.267caa",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Movement",
        "links": [
            "1329b56.bea634b"
        ],
        "x": 835,
        "y": 940,
        "wires": []
    },
    {
        "id": "6cff6cc7.d00fc4",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Movement",
        "links": [
            "1329b56.bea634b"
        ],
        "x": 835,
        "y": 1260,
        "wires": []
    },
    {
        "id": "2603e6d2.f1973a",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "14bc3937.ad4257"
            ],
            []
        ]
    },
    {
        "id": "cdb73747.3ca6b8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "19:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 240,
        "wires": [
            [
                "ee0cac1c.3b7c3"
            ],
            []
        ]
    },
    {
        "id": "d3ba4ca2.8554d",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "19:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 280,
        "wires": [
            [
                "1732dcca.1a2903"
            ],
            []
        ]
    },
    {
        "id": "89e42a76.f6f2f8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 440,
        "y": 120,
        "wires": [
            [
                "c907fe20.72aa6"
            ],
            []
        ]
    },
    {
        "id": "64d46e65.a7d2e",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 420,
        "y": 160,
        "wires": [
            [
                "10faff0a.197481"
            ],
            []
        ]
    },
    {
        "id": "c907fe20.72aa6",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 120,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "1732dcca.1a2903",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 280,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "ee0cac1c.3b7c3",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 240,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "14bc3937.ad4257",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 200,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "10faff0a.197481",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000 ",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 160,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "27e86256.4bd24e",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "7e546c3.3eb7794",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 320,
        "wires": [
            [
                "acc8dc6a.4246f"
            ],
            []
        ]
    },
    {
        "id": "acc8dc6a.4246f",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 320,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "4bded5f5.5e225c",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "23:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 360,
        "wires": [
            [
                "56324a59.cc82b4"
            ],
            []
        ]
    },
    {
        "id": "56324a59.cc82b4",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 360,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "6add0bf.60245f4",
        "type": "subflow:5bd36af.4ea5494",
        "z": "e3737c94.fd59f",
        "name": "",
        "x": 570,
        "y": 460,
        "wires": [
            [
                "5dab10b.ba0abf"
            ]
        ]
    },
    {
        "id": "5dab10b.ba0abf",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "time",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "sen kveld",
                "vt": "str"
            },
            {
                "t": "else"
            },
            {
                "t": "cont",
                "v": "natt",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 3,
        "x": 710,
        "y": 460,
        "wires": [
            [
                "f0e0b293.7ed69"
            ],
            [
                "5ff58d0d.8adbf4",
                "f0e0b293.7ed69"
            ],
            [
                "3e6a4251.5c642e"
            ]
        ]
    },
    {
        "id": "530ebd3a.88d104",
        "type": "subflow:5bd36af.4ea5494",
        "z": "e3737c94.fd59f",
        "name": "",
        "x": 570,
        "y": 520,
        "wires": [
            [
                "e0c4e177.87e4f"
            ]
        ]
    },
    {
        "id": "e0c4e177.87e4f",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "time",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "cont",
                "v": "natt",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 710,
        "y": 520,
        "wires": [
            [
                "57f7d91c.4946d8"
            ],
            []
        ]
    },
    {
        "id": "976640e9.63cfd",
        "type": "subflow:5bd36af.4ea5494",
        "z": "c99beb5f.614cb8",
        "name": "TID",
        "env": [],
        "x": 410,
        "y": 80,
        "wires": [
            [
                "4fdcf2d1.2bd64c"
            ]
        ]
    },
    {
        "id": "728e655.258b19c",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "false",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 120,
        "wires": [
            [
                "976640e9.63cfd"
            ]
        ]
    },
    {
        "id": "fe85490e.fd0958",
        "type": "site",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "Hegglunds",
        "x": 120,
        "y": 140,
        "wires": [
            [
                "a76ee99e.e4d718"
            ]
        ]
    },
    {
        "id": "77b78689.5eac68",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "away",
        "op1": "false",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1610,
        "y": 280,
        "wires": [
            [
                "a5d3065e.5a0698",
                "6fce2655.029658"
            ]
        ]
    },
    {
        "id": "a5d3065e.5a0698",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "home",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1610,
        "y": 240,
        "wires": [
            [
                "77b78689.5eac68",
                "6fce2655.029658",
                "f0615fd.9f26ba"
            ]
        ]
    },
    {
        "id": "4fdcf2d1.2bd64c",
        "type": "function",
        "z": "c99beb5f.614cb8",
        "name": "",
        "func": "msg.payload = \"Light:\"+ msg.Enabeled +\"  Time:\"+ msg.topic+\"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "952977f1.2f4798",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "upstairs",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "upstairs",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 260,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "ff0e4529.8db608",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 300,
        "wires": [
            [
                "128d5a8c.8a17f5"
            ]
        ]
    },
    {
        "id": "dd32e2f.5d7022",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "d": true,
        "name": "Home",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 1130,
        "y": 220,
        "wires": [
            [
                "c601c69e.6137e8"
            ]
        ]
    },
    {
        "id": "c601c69e.6137e8",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "Gusetmode",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 1430,
        "y": 180,
        "wires": [
            [
                "8d3b028a.588a3"
            ]
        ]
    },
    {
        "id": "f2786c6b.d98eb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "GO",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 260,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "ef6b84bd.139bb8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 340,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "d2c31c81.92246",
        "type": "get-state",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "B etg LUX",
        "get_type": "devices",
        "device_id": "19",
        "device": "19",
        "room": "",
        "x": 1630,
        "y": 240,
        "wires": [
            [
                "9a820556.4df458"
            ]
        ]
    },
    {
        "id": "9a820556.4df458",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "1 etg Lux",
        "links": [
            "c825f67d.b5dba8"
        ],
        "x": 1815,
        "y": 240,
        "wires": []
    },
    {
        "id": "e69e05f8.6718d8",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1770,
        "y": 360,
        "wires": [
            [
                "e4c32eed.12537"
            ]
        ]
    },
    {
        "id": "780badae.5effd4",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "bc:33:ac:ff:fe:18:65:a7-01-0006",
        "device_name": "Soverom : ZHAPresence",
        "topic": "Bedroom",
        "state": 0,
        "output": "always",
        "outputAtStartup": true,
        "x": 290,
        "y": 220,
        "wires": [
            [
                "32a8f67f.ad5fca"
            ],
            []
        ]
    },
    {
        "id": "32a8f67f.ad5fca",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Bedroom",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 220,
        "wires": [
            [
                "9ace10c4.4ce8f"
            ]
        ]
    },
    {
        "id": "9ace10c4.4ce8f",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Soverom",
        "links": [
            "50b0d259.df502c"
        ],
        "x": 695,
        "y": 220,
        "wires": []
    },
    {
        "id": "9279ecca.4cf23",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "bedroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 1400,
        "wires": [
            [
                "6e1a0143.f51f8"
            ]
        ]
    },
    {
        "id": "ef4292f2.6c39b",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "name": "ON",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1370,
        "y": 1380,
        "wires": [
            [
                "9279ecca.4cf23"
            ]
        ]
    },
    {
        "id": "bb437d8d.3536a",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1370,
        "y": 1420,
        "wires": [
            [
                "9279ecca.4cf23"
            ]
        ]
    },
    {
        "id": "af18fdf6.83584",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "name": "Bevegelse Soverom",
        "label": "Bevegelse Soverom {{msg.illum}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 9,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 500,
        "y": 1380,
        "wires": [
            [
                "7796e27e.3580ac",
                "b6ae8f46.335be",
                "551be057.65bed"
            ]
        ]
    },
    {
        "id": "b6ae8f46.335be",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "links": [
            "93ef5d70.0130e"
        ],
        "x": 835,
        "y": 1420,
        "wires": []
    },
    {
        "id": "7796e27e.3580ac",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Movement",
        "links": [
            "1329b56.bea634b"
        ],
        "x": 835,
        "y": 1340,
        "wires": []
    },
    {
        "id": "50b0d259.df502c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Movement Soverom",
        "links": [
            "9ace10c4.4ce8f"
        ],
        "x": 155,
        "y": 1380,
        "wires": [
            [
                "af18fdf6.83584"
            ]
        ]
    },
    {
        "id": "6e045be5.c83874",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bedroom_illumenance",
                "pt": "flow",
                "to": "payload.illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "3510f454.e53bec",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "Block LIght",
        "rules": [
            {
                "t": "set",
                "p": "bedroom",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 380,
        "wires": [
            [
                "6e045be5.c83874"
            ]
        ]
    },
    {
        "id": "ce2c692a.a3a9c8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "allow LIght",
        "rules": [
            {
                "t": "set",
                "p": "bedroom",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 340,
        "wires": [
            [
                "6e045be5.c83874"
            ]
        ]
    },
    {
        "id": "c40e547e.a15af8",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "Light bedroom",
        "property": "payload.illuminance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "250",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1420,
        "y": 360,
        "wires": [
            [
                "ce2c692a.a3a9c8"
            ],
            [
                "3510f454.e53bec"
            ]
        ]
    },
    {
        "id": "3e68a854.c13848",
        "type": "traffic",
        "z": "aa0ae7ae.75d228",
        "name": "AUTO LIght",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": true,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 990,
        "y": 1380,
        "wires": [
            [
                "876c799e.859a08"
            ]
        ]
    },
    {
        "id": "32e7306b.a8497",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "button",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 340,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "e9e9aaf2.37c198"
            ]
        ]
    },
    {
        "id": "6ff82cc7.7f6d34",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "set-downstaris lights",
        "links": [],
        "x": 1275,
        "y": 360,
        "wires": [
            [
                "c40e547e.a15af8"
            ]
        ]
    },
    {
        "id": "f7029354.44404",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Bedroom Reset",
        "links": [
            "27734f04.1bd46",
            "939d1d44.2632e"
        ],
        "x": 1135,
        "y": 340,
        "wires": []
    },
    {
        "id": "e54806fb.80a248",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "bedroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 340,
        "wires": [
            [
                "32e7306b.a8497"
            ]
        ]
    },
    {
        "id": "1aceef23.4fc291",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "btn_Bedroom",
        "links": [
            "fb14610a.ba0cf"
        ],
        "x": 155,
        "y": 340,
        "wires": [
            [
                "e54806fb.80a248"
            ]
        ]
    },
    {
        "id": "dd4605d3.809e18",
        "type": "inject",
        "z": "f487aa99.386108",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 530,
        "y": 140,
        "wires": [
            [
                "602fce3c.7d792",
                "fbde8b9b.41d5c8",
                "d3a7cd73.75602"
            ]
        ]
    },
    {
        "id": "641555a3.3a90ec",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Upstairs Reset",
        "links": [
            "442ce5b6.a24c4c",
            "9c7d5bc1.e49d18",
            "fa7d22ca.bd10f"
        ],
        "x": 1135,
        "y": 260,
        "wires": []
    },
    {
        "id": "f725ec81.1653e",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 1340,
        "wires": [
            [
                "bb437d8d.3536a",
                "ef4292f2.6c39b"
            ]
        ]
    },
    {
        "id": "27734f04.1bd46",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "RESET Soverom",
        "links": [
            "f7029354.44404"
        ],
        "x": 1095,
        "y": 1340,
        "wires": [
            [
                "f725ec81.1653e"
            ]
        ]
    },
    {
        "id": "3ceb6365.4b21bc",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "Room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "upstairs",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "bedroom",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 3,
        "x": 710,
        "y": 300,
        "wires": [
            [
                "af4303d0.15fad"
            ],
            [
                "d3c43c4.fea9bc"
            ],
            [
                "882dbe4f.06e99"
            ]
        ]
    },
    {
        "id": "af4303d0.15fad",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "STOP/GO",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 880,
        "y": 260,
        "wires": [
            [
                "641555a3.3a90ec"
            ],
            [
                "641555a3.3a90ec"
            ]
        ]
    },
    {
        "id": "d3c43c4.fea9bc",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "STOP/GO",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 880,
        "y": 300,
        "wires": [
            [
                "7c9078bb.3bd958"
            ],
            [
                "7c9078bb.3bd958"
            ]
        ]
    },
    {
        "id": "882dbe4f.06e99",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "STOP/GO",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 880,
        "y": 340,
        "wires": [
            [
                "f7029354.44404",
                "ce2c692a.a3a9c8"
            ],
            [
                "f7029354.44404",
                "3510f454.e53bec"
            ]
        ]
    },
    {
        "id": "29d24b09.012634",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 2270,
        "y": 80,
        "wires": [
            [
                "4ad4e281.7dd9ac"
            ],
            []
        ]
    },
    {
        "id": "933b65ba.415558",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "name": "Happy hungry",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Happy wants  to go INSIDE\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\n\n\n\n\nlet msg2 = {};\n\n\n\n\n\nmsg2.payload = [ {\n        \"title\": \"Outside\",\n        \"description\": msg.payload,\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 40,
        "wires": [
            [
                "ba60c720.f08e38"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "2df34fb1.a7855",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "5ee6b185.35f2d",
        "name": "Stue:RU",
        "x": 2040,
        "y": 180,
        "wires": []
    },
    {
        "id": "dc258474.c2c088",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "35cb409b.4a073",
        "name": "Kjeller:english",
        "x": 2060,
        "y": 140,
        "wires": []
    },
    {
        "id": "a17425f6.276c18",
        "type": "http in",
        "z": "bd342fd3.e926f",
        "name": "Facedetected",
        "url": "/facedetected",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 300,
        "y": 200,
        "wires": [
            [
                "b4a2c165.ca205"
            ]
        ]
    },
    {
        "id": "b4a2c165.ca205",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 200,
        "wires": []
    },
    {
        "id": "ec85161f.bf0468",
        "type": "http in",
        "z": "bd342fd3.e926f",
        "name": "Facedetected",
        "url": "/facedetected",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 290,
        "y": 260,
        "wires": [
            [
                "b4f0d10d.f591a",
                "6a7bf4f5.17715c",
                "3f496c12.523bd4"
            ]
        ]
    },
    {
        "id": "b4f0d10d.f591a",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.detected",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 260,
        "wires": []
    },
    {
        "id": "6a7bf4f5.17715c",
        "type": "http response",
        "z": "bd342fd3.e926f",
        "name": "respose",
        "statusCode": "200",
        "headers": {
            "resposne": "ok"
        },
        "x": 800,
        "y": 200,
        "wires": []
    },
    {
        "id": "48804df1.d0f5e4",
        "type": "function",
        "z": "bd342fd3.e926f",
        "name": "Happy outside ",
        "func": "var name = msg.payload.detected\n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"\"+name+\" have been detected\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 820,
        "y": 300,
        "wires": [
            [
                "1217ddf6.8b7182"
            ]
        ]
    },
    {
        "id": "1217ddf6.8b7182",
        "type": "link out",
        "z": "bd342fd3.e926f",
        "name": "",
        "links": [
            "fee9f406.ef48d8"
        ],
        "x": 945,
        "y": 280,
        "wires": []
    },
    {
        "id": "eeb4b0da.ffdb",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "429b8253.24d1dc",
        "name": "Stue: NO",
        "x": 2220,
        "y": 200,
        "wires": []
    },
    {
        "id": "2c60aaf7.c413a6",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: English",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Øivind have been detected\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1590,
        "y": 280,
        "wires": [
            [
                "3cf8582.5c410a8"
            ]
        ]
    },
    {
        "id": "5c7f0a8.bbb0af4",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1390,
        "y": 240,
        "wires": [
            [
                "2c60aaf7.c413a6"
            ]
        ]
    },
    {
        "id": "3cf8582.5c410a8",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "name": "",
        "connection": "862863a9.265f3",
        "spotifyAccessToken": "",
        "spotifyAccessTokenExpiration": "",
        "spotifyDeviceName": "",
        "x": 2060,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "3f496c12.523bd4",
        "type": "delay",
        "z": "bd342fd3.e926f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 560,
        "y": 320,
        "wires": [
            [
                "48804df1.d0f5e4"
            ]
        ]
    },
    {
        "id": "5f513ec6.e7e15",
        "type": "inject",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 20,
        "wires": [
            [
                "933b65ba.415558"
            ]
        ]
    },
    {
        "id": "dd227924.f03a78",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "name": "ALLE",
        "connection": "639afec7.a73a3",
        "spotifyAccessToken": "",
        "spotifyAccessTokenExpiration": "",
        "spotifyDeviceName": "",
        "x": 2030,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "15d28c99.680783",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: ENG",
        "links": [
            "7db434df.a3db2c",
            "976db23e.1f8ba",
            "a16f5c34.ba508"
        ],
        "x": 1775,
        "y": 300,
        "wires": [
            [
                "dd227924.f03a78"
            ]
        ]
    },
    {
        "id": "24b6d06c.7e0e6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "bc:33:ac:ff:fe:16:8f:b1-01-0006",
        "device_name": "Kjøkken : ZHAPresence",
        "topic": "",
        "state": 0,
        "output": "always",
        "outputAtStartup": true,
        "x": 280,
        "y": 280,
        "wires": [
            [
                "c993abab.7f54d8"
            ],
            []
        ]
    },
    {
        "id": "5ff58d0d.8adbf4",
        "type": "delay",
        "z": "e3737c94.fd59f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 920,
        "y": 360,
        "wires": [
            [
                "7422f190.1aacf"
            ]
        ]
    },
    {
        "id": "f0e0b293.7ed69",
        "type": "delay",
        "z": "e3737c94.fd59f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 920,
        "y": 400,
        "wires": [
            [
                "7422f190.1aacf",
                "ae05daf4.f22088"
            ]
        ]
    },
    {
        "id": "3e6a4251.5c642e",
        "type": "delay",
        "z": "e3737c94.fd59f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 920,
        "y": 440,
        "wires": [
            [
                "ae05daf4.f22088"
            ]
        ]
    },
    {
        "id": "9c7d5bc1.e49d18",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Block Upstairs",
        "links": [
            "641555a3.3a90ec",
            "d6d31aed.f07d78"
        ],
        "x": 895,
        "y": 940,
        "wires": [
            [
                "791ea92c.7869c8"
            ]
        ]
    },
    {
        "id": "7dd012b9.740fbc",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Block Basement",
        "links": [
            "7c9078bb.3bd958",
            "d6d31aed.f07d78"
        ],
        "x": 1015,
        "y": 1060,
        "wires": [
            [
                "eaaa5c11.94943"
            ]
        ]
    },
    {
        "id": "939d1d44.2632e",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Block Bedroom",
        "links": [
            "f7029354.44404"
        ],
        "x": 875,
        "y": 1340,
        "wires": [
            [
                "3e68a854.c13848"
            ]
        ]
    },
    {
        "id": "65f5a4f8.7de8fc",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "S-Off",
        "group": "ca3eef.3da5b11",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "icon": "fa-bed",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "x": 830,
        "y": 820,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "d2e37f4b.df0e9",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "S-On",
        "group": "ca3eef.3da5b11",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "fa-bed",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "x": 830,
        "y": 780,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "fb14610a.ba0cf",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "btn_Bedroom",
        "links": [
            "1aceef23.4fc291",
            "d9e85afd.05fb38"
        ],
        "x": 1035,
        "y": 800,
        "wires": []
    },
    {
        "id": "216a5566.53b0aa",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "S-Auto",
        "group": "ca3eef.3da5b11",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "auto",
        "x": 830,
        "y": 860,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "7284606e.34aff",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 180,
        "wires": [
            [
                "d6d31aed.f07d78",
                "f33c2274.35e8f"
            ]
        ]
    },
    {
        "id": "e17d0a43.b0e048",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "RESET lights",
        "links": [
            "247260f.c82dca",
            "fc4fe81e.444628"
        ],
        "x": 155,
        "y": 180,
        "wires": [
            [
                "7284606e.34aff"
            ]
        ]
    },
    {
        "id": "d6d31aed.f07d78",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "RESET",
        "links": [
            "ad38c25a.4977e",
            "442ce5b6.a24c4c",
            "9c7d5bc1.e49d18",
            "7dd012b9.740fbc"
        ],
        "x": 435,
        "y": 180,
        "wires": []
    },
    {
        "id": "551be057.65bed",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 1380,
        "wires": [
            [
                "3e68a854.c13848"
            ]
        ]
    },
    {
        "id": "92c02252.b1e1",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 510,
        "y": 720,
        "wires": [
            [
                "14b799fe.fd5db6"
            ],
            [
                "247a7dc5.f58342"
            ]
        ]
    },
    {
        "id": "247a7dc5.f58342",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Ser på TV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 740,
        "wires": [
            [
                "2899fe6e.4401a2"
            ]
        ]
    },
    {
        "id": "14b799fe.fd5db6",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "black",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TV er AV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 700,
        "wires": [
            [
                "2899fe6e.4401a2"
            ]
        ]
    },
    {
        "id": "dbfcd776.f2b518",
        "type": "function",
        "z": "c8930ccb.6e912",
        "name": "",
        "func": "let green = {\"background\": \"lightgreen\"};\nlet orange = {\"background\": \"orange\"};\nlet grey = {\"background\": \"grey\"};\nlet red = {\"background\": \"Crimson\"};\nswitch(msg.topic) {\n  case \"on\":\n    return [green, grey,grey];\n    \n  case \"off\":\n     return [grey, red,grey];\n   \n   case \"auto\":\n     return [grey, grey, orange];\n}\n\nreturn msg;",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 200,
        "y": 80,
        "wires": [
            [],
            [],
            []
        ],
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "d9e85afd.05fb38",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "btn_Color",
        "links": [
            "fb14610a.ba0cf"
        ],
        "x": 495,
        "y": 820,
        "wires": [
            [
                "1d4bef5d.bd33a1"
            ]
        ]
    },
    {
        "id": "1d4bef5d.bd33a1",
        "type": "subflow:c8930ccb.6e912",
        "z": "1c11632f.f206fd",
        "name": "Bedroom",
        "env": [],
        "x": 600,
        "y": 820,
        "wires": [
            [
                "d2e37f4b.df0e9"
            ],
            [
                "65f5a4f8.7de8fc"
            ],
            [
                "216a5566.53b0aa"
            ]
        ]
    },
    {
        "id": "790d26f6.d423a8",
        "type": "subflow:c8930ccb.6e912",
        "z": "1c11632f.f206fd",
        "name": "Basement",
        "env": [],
        "x": 640,
        "y": 640,
        "wires": [
            [
                "8cc2264a.376548"
            ],
            [
                "71871582.621a2c"
            ],
            [
                "80ef18fb.d3bc48"
            ]
        ]
    },
    {
        "id": "2b70efb5.d5416",
        "type": "subflow:c8930ccb.6e912",
        "z": "1c11632f.f206fd",
        "name": "Upstairs",
        "env": [],
        "x": 640,
        "y": 480,
        "wires": [
            [
                "ed7a3ab.c4f31c8"
            ],
            [
                "57ba7f31.9cd56"
            ],
            [
                "d2142d17.21a64"
            ]
        ]
    },
    {
        "id": "34407a70.7715c6",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "btn_B-Color",
        "links": [
            "ff979eb7.893f3"
        ],
        "x": 495,
        "y": 640,
        "wires": [
            [
                "790d26f6.d423a8"
            ]
        ]
    },
    {
        "id": "6e6f2eda.8a5af",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "btn_U-Color",
        "links": [
            "6987ca2e.892e94"
        ],
        "x": 495,
        "y": 480,
        "wires": [
            [
                "2b70efb5.d5416"
            ]
        ]
    },
    {
        "id": "277f34fb.de5d9c",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "clean",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 240,
        "wires": [
            [
                "d2c31c81.92246"
            ]
        ]
    },
    {
        "id": "63ddbc3d.17bc34",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "clean",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 120,
        "wires": [
            [
                "c660d15c.213f9"
            ]
        ]
    },
    {
        "id": "32131fe0.68d4c",
        "type": "time-range-switch",
        "z": "1c11632f.f206fd",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1150,
        "y": 580,
        "wires": [
            [
                "fb14610a.ba0cf",
                "ff979eb7.893f3"
            ],
            []
        ]
    },
    {
        "id": "b5be7475.8e3328",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Please Remember to Take out the TRASH\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 180,
        "wires": [
            [
                "a16f5c34.ba508"
            ]
        ]
    },
    {
        "id": "a16f5c34.ba508",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "Garbage out",
        "links": [
            "15d28c99.680783"
        ],
        "x": 1095,
        "y": 180,
        "wires": []
    },
    {
        "id": "c993abab.7f54d8",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Kjøkken",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 280,
        "wires": [
            [
                "63e9f9b.1d13608"
            ]
        ]
    },
    {
        "id": "63e9f9b.1d13608",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Kjøkken",
        "links": [
            "be2ad471.d9c448"
        ],
        "x": 695,
        "y": 280,
        "wires": []
    },
    {
        "id": "95557cc6.e0f9e",
        "type": "ui_ui_control",
        "z": "f487aa99.386108",
        "name": "",
        "events": "change",
        "x": 590,
        "y": 100,
        "wires": [
            [
                "602fce3c.7d792",
                "fbde8b9b.41d5c8",
                "d3a7cd73.75602"
            ]
        ]
    },
    {
        "id": "26870d78.89b472",
        "type": "traffic",
        "z": "95167fef.b6134",
        "name": "Block Light",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "13778892.2a0ed7"
            ]
        ]
    },
    {
        "id": "a11a91da.5ad24",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 120,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8",
                "91a7fb27.153388"
            ]
        ]
    },
    {
        "id": "938ec30b.4297f",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "ON",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1190,
        "y": 160,
        "wires": [
            [
                "a85cb1de.b2ab"
            ]
        ]
    },
    {
        "id": "fb3a9993.6269b8",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1190,
        "y": 200,
        "wires": [
            [
                "50aa8aad.14fbf4"
            ]
        ]
    },
    {
        "id": "998943e2.e0d0f",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "room",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "ON",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "d9c60a4a.f09e68",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 850,
        "y": 340,
        "wires": [
            [
                "26699996.18eb86"
            ],
            []
        ]
    },
    {
        "id": "6893d036.80a4c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "20:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 870,
        "y": 380,
        "wires": [
            [
                "983ec0ae.1da1d"
            ],
            []
        ]
    },
    {
        "id": "1409254b.a545db",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "20:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 850,
        "y": 420,
        "wires": [
            [
                "74c885f8.41bd8c"
            ],
            []
        ]
    },
    {
        "id": "b2a9199c.b4fc38",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 880,
        "y": 260,
        "wires": [
            [
                "ba2cd27b.bb893"
            ],
            []
        ]
    },
    {
        "id": "353f5328.0939bc",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 860,
        "y": 300,
        "wires": [
            [
                "160da951.9f50e7"
            ],
            []
        ]
    },
    {
        "id": "ba2cd27b.bb893",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 260,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "74c885f8.41bd8c",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 420,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "983ec0ae.1da1d",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 380,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "26699996.18eb86",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "160da951.9f50e7",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000 ",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 300,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "73c4a487.cd543c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 870,
        "y": 460,
        "wires": [
            [
                "e147de11.45dc6"
            ],
            []
        ]
    },
    {
        "id": "e147de11.45dc6",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 460,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "c1a57d04.02dd2",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "22:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 850,
        "y": 500,
        "wires": [
            [
                "9a4c1b75.c30428"
            ],
            []
        ]
    },
    {
        "id": "9a4c1b75.c30428",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "13778892.2a0ed7",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "Status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "49d59fdb.c8f13",
                "fb3a9993.6269b8"
            ],
            [
                "c4a96eb5.113cc"
            ]
        ]
    },
    {
        "id": "7c2eceab.3f7bf",
        "type": "function",
        "z": "95167fef.b6134",
        "name": "Status",
        "func": "msg.payload = (msg.delay/60000) + \"Mins\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1270,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "e7c7e2aa.37a72",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 120,
        "wires": [
            [
                "a11a91da.5ad24"
            ],
            [
                "56f4f77c.b52a78"
            ]
        ]
    },
    {
        "id": "56f4f77c.b52a78",
        "type": "link out",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "d40dbe57.f0a9c"
        ],
        "x": 495,
        "y": 120,
        "wires": []
    },
    {
        "id": "d40dbe57.f0a9c",
        "type": "link in",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "56f4f77c.b52a78"
        ],
        "x": 1295,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "12e98816.16dea8",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "91a7fb27.153388",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Reset",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "ON",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "93125ad8.268fd8",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "illumenance",
        "property": "illumenance",
        "propertyType": "flow",
        "rules": [
            {
                "t": "lt",
                "v": "illumenance",
                "vt": "env"
            },
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 850,
        "y": 160,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8"
            ],
            [
                "fb3a9993.6269b8",
                "efc9c5a8.94ff98"
            ],
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8"
            ]
        ]
    },
    {
        "id": "ab9063bb.93cdb",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "set illumenance",
        "rules": [
            {
                "t": "set",
                "p": "illumenance",
                "pt": "flow",
                "to": "illumenance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "9253d22c.17587",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "U_illumenance",
                "pt": "flow",
                "to": "payload.illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "791ea92c.7869c8",
        "type": "subflow:95167fef.b6134",
        "z": "aa0ae7ae.75d228",
        "name": "LIGHT",
        "env": [
            {
                "name": "room",
                "value": "upstairs",
                "type": "str"
            },
            {
                "name": "illumenance",
                "value": "150",
                "type": "num"
            }
        ],
        "x": 1090,
        "y": 980,
        "wires": [
            [
                "6e1a0143.f51f8"
            ]
        ]
    },
    {
        "id": "6df68a1.4455e74",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "U_illumenance",
        "rules": [
            {
                "t": "set",
                "p": "illumenance",
                "pt": "msg",
                "to": "U_illumenance",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 980,
        "wires": [
            [
                "18e793bb.41ccac"
            ]
        ]
    },
    {
        "id": "eaaa5c11.94943",
        "type": "subflow:95167fef.b6134",
        "z": "aa0ae7ae.75d228",
        "name": "LIGHT",
        "env": [
            {
                "name": "room",
                "value": "basement",
                "type": "str"
            },
            {
                "name": "illumenance",
                "value": "80",
                "type": "num"
            }
        ],
        "x": 1190,
        "y": 1100,
        "wires": [
            [
                "6e1a0143.f51f8"
            ]
        ]
    },
    {
        "id": "d18fe3d8.6ae4a",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "ON?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1010,
        "y": 1100,
        "wires": [
            [
                "eaaa5c11.94943"
            ],
            [
                "9485d59d.c5c9a8"
            ]
        ]
    },
    {
        "id": "9485d59d.c5c9a8",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "TV OFF?",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1020,
        "y": 1140,
        "wires": [
            [
                "eaaa5c11.94943"
            ],
            [
                "eaaa5c11.94943"
            ]
        ]
    },
    {
        "id": "1c3cf2d2.a6e61d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "B_illumenance",
        "rules": [
            {
                "t": "set",
                "p": "illumenance",
                "pt": "msg",
                "to": "B_illumenance",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 1100,
        "wires": [
            [
                "a3713cf3.b331a"
            ]
        ]
    },
    {
        "id": "8de46d19.0ae46",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 380,
        "y": 800,
        "wires": [
            [
                "6df68a1.4455e74"
            ]
        ]
    },
    {
        "id": "fdb78f15.0af7e",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 369.20001220703125,
        "y": 850,
        "wires": [
            [
                "6df68a1.4455e74"
            ]
        ]
    },
    {
        "id": "3edec3ca.fc4a2c",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1410,
        "y": 360,
        "wires": [
            [
                "77b78689.5eac68"
            ]
        ]
    },
    {
        "id": "39b72508.2b1b2a",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1460,
        "y": 100,
        "wires": [
            [
                "a5d3065e.5a0698"
            ]
        ]
    },
    {
        "id": "884604e4.6cfe58",
        "type": "mode",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "Away mode",
        "mode": "away",
        "x": 470,
        "y": 380,
        "wires": []
    },
    {
        "id": "1fd53d4.656cfc3",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "AWAY Mode",
        "links": [
            "c9b7d9c6.2c46e8",
            "fc4fe81e.444628"
        ],
        "x": 135,
        "y": 380,
        "wires": [
            [
                "794fbb2d.825084"
            ]
        ]
    },
    {
        "id": "33127a60.00f3f6",
        "type": "delay",
        "z": "e3737c94.fd59f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 280,
        "y": 340,
        "wires": [
            [
                "f530a672.6d7088"
            ]
        ]
    },
    {
        "id": "794fbb2d.825084",
        "type": "delay",
        "z": "e3737c94.fd59f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 280,
        "y": 380,
        "wires": [
            [
                "884604e4.6cfe58"
            ]
        ]
    },
    {
        "id": "f33c2274.35e8f",
        "type": "debug",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 120,
        "wires": []
    },
    {
        "id": "e6f595a8.bbe788",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "reset",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 80,
        "wires": [
            [
                "a11a91da.5ad24"
            ]
        ]
    },
    {
        "id": "573ad2.f49d253",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 140,
        "wires": [
            [
                "7284606e.34aff"
            ]
        ]
    },
    {
        "id": "92ca50b6.7ec34",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 300,
        "y": 1340,
        "wires": [
            [
                "af18fdf6.83584"
            ]
        ]
    },
    {
        "id": "55ddd4cc.07869c",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 310,
        "y": 1440,
        "wires": [
            [
                "af18fdf6.83584"
            ]
        ]
    },
    {
        "id": "18b93929.bea567",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1440,
        "wires": [
            [
                "3e68a854.c13848"
            ]
        ]
    },
    {
        "id": "876c799e.859a08",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1130,
        "y": 1380,
        "wires": [
            [
                "ef4292f2.6c39b",
                "bb437d8d.3536a"
            ],
            [
                "18b93929.bea567",
                "ef4292f2.6c39b"
            ]
        ]
    },
    {
        "id": "13b6ba2e.0aac36",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 03 * * *",
        "once": false,
        "onceDelay": "2",
        "topic": "auto",
        "x": 690,
        "y": 560,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "9f0e5130.5d6cd",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": "2",
        "topic": "auto",
        "x": 1070,
        "y": 540,
        "wires": [
            [
                "32131fe0.68d4c"
            ]
        ]
    },
    {
        "id": "49d59fdb.c8f13",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "21:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 670,
        "y": 160,
        "wires": [
            [
                "93125ad8.268fd8"
            ],
            [
                "7619e08.a8fb32"
            ]
        ]
    },
    {
        "id": "7619e08.a8fb32",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "NightTime",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "efc9c5a8.94ff98",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "BRIGHT",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TO Bright",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "c4a96eb5.113cc",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "status",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 280,
        "wires": [
            [
                "b2a9199c.b4fc38",
                "353f5328.0939bc",
                "d9c60a4a.f09e68",
                "6893d036.80a4c",
                "73c4a487.cd543c",
                "1409254b.a545db",
                "c1a57d04.02dd2"
            ]
        ]
    },
    {
        "id": "a85cb1de.b2ab",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 160,
        "wires": [
            [
                "998943e2.e0d0f",
                "12e98816.16dea8"
            ]
        ]
    },
    {
        "id": "50aa8aad.14fbf4",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 200,
        "wires": [
            [
                "998943e2.e0d0f",
                "4e96a6d5.febc48"
            ]
        ]
    },
    {
        "id": "4e96a6d5.febc48",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "37ec6b89.b5b684",
        "type": "debug",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 880,
        "wires": []
    },
    {
        "id": "8e62ff61.bd6a6",
        "type": "rbe",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 870,
        "y": 980,
        "wires": [
            [
                "791ea92c.7869c8",
                "37ec6b89.b5b684"
            ]
        ]
    },
    {
        "id": "24849af1.e25ad6",
        "type": "rbe",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 870,
        "y": 1100,
        "wires": [
            [
                "d18fe3d8.6ae4a"
            ]
        ]
    }
]