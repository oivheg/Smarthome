[
    {
        "id": "1c11632f.f206fd",
        "type": "tab",
        "label": "Google Home",
        "disabled": false,
        "info": "# Node-RED Flow Description\r\n\r\nThis document provides a textual representation of a Node-RED flow for converting text to Google Format and sending it to various Google Home devices using the Castv2 protocol.\r\n\r\n## Flow Overview\r\n\r\nThe Node-RED flow consists of multiple components, including subflows, functions, and Castv2 sender nodes. The primary purpose of this flow is to convert text into a format suitable for Google Home devices and then send it to specific devices.\r\n\r\n### Subflow: Convert Text to GoogleFormat\r\n\r\nThis subflow converts text into a format compatible with Google Home devices. It takes an input message containing text and transforms it into a message with the required format. The resulting message includes information such as the application, type, text content, speed, language, and metadata.\r\n\r\n### Main Flow\r\n\r\nThe main flow involves several Castv2 sender nodes connected to different Google Home devices. Each Castv2 sender node is associated with a specific Google Home device and is responsible for sending the formatted text to that device.\r\n\r\n## Flow Diagram\r\n\r\nThe following sequence diagram illustrates the flow of messages in this Node-RED flow:\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant User\r\n    participant ConvertText\r\n    participant GoogleHomeDevice\r\n\r\n    User->>ConvertText: Input Text Message\r\n    ConvertText->>ConvertText: Convert Text to GoogleFormat\r\n    ConvertText-->>GoogleHomeDevice: Send Formatted Message"
    },
    {
        "id": "aa0ae7ae.75d228",
        "type": "tab",
        "label": "Lys",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bc3b2c68.b35f6",
        "type": "tab",
        "label": "Garbage Collector",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8b99f8fe.7b27b8",
        "type": "tab",
        "label": "Smarthome_MODE",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1b14ec1b.20ab54",
        "type": "tab",
        "label": "Happy (DOG) ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "605ae98f.8a9998",
        "type": "tab",
        "label": "Bedroom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a7af161f.d5ece8",
        "type": "tab",
        "label": "Deconz Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1c88039c.df631c",
        "type": "tab",
        "label": "Basement",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a9a601907d96eb09",
        "type": "tab",
        "label": "Bathroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "021cd6ea3e90db93",
        "type": "tab",
        "label": "Stairs",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6df0226504208616",
        "type": "tab",
        "label": "Temperaturecontroll",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "15652aa.fd5c4d5",
        "type": "tab",
        "label": "Strøm og Tibber ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c83f14cc3d9b8395",
        "type": "tab",
        "label": "Remote Content",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "daf28d0f20b236a4",
        "type": "tab",
        "label": "Robot vacuum",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "55bef9f81591ce2e",
        "type": "tab",
        "label": "Node-Red Controll",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6a77c00f79a19693",
        "type": "tab",
        "label": "Presence Detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2153cce4d74e8cba",
        "type": "tab",
        "label": "FH MQTT",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "028d1bd11337d512",
        "type": "tab",
        "label": "Time Tracker",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "19a61e2a.75f152",
        "type": "tab",
        "label": "Tømmekalender",
        "disabled": false,
        "info": ""
    },
    {
        "id": "61f713462b422a81",
        "type": "tab",
        "label": "Dashboard GUI",
        "disabled": false,
        "info": "Error: Request failed with status code 401"
    },
    {
        "id": "94ff8f0f.02c5a",
        "type": "subflow",
        "name": "Deconz  Movement",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 420,
                "y": 200,
                "wires": [
                    {
                        "id": "a2ca5e419e4f16a4"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1120,
                "y": 200,
                "wires": [
                    {
                        "id": "a2ca5e419e4f16a4",
                        "port": 0
                    },
                    {
                        "id": "50714fa28abbd717",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "Name",
                "type": "str",
                "value": "default"
            },
            {
                "name": "ETG",
                "type": "str",
                "value": "1"
            },
            {
                "name": "ignore_state",
                "type": "bool",
                "value": "false"
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 640,
            "y": 140,
            "wires": [
                {
                    "id": "94ff8f0f.02c5a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "5bd36af.4ea5494",
        "type": "subflow",
        "name": "Timer",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 180,
                "y": 180,
                "wires": [
                    {
                        "id": "89e42a76.f6f2f8"
                    },
                    {
                        "id": "64d46e65.a7d2e"
                    },
                    {
                        "id": "2603e6d2.f1973a"
                    },
                    {
                        "id": "cdb73747.3ca6b8"
                    },
                    {
                        "id": "d3ba4ca2.8554d"
                    },
                    {
                        "id": "7e546c3.3eb7794"
                    },
                    {
                        "id": "4bded5f5.5e225c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1120,
                "y": 200,
                "wires": [
                    {
                        "id": "c907fe20.72aa6",
                        "port": 0
                    },
                    {
                        "id": "10faff0a.197481",
                        "port": 0
                    },
                    {
                        "id": "14bc3937.ad4257",
                        "port": 0
                    },
                    {
                        "id": "ee0cac1c.3b7c3",
                        "port": 0
                    },
                    {
                        "id": "1732dcca.1a2903",
                        "port": 0
                    },
                    {
                        "id": "acc8dc6a.4246f",
                        "port": 0
                    },
                    {
                        "id": "56324a59.cc82b4",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 1320,
            "y": 240,
            "wires": [
                {
                    "id": "27e86256.4bd24e",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c99beb5f.614cb8",
        "type": "subflow",
        "name": "Light Enabeled",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "d21593f0.281a6"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 80,
                "wires": [
                    {
                        "id": "976640e9.63cfd",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 580,
            "y": 180,
            "wires": [
                {
                    "id": "4fdcf2d1.2bd64c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c8930ccb.6e912",
        "type": "subflow",
        "name": "Change BTN Color",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 120,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 680,
                "y": 60,
                "wires": [
                    {
                        "id": "a3eda9d235c81ee5",
                        "port": 0
                    }
                ]
            },
            {
                "x": 690,
                "y": 120,
                "wires": [
                    {
                        "id": "03c892d1c9e7927b",
                        "port": 0
                    }
                ]
            },
            {
                "x": 690,
                "y": 180,
                "wires": [
                    {
                        "id": "ac1716b4df2e163a",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "95167fef.b6134",
        "type": "subflow",
        "name": "Lights",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 140,
                "wires": [
                    {
                        "id": "e7c7e2aa.37a72"
                    },
                    {
                        "id": "ab9063bb.93cdb"
                    },
                    {
                        "id": "e6f595a8.bbe788"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1740,
                "y": 200,
                "wires": [
                    {
                        "id": "998943e2.e0d0f",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "room",
                "type": "str",
                "value": "room"
            },
            {
                "name": "illumenance",
                "type": "num",
                "value": "200"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 1740,
            "y": 520,
            "wires": [
                {
                    "id": "7c2eceab.3f7bf",
                    "port": 0
                },
                {
                    "id": "d40dbe57.f0a9c",
                    "port": 0
                },
                {
                    "id": "12e98816.16dea8",
                    "port": 0
                },
                {
                    "id": "91a7fb27.153388",
                    "port": 0
                },
                {
                    "id": "7619e08.a8fb32",
                    "port": 0
                },
                {
                    "id": "efc9c5a8.94ff98",
                    "port": 0
                },
                {
                    "id": "4e96a6d5.febc48",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "beb2c07c77748830",
        "type": "subflow",
        "name": "Subflow 2",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "3db5fa316d693b26"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "3db5fa316d693b26",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "text",
                "type": "str",
                "value": "Default text"
            }
        ],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "c15399232bac2ca3",
        "type": "subflow",
        "name": "Light Controll",
        "info": "",
        "category": "LightControll",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "d672dd5902ab9ae0"
                    },
                    {
                        "id": "426239f4d97d6c43"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1460,
                "y": 60,
                "wires": [
                    {
                        "id": "2543e4c5.28612c",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "room",
                "type": "str",
                "value": "room"
            },
            {
                "name": "LightTreshold",
                "type": "num",
                "value": "110"
            },
            {
                "name": "delay",
                "type": "num",
                "value": "10",
                "ui": {
                    "icon": "font-awesome/fa-times-circle-o",
                    "label": {
                        "en-US": "Delay Minutes"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "num"
                        ]
                    }
                }
            },
            {
                "name": "useTime",
                "type": "bool",
                "value": "false"
            },
            {
                "name": "startTime",
                "type": "str",
                "value": "06:00"
            },
            {
                "name": "endTime",
                "type": "str",
                "value": "07:00"
            }
        ],
        "meta": {},
        "color": "#FFCC66",
        "inputLabels": [
            "Movement"
        ],
        "outputLabels": [
            "set light state"
        ],
        "icon": "node-red/light.svg",
        "status": {
            "x": 1160,
            "y": 340,
            "wires": [
                {
                    "id": "94fa43d7a18c8a2a",
                    "port": 0
                },
                {
                    "id": "5c138fa713ff7c90",
                    "port": 0
                },
                {
                    "id": "d672dd5902ab9ae0",
                    "port": 0
                },
                {
                    "id": "d672dd5902ab9ae0",
                    "port": 1
                },
                {
                    "id": "29f9c1a39ca382a2",
                    "port": 0
                },
                {
                    "id": "853ea5b8d8ea2b6f",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "deda2575970f5ca9",
        "type": "subflow",
        "name": "Convert Text to GoogleFormat",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "3da24c902e74a5dd"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 600,
                "y": 80,
                "wires": [
                    {
                        "id": "949ef7eeffd33778",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#3FADB5"
    },
    {
        "id": "9fbb2608fbbaf87a",
        "type": "subflow",
        "name": "Set btn color",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 320,
                "y": 180,
                "wires": [
                    {
                        "id": "e3d7434244f5dc5c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 780,
                "y": 180,
                "wires": [
                    {
                        "id": "9ce931d26a18e856",
                        "port": 0
                    },
                    {
                        "id": "c33c8265cc4368a5",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "presence",
                "type": "str",
                "value": "B-Presence"
            }
        ],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "05933d2d8abb4be7",
        "type": "subflow",
        "name": "Guestmode",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 120,
                "y": 120,
                "wires": [
                    {
                        "id": "d34750618f80b518"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 160,
                "wires": [
                    {
                        "id": "d34750618f80b518",
                        "port": 1
                    }
                ]
            },
            {
                "x": 550,
                "y": 100,
                "wires": [
                    {
                        "id": "d34750618f80b518",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "NO",
            "YES"
        ]
    },
    {
        "id": "e54013575c240491",
        "type": "subflow",
        "name": "Subflow 3",
        "info": "",
        "in": [],
        "out": []
    },
    {
        "id": "069cfb6e62a4bf1f",
        "type": "subflow",
        "name": "Process Simulation",
        "info": "",
        "in": [
            {
                "x": 37,
                "y": 103,
                "wires": [
                    {
                        "id": "2f5c66e8a1a8e9fd"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 728.5,
                "y": 294,
                "wires": [
                    {
                        "id": "ccec47e2cae003de",
                        "port": 0
                    }
                ]
            }
        ]
    },
    {
        "id": "4764ba70f833e4a9",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Bedroom",
        "style": {
            "label": true
        },
        "nodes": [
            "50b0d259.df502c",
            "551be057.65bed",
            "18b93929.bea567",
            "876c799e.859a08",
            "6e1a0143.f51f8",
            "a4afb1bbd79c5da6",
            "d3daac16ab6cdf92",
            "c0a924816dea4ee8",
            "4b0510cde2a3bfff"
        ],
        "x": 224,
        "y": 1119,
        "w": 1002,
        "h": 162
    },
    {
        "id": "a7b26502af3b65e3",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Hallway",
        "style": {
            "label": true
        },
        "nodes": [
            "dcf434ce.e89888",
            "b05e450967f5da8d",
            "87d1ce3c19202d34",
            "4ce3539c5f7a0ca7",
            "f9450bda48f83deb",
            "f539323231f77776",
            "b9eed7dde8000c3e",
            "a04e6739528f2eab",
            "0a13e388cbc5a023"
        ],
        "x": 824,
        "y": 559,
        "w": 682,
        "h": 182
    },
    {
        "id": "172b4292bafc68a7",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Basement",
        "style": {
            "label": true
        },
        "nodes": [
            "f66e7e24.aca9d",
            "7a4a01ee.c97e",
            "21c80566.d9201a",
            "183c95c7745f2ea4",
            "6fb6663e779c4bed",
            "7f4dd2f1e5bb0824",
            "bc57e78aaf68965d",
            "0e2324ffdb10fe80"
        ],
        "x": 244,
        "y": 939,
        "w": 822,
        "h": 157
    },
    {
        "id": "ff7ca7f8980ed0b1",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Kitchen/Livingroom",
        "style": {
            "label": true
        },
        "nodes": [
            "2cc83436.3fa25c",
            "e2d7c57f5c31b977",
            "be2ad471.d9c448",
            "d17d889454f3d3a1",
            "ca9cda18826d54da",
            "ed863371775575ab",
            "99fed52c6143c053",
            "60b2567222677770",
            "7b175354f8d58739",
            "9e26ee9d380d897f",
            "e1cf0c62b356f966",
            "be3bb71280258f80",
            "a26b85b9381b87e5",
            "c1cdd26489314e43"
        ],
        "x": 234,
        "y": 759,
        "w": 1182,
        "h": 182
    },
    {
        "id": "9bb3180dbbe92370",
        "type": "group",
        "z": "021cd6ea3e90db93",
        "name": "Bluetooth group",
        "style": {
            "fill": "#7fb7df",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "23e030a9e19f898b",
            "8981156258330374",
            "711accb21e6923cb",
            "8cd527805b016174",
            "8a70081184fd9d2f",
            "d6258c7d724e2714",
            "915e541148107f9f",
            "7079d27f6152cac0",
            "ae12affc3eb4dc45",
            "1f50ac0d5a21f7ce",
            "277f89239aa44fc7"
        ],
        "x": 474,
        "y": 1339,
        "w": 1112,
        "h": 242
    },
    {
        "id": "e91b0b088ffed19b",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Office Light",
        "style": {
            "label": true
        },
        "nodes": [
            "28f356670a5a6dc9",
            "f2e0ac31e202a4e3",
            "ca59d875951bc88c",
            "d3afa1ea39895105",
            "d4e988839861fdd7",
            "8360c95b413918e1",
            "1b1b701f2f4d7455"
        ],
        "x": 184,
        "y": 579,
        "w": 622,
        "h": 182
    },
    {
        "id": "de17e98102477bde",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Parameters",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "67361b1114c0fdfe",
            "e97e2897e23ddfe6",
            "4445d551c97a8c33",
            "f401193199a5d246",
            "bc2016b761b16427",
            "38b3f8ab5235eae5",
            "425971ea4db9dc68",
            "886304c986eee280",
            "d61c8ff011a88dbc",
            "30ea5fb10da29ec3",
            "821b39103a91f616",
            "896aa735a80611d5",
            "3b21f19e91b9979f",
            "9a193a329c78ad67",
            "020e359865b706b7",
            "8b7b2563069281bc",
            "fa8f500e932acb55",
            "9359b42c3ccac442"
        ],
        "x": 14,
        "y": 739,
        "w": 1062,
        "h": 282
    },
    {
        "id": "1bd93d309e63194e",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Modes",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "2bf80c0dd1a3633a",
            "469534ab7d1a6e67",
            "e5900fb71b890322",
            "454183b20762b1c6",
            "5346ecce7ddb6882",
            "e9a5c977e13d6b89",
            "78fb4de531292bbc",
            "9c802a5c40bcec2d",
            "06fb22866a0ba099",
            "c551d6276c00e8b4",
            "abc12d823b0c982f"
        ],
        "x": 174,
        "y": 379,
        "w": 712,
        "h": 222
    },
    {
        "id": "1525f01c13bb1d72",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Schedule",
        "style": {
            "fill": "#dbcbe7",
            "label": true
        },
        "nodes": [
            "e4533adb51b5c363",
            "3f24f1034c760819",
            "1998fd1676fdbd20",
            "d819b5d04aef9a18"
        ],
        "x": 234,
        "y": 219,
        "w": 592,
        "h": 122
    },
    {
        "id": "76afa4ece7428050",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Inputs",
        "style": {
            "fill": "#c8e7a7",
            "label": true
        },
        "nodes": [
            "8a7c196d53d4237a",
            "ba1166a8a3592f19",
            "a784afbb4c38fb77",
            "40c41a90bc123561",
            "b4d557df3e42313a",
            "b11c993fafc63bb9"
        ],
        "x": 934,
        "y": 299,
        "w": 392,
        "h": 182
    },
    {
        "id": "21fab955d3f1b60e",
        "type": "group",
        "z": "1c11632f.f206fd",
        "name": "Google Home",
        "style": {
            "fill": "#7fb7df",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "dd227924.f03a78",
            "15d28c99.680783",
            "50a60792.19b3e8",
            "e1a25373.858cb",
            "8a1f0fa2c013ae33",
            "5cfbdbd83670143c",
            "662ff2faf119d193",
            "d3abaa0d9a3b75d3",
            "278706f49dd302bf",
            "7a81f7e1.38f6f8",
            "0474769cb5224aaa",
            "e0341eb15cd222dc",
            "4bd1b046091aabaf",
            "705040e9aa814bf0",
            "a0b5830a5e5ee232",
            "2018f76d019e4576"
        ],
        "x": 134,
        "y": 99,
        "w": 712,
        "h": 382
    },
    {
        "id": "10af9586a4a889ef",
        "type": "group",
        "z": "55bef9f81591ce2e",
        "name": "Restart Node-Red",
        "style": {
            "label": true
        },
        "nodes": [
            "817f1df1.c5f98",
            "aecb8d48.af66f"
        ],
        "x": 34,
        "y": 51.5,
        "w": 412,
        "h": 97
    },
    {
        "id": "5e9ef91ad1457c49",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Set Off Delay",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "ed122137.eed21",
            "bd26ed9a.5daa7",
            "69f4a103.cfabb",
            "8d389ebc.22cbb",
            "e578725c1a2aec32",
            "a0e66a252b3dae2e"
        ],
        "x": 134,
        "y": 39,
        "w": 472,
        "h": 202
    },
    {
        "id": "750228718f0f7746",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Movement Controll",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "bc75f603ad1027db",
            "d37dfc8b7c95236c",
            "17c5a7b3f229590b",
            "5f73d02a6b8a85e6",
            "13197968d43b0e56",
            "df8e9adb3c8eb378",
            "5fc2b4ddf5b94b9e",
            "ac728ff70c911726",
            "7284606e.34aff",
            "0ab1d40d25d12428",
            "e17d0a43.b0e048",
            "56a9a0de058b39ee"
        ],
        "x": 764,
        "y": 19,
        "w": 432,
        "h": 202
    },
    {
        "id": "dabbbe0f6cfeecac",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Presence",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "99ed1ce4.90a0c",
            "c825f67d.b5dba8",
            "76c860b3.3a25c",
            "9253d22c.17587",
            "d7f5cfb64ad22ad0",
            "885fc820467d8739"
        ],
        "x": 234,
        "y": 319,
        "w": 352,
        "h": 162
    },
    {
        "id": "8da8f3a9a56fc7ee",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Allow/Block Lights",
        "style": {
            "label": true,
            "fill": "#ff7f7f"
        },
        "nodes": [
            "7c9078bb.3bd958",
            "fabdb6a9.b22598",
            "429f76d8.f44498",
            "56d97603.6cdfe8",
            "952977f1.2f4798",
            "ff0e4529.8db608",
            "f2786c6b.d98eb",
            "ef6b84bd.139bb8",
            "f7029354.44404",
            "e54806fb.80a248",
            "1aceef23.4fc291",
            "641555a3.3a90ec",
            "3ceb6365.4b21bc",
            "99bb192c.9613d8",
            "7c376eb857a4e46f",
            "b6d05acd6b922f83"
        ],
        "x": 764,
        "y": 239,
        "w": 882,
        "h": 202
    },
    {
        "id": "c10ebffd064adbf1",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Set HeatPump MODE",
        "style": {
            "fill": "#ffdf7f",
            "label": true
        },
        "nodes": [
            "b6a91a79ebe2ca38",
            "0085aa5b7ff9cc46",
            "c4d9e0754c0f8049",
            "86da7f4cca9fd763",
            "d7b5c9af4c98242d",
            "4f8a2adbb41ccd36",
            "c580d09bb8a3989e",
            "85f8fe87dd4b61fc",
            "293afdcbdd3ac975",
            "fbba0ddce9e8a6c0"
        ],
        "x": 1824,
        "y": 1099,
        "w": 892,
        "h": 242
    },
    {
        "id": "f36c921c7f424de5",
        "type": "group",
        "z": "6a77c00f79a19693",
        "name": "To Get device mac, based on known IP",
        "style": {
            "fill": "#bfc7d7",
            "label": true,
            "label-position": "n",
            "color": "#000000"
        },
        "nodes": [
            "f76dc950e201b13c",
            "923123cf470fc3e4",
            "1860791aaa644301"
        ],
        "x": 434,
        "y": 539,
        "w": 432,
        "h": 82
    },
    {
        "id": "58a01d02b4619b46",
        "type": "group",
        "z": "6a77c00f79a19693",
        "name": "ID Lock",
        "style": {
            "fill": "#7fb7df",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "b0f298334b1bcc58",
            "06a40700c474d84f",
            "38519274c0551bb7",
            "ed4c1dbd7e3c8218",
            "d8cc8d6cd6ac5ca8",
            "77e202e1f7cb4c98",
            "99e34fb7e0972e1e",
            "e4188f47293e43df",
            "6504b75c810f8995",
            "9ab71bb708f19c1b",
            "3fc79d5f33bafedc",
            "2f576cac154fabea",
            "15cc4dc584138a26",
            "056a4c7acb271878",
            "7f851e060826def4",
            "092abfe4f694d244",
            "b6a29855cdae995e",
            "5f39989d186eff71",
            "0194d618b714e542",
            "0a7bfdcb76c1f56b"
        ],
        "x": 134,
        "y": 159,
        "w": 1372,
        "h": 322
    },
    {
        "id": "ba9650ca3526ed06",
        "type": "group",
        "z": "2153cce4d74e8cba",
        "name": "Set Global Mode",
        "style": {
            "label": true
        },
        "nodes": [
            "7461442f9ce7e50e",
            "f6577fe9cc641a4b",
            "655d1a811ae2bfbd",
            "ff4854b4e81f1a8a",
            "5c5afd3abb577912",
            "8ca977fa2d6c3f23",
            "77555cd20a73894f",
            "43e8b3bc5eb993e3"
        ],
        "x": 774,
        "y": 39,
        "w": 682,
        "h": 142
    },
    {
        "id": "12605644788902fd",
        "type": "group",
        "z": "2153cce4d74e8cba",
        "name": "Set Mode FH",
        "style": {
            "label": true
        },
        "nodes": [
            "0890fca55df81357",
            "f7ac0d2fc376810c",
            "e0f3fa373c92533a",
            "4bfb43cc5c725dfa",
            "8d9ebcf8551eea4b",
            "b3f9adc55b666094",
            "f27df5b9f6840243",
            "9a51081d9dca2356"
        ],
        "x": 1494,
        "y": 19,
        "w": 552,
        "h": 162
    },
    {
        "id": "a3172e532d882fe7",
        "type": "group",
        "z": "2153cce4d74e8cba",
        "name": "LIGHTS",
        "style": {
            "label": true
        },
        "nodes": [
            "502f4e884cac3140",
            "2dc40524a1b11e11",
            "feaccb063046e633",
            "cd4da3fcec8d2698",
            "e9c6b977279a9ace",
            "61053bad34c46d8d",
            "36d041fc10d198e1",
            "39f321390ee435bd",
            "a70594b76501cf94",
            "eca75607ec15506a",
            "69f22820e9552291",
            "409ab7a4d390d838",
            "fc74b8e441ba36bb",
            "da8d02b690681002",
            "3586e46bbd0e53af",
            "880b6f3cab1f4b36",
            "ab195790f40edafb"
        ],
        "x": 174,
        "y": 659,
        "w": 1312,
        "h": 262
    },
    {
        "id": "90a2ae744f3f1a15",
        "type": "group",
        "z": "2153cce4d74e8cba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f6e9c846c1dd7c91",
            "d4a6b225ba8ed179",
            "09f1aab9bbdc8dc3",
            "e39012b8700bad76",
            "e5671f21a115e942",
            "6ad1052a6188fbc4",
            "2544b14f26361464",
            "79e1877f01b1e9dd"
        ],
        "x": 154,
        "y": 179,
        "w": 672,
        "h": 242
    },
    {
        "id": "833beeaf82e34801",
        "type": "group",
        "z": "2153cce4d74e8cba",
        "name": "Change Light State",
        "style": {
            "label": true
        },
        "nodes": [
            "0f1c18c6959cd496",
            "c9f8d6dac8d4ba6d",
            "04b5d65f2356f4ba",
            "3f0facfb8ecb6309",
            "7b748d84badce752",
            "169eb382584dea9a",
            "9b29720688f4f892",
            "5581b9e705bd930b",
            "32b87da33debbea7",
            "fa9eb39dc8d1ab43",
            "57f6d41542bec600",
            "f5414ebf88c0dd29",
            "e8a10173e53f4a16",
            "3e5515ba1d6c857c",
            "935ba8da4c403144",
            "6635faf90a4a38ac",
            "fb7b621287bb03dc",
            "eae7f9bdc1f64e43",
            "0cdeb110cc9cbe87",
            "913fb4c226869e79",
            "fa037bf9c192d1d3",
            "1d5ad1bb7efafd0d",
            "e580148cb6b2ecc0",
            "cf4286d760897c48",
            "56156f4a5dc995ed",
            "9554f5c971a0df0e",
            "8981429cc9d0e3c8",
            "1a7dad7a9bee2cbb",
            "e46130fd001328ba",
            "ca0971edb792f685",
            "33feae6a920e0c12",
            "16df02f3eb3587ef",
            "d1864239e50a53f6",
            "910130f6c7a85723",
            "701322a59ecb3a3d",
            "de9051a59d1e60a8",
            "34fedf56c6a998e5"
        ],
        "x": 34,
        "y": 1219,
        "w": 1972,
        "h": 462
    },
    {
        "id": "a498e3e25a476808",
        "type": "group",
        "z": "2153cce4d74e8cba",
        "name": "Movement",
        "style": {
            "fill": "#c8e7a7",
            "label": true
        },
        "nodes": [
            "60b992e02d33fa6b",
            "9b9c69bdb290d6e6",
            "ecf544e90fa509b5",
            "6fe45e94bb1611c0",
            "e9771f214776e51e",
            "87d84f08c959923a",
            "03af9b4d41bd40d1"
        ],
        "x": 184,
        "y": 459,
        "w": 812,
        "h": 162
    },
    {
        "id": "429d0786e75351cd",
        "type": "group",
        "z": "8b99f8fe.7b27b8",
        "name": "SLEEP",
        "style": {
            "fill": "#b797cf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "1329b56.bea634b",
            "55a1471c.7ca3e8",
            "61ee7057.5df1f",
            "fdbf838e.f9e58",
            "e1dcab5a.66f5f8",
            "2e0d79f5.69a796",
            "d1068875.e54d18",
            "c9b7d9c6.2c46e8",
            "477666d4.b53928",
            "73129a34755245fc",
            "f13b82bef847d1cd",
            "ebfc5adc.7672f8",
            "5ca10b6218e10f1a"
        ],
        "x": 154,
        "y": 499,
        "w": 1382,
        "h": 182
    },
    {
        "id": "0a0b0609692fe022",
        "type": "group",
        "z": "8b99f8fe.7b27b8",
        "name": "GUESTMODE",
        "style": {
            "fill": "#9363b7",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "e67e0c77.93b2c",
            "050ea7c497a65363",
            "07c3245eb0c7f6a4",
            "f2c61516d13e4a6a",
            "8ec3d0adcf1c105a",
            "137603dc312c04a3",
            "9ff137671de44e2d"
        ],
        "x": 74,
        "y": 119,
        "w": 712,
        "h": 182
    },
    {
        "id": "0dc9ec7306f46565",
        "type": "group",
        "z": "8b99f8fe.7b27b8",
        "name": "Home&Away",
        "style": {
            "fill": "#3f93cf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "247260f.c82dca",
            "fc4fe81e.444628",
            "1d2eacde.d050c3",
            "3e6914e6.deefec",
            "77b78689.5eac68",
            "a5d3065e.5a0698",
            "29d24b09.012634",
            "dc33a268.a0933",
            "1e1f56fa524173df",
            "9ab9f797bec97d04",
            "4241a94a84740929",
            "8ebc2701b1ba1795",
            "72a46790.043618",
            "9e9814a999c69457",
            "0f55237f3acf03e4",
            "c61133f02b5c38b9",
            "9a32b6d26ea58f65",
            "0f11f6ab1cb7a7dc",
            "aaf5b9532af1fbac",
            "d13df963babc7388"
        ],
        "x": 934,
        "y": -1,
        "w": 1202,
        "h": 382
    },
    {
        "id": "d72b39d80e2dd2d0",
        "type": "group",
        "z": "6df0226504208616",
        "name": "BEDTIME",
        "style": {
            "fill": "#dbcbe7",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "53138175bc43b551",
            "a370a97cd6cd7b85",
            "631cd00203fc49b0",
            "e6218962b047afb4"
        ],
        "x": 1794,
        "y": 679,
        "w": 612,
        "h": 122
    },
    {
        "id": "a1794e13fa3182f6",
        "type": "group",
        "z": "6df0226504208616",
        "name": "HEATPUMP ON/OFF",
        "style": {
            "fill": "#ffff00",
            "label": true
        },
        "nodes": [
            "dcb046bbb6008951",
            "c65b05ecba8d2a14",
            "48e94d16bcba20da",
            "a41f36b66f32ca92",
            "1d5369f2e93e8467"
        ],
        "x": 1734,
        "y": 459,
        "w": 772,
        "h": 122
    },
    {
        "id": "30b092e53a6e3512",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Calculating heatpump CONFIGURATION",
        "style": {
            "fill": "#3f93cf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "0df6de6f87baf7f1",
            "f69bbf05.bdd49",
            "143523b2.2f165c",
            "d0e0f0b0881bd5a8",
            "5c32cf97fac8c5fe",
            "9254f6a1e7f54470",
            "73e81edd21f659c2",
            "f5b364a64579517b",
            "74b25828ae3bf670",
            "b9845ab333b2c4c5",
            "0f6a9f8584b543f2",
            "3d29453fc5dbcc29",
            "9585b22a.f41dd8",
            "02dd28a87ada02ab",
            "622314307835baf3",
            "5c17644693ebd710",
            "71e428c071db755f",
            "85c9d2c917a42563",
            "9db00b34b2fd1a72",
            "0c401bc0a9f39846",
            "3b207069e1580f91",
            "042bce84e84e5685",
            "29b7553056896fdc",
            "13fcc87ac38916bc",
            "2192e8a53bea623d",
            "d9c7c8acd004af0b",
            "d7af4025808c3d41",
            "0c948d73c06bf659",
            "aa57f9e45f6b76c5",
            "fdead2b41b1381ae"
        ],
        "x": 924,
        "y": 1349,
        "w": 1802,
        "h": 432
    },
    {
        "id": "618f8f538592ecef",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Sensibo",
        "style": {
            "stroke": "#000000",
            "fill": "#c8e7a7",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "14150d9b72d86dd6",
            "f47773cda8bbfc21",
            "39f6a65e9b06bb76",
            "a4c4757f465e4957",
            "4b93c7c7130630d3",
            "7654ddd39adf0de2"
        ],
        "x": 754,
        "y": 1199,
        "w": 852,
        "h": 122
    },
    {
        "id": "07a89de28d307ce8",
        "type": "group",
        "z": "61f713462b422a81",
        "name": "LightControll",
        "style": {
            "fill": "#ffff7f",
            "label": true
        },
        "nodes": [
            "82d4deea0f5d146b",
            "0a0229165450e20b",
            "be0766449f34157c",
            "2b75c1c39c22e878",
            "3d752044a6901bba",
            "be78e95a54ad258e",
            "b59fc37200ad0559",
            "1063cb701ba3a9ac",
            "d6f63ee6ae47b993",
            "ee0928a7625436ab",
            "d2b50c1ddfab828c",
            "7e5753e9fb0410a3",
            "706c4e8e62a2175f"
        ],
        "x": 1184,
        "y": 119,
        "w": 902,
        "h": 402
    },
    {
        "id": "87210300141eb4cc",
        "type": "group",
        "z": "61f713462b422a81",
        "name": "Tv Status",
        "style": {
            "fill": "#dbcbe7",
            "label": true
        },
        "nodes": [
            "0f8a013e0153fbd5",
            "99923aedde97df0f",
            "0cdeb3068b8c43dc",
            "e747302ab0cd4829",
            "77b0a7f7334d846a"
        ],
        "x": 214,
        "y": 379,
        "w": 512,
        "h": 122
    },
    {
        "id": "a4a9170e6f87bab8",
        "type": "group",
        "z": "61f713462b422a81",
        "name": "Movement",
        "style": {
            "fill": "#3f93cf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "ee65e366a035b490",
            "86476bd49731fa2c",
            "dcc90d5280e1aeb8",
            "1dcdfd1b4bbd46e1",
            "aa0430d69264a383",
            "48ec96b07e81e728",
            "8859702d4e0dda25",
            "32a3ea9d827e0d64",
            "6ad7524469d27c5e",
            "ad963eccab3159c2",
            "54f7718144729c48",
            "1107db891bfcee07",
            "135724c94b4da9e3",
            "014cc1262b6a5534",
            "81fda15dc62d9a91",
            "c3d029127d9b687e",
            "9980b08f3c9badd5"
        ],
        "x": 214,
        "y": 539,
        "w": 632,
        "h": 362
    },
    {
        "id": "0cc1d007b784b6ed",
        "type": "group",
        "z": "61f713462b422a81",
        "name": "Button LIght Controll",
        "style": {
            "fill": "#ffdf7f",
            "label": true
        },
        "nodes": [
            "817926c433169913",
            "e006a76904b60354",
            "51ccf992e760cfb4",
            "aa65f6a826960c6e",
            "38a6473ae1b8cb4d",
            "ec8e67587eb60111",
            "8051cc3693513a78",
            "bbb00f8bf1437a19",
            "f3c851ce3f4bb01f",
            "c55131d2170d2058",
            "48b8d712fc1ea0fb",
            "290b787a2e6cab17",
            "798ec501490403d7",
            "ce96471538f6565a",
            "105bf0cf1d973ec9",
            "126c90c96c81b86b",
            "b83132c1d2f38f5d",
            "6d896087b5e899ac",
            "5db5024050114fe3",
            "8d85a587153a5563",
            "4d9529004366ec32",
            "cf21cfba7f910c8f",
            "bdf5318dd87b3dfa",
            "5a5aa2c2317b2730",
            "731a1f20b5c89507",
            "0f094dee2e4348c9",
            "e36e9d4f8caf4e7c",
            "6a2e573bd6e53025",
            "f267683663f2dca9"
        ],
        "x": 1134,
        "y": 539,
        "w": 912,
        "h": 582
    },
    {
        "id": "53115130f657b882",
        "type": "group",
        "z": "61f713462b422a81",
        "name": " Status",
        "style": {
            "label": true
        },
        "nodes": [
            "0259d792f5b75f52",
            "9eea7aeb43d074a3",
            "b8d1aea9ca80ad0d",
            "8456ad2c.7b492",
            "2b18f71498965dd7",
            "42dcb01a8a2dd3b0",
            "631efbfdf57fe8fc"
        ],
        "x": 664,
        "y": 99,
        "w": 462,
        "h": 242
    },
    {
        "id": "1f543c3859db0ffb",
        "type": "group",
        "z": "61f713462b422a81",
        "name": "Person Status",
        "style": {
            "fill": "#bfc7d7",
            "label": true
        },
        "nodes": [
            "d871d736.d19838",
            "84abded8.462ac",
            "f4cc46fb.79d698",
            "fe7d3938.a5fd88",
            "5f74b04523ff3784",
            "d80abf17ba04b0a2"
        ],
        "x": 194,
        "y": 119,
        "w": 392,
        "h": 122
    },
    {
        "id": "6e32bf19c51ed3a4",
        "type": "junction",
        "z": "6df0226504208616",
        "x": 1280,
        "y": 500,
        "wires": [
            [
                "88f762e6368aa7c0"
            ]
        ]
    },
    {
        "id": "aaf5b9532af1fbac",
        "type": "junction",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "x": 1760,
        "y": 260,
        "wires": [
            [
                "fc4fe81e.444628",
                "4241a94a84740929"
            ]
        ]
    },
    {
        "id": "d13df963babc7388",
        "type": "junction",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "x": 1740,
        "y": 140,
        "wires": [
            [
                "247260f.c82dca",
                "29d24b09.012634",
                "8ebc2701b1ba1795"
            ]
        ]
    },
    {
        "id": "3467f3008929627e",
        "type": "junction",
        "z": "19a61e2a.75f152",
        "x": 280,
        "y": 720,
        "wires": [
            [
                "d392f04b755ddf0c"
            ]
        ]
    },
    {
        "id": "a2165f6b60ddee7a",
        "type": "junction",
        "z": "6df0226504208616",
        "x": 1320,
        "y": 460,
        "wires": [
            [
                "dcb046bbb6008951"
            ]
        ]
    },
    {
        "id": "afce88fd3ae608d3",
        "type": "junction",
        "z": "6df0226504208616",
        "x": 2020,
        "y": 320,
        "wires": [
            [
                "d402cbeefa79b5d0"
            ]
        ]
    },
    {
        "id": "f267683663f2dca9",
        "type": "junction",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "x": 1740,
        "y": 880,
        "wires": [
            [
                "f3c851ce3f4bb01f"
            ]
        ]
    },
    {
        "id": "862863a9.265f3",
        "type": "castv2-connection",
        "name": "Entry",
        "target": "Entryway speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "639afec7.a73a3",
        "type": "castv2-connection",
        "name": "",
        "target": "music",
        "host": "",
        "port": "8009"
    },
    {
        "id": "1744610e.18ab3f",
        "type": "castv2-connection",
        "name": "",
        "target": "Stue",
        "host": "",
        "port": "8009"
    },
    {
        "id": "41e681f.e420d8",
        "type": "mqtt-broker",
        "name": "FutureHomeHub",
        "broker": "192.168.1.50",
        "port": "1884",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "compatmode": false,
        "protocolVersion": "5",
        "keepalive": "360",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "4dd42f71.91823",
        "type": "castv2-connection",
        "name": "Kjeller",
        "target": "Basement speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "5d47569e31e42f22",
        "type": "mqtt-broker",
        "name": "arduino",
        "broker": "localhost",
        "port": "1884",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "36091c060c8a72d5",
        "type": "castv2-connection",
        "name": "Office",
        "target": "Office speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "3d2f09b6c7faaec7",
        "type": "tibber-api-endpoint",
        "queryUrl": "https://api.tibber.com/v1-beta/gql",
        "feedTimeout": "60",
        "name": "Heggland"
    },
    {
        "id": "490ac6e2a74abc7d",
        "type": "global-config",
        "name": "global-config",
        "env": []
    },
    {
        "id": "7f0c45a9432dc256",
        "type": "ui-base",
        "name": "UI Base",
        "path": "/dashboard",
        "includeClientData": true,
        "acceptsClientConfig": [
            "ui-control",
            "ui-notification"
        ],
        "showPathInSidebar": false,
        "showPageTitle": true,
        "navigationStyle": "default",
        "titleBarStyle": "default"
    },
    {
        "id": "3f286b473c9966df",
        "type": "ui-group",
        "name": "House",
        "page": "fa9cafe49c4e6dd3",
        "width": "6",
        "height": "1",
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "4d021bd33834978e",
        "type": "castv2-connection",
        "name": "SHIELD",
        "target": "",
        "host": "192.168.1.61",
        "port": "8009"
    },
    {
        "id": "8500b44945f22748",
        "type": "sensibo-config",
        "senAPI": "55wTDKNXVkZ5jNpgWv8cafwRNGZR2R"
    },
    {
        "id": "12895ae7.9c6bf5",
        "type": "deconz-server",
        "name": "smarthome",
        "config_version": 1,
        "ip": "localhost",
        "port": "80",
        "ws_port": "443",
        "secure": false,
        "polling": "15"
    },
    {
        "id": "b257c3b61872d5b6",
        "type": "light-scheduler-settings",
        "name": "Home",
        "latitude": "58.8713",
        "longitude": " 5.7168"
    },
    {
        "id": "f8a9cdbf31cc2082",
        "type": "miio-roborock-server",
        "name": "Roborock S7",
        "ip": "192.168.1.188",
        "token": "6e4447635453797766334e624f597566",
        "polling": "30"
    },
    {
        "id": "e63aca3c0dabe7de",
        "type": "ui-group",
        "name": "SøppelTømming",
        "page": "fa9cafe49c4e6dd3",
        "width": "3",
        "height": "1",
        "order": 3,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "true"
    },
    {
        "id": "028d12e70ba38637",
        "type": "ui-theme",
        "name": "Default Theme",
        "colors": {
            "surface": "#ffffff",
            "primary": "#0094CE",
            "bgPage": "#eeeeee",
            "groupBg": "#ffffff",
            "groupOutline": "#cccccc"
        },
        "sizes": {
            "pagePadding": "12px",
            "groupGap": "12px",
            "groupBorderRadius": "4px",
            "widgetGap": "12px"
        }
    },
    {
        "id": "205ec56154dae157",
        "type": "ui-group",
        "name": "Kjøkken",
        "page": "fa9cafe49c4e6dd3",
        "width": 3,
        "height": "1",
        "order": 4,
        "showTitle": true,
        "visible": true,
        "disabled": false
    },
    {
        "id": "20e9e3a35362262a",
        "type": "ui-group",
        "name": "Kjellerstue",
        "page": "fa9cafe49c4e6dd3",
        "width": 3,
        "height": "1",
        "order": 5,
        "showTitle": true,
        "visible": true,
        "disabled": false
    },
    {
        "id": "9d9a284bf5ce86d3",
        "type": "ui-group",
        "name": "Office",
        "page": "fa9cafe49c4e6dd3",
        "width": "2",
        "height": "1",
        "order": 7,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "e53a9dd93e589b2e",
        "type": "ui-group",
        "name": "Soverom",
        "page": "fa9cafe49c4e6dd3",
        "width": 3,
        "height": "1",
        "order": 6,
        "showTitle": true,
        "visible": true,
        "disabled": false
    },
    {
        "id": "403670954d105a2d",
        "type": "ui-group",
        "name": "Gang",
        "page": "fa9cafe49c4e6dd3",
        "width": 2,
        "height": "1",
        "order": 9,
        "showTitle": true,
        "visible": true,
        "disabled": false
    },
    {
        "id": "c68075e9d91b3588",
        "type": "ui-group",
        "name": "K-Office",
        "page": "fa9cafe49c4e6dd3",
        "width": 2,
        "height": "1",
        "order": 8,
        "showTitle": true,
        "visible": true,
        "disabled": false
    },
    {
        "id": "1257d664fb2a5f32",
        "type": "ui-group",
        "name": "Bathroom",
        "page": "fa9cafe49c4e6dd3",
        "width": "2",
        "height": "1",
        "order": 10,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "2742573c1afc3a9d",
        "type": "ui-group",
        "name": "Closet",
        "page": "fa9cafe49c4e6dd3",
        "width": 2,
        "height": "1",
        "order": 12,
        "showTitle": true,
        "className": "",
        "visible": true,
        "disabled": false
    },
    {
        "id": "2c9e91a26ccc554d",
        "type": "ui-group",
        "name": "Vakserom",
        "page": "fa9cafe49c4e6dd3",
        "width": 2,
        "height": "1",
        "order": 11,
        "showTitle": true,
        "className": "",
        "visible": true,
        "disabled": false
    },
    {
        "id": "fa9cafe49c4e6dd3",
        "type": "ui-page",
        "name": "Dashboard",
        "ui": "7f0c45a9432dc256",
        "path": "/",
        "icon": "dashboard",
        "layout": "flex",
        "theme": "028d12e70ba38637",
        "order": 1,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "f9c985920afe1003",
        "type": "ui-group",
        "name": "Temperature",
        "page": "fa9cafe49c4e6dd3",
        "width": "4",
        "height": "1",
        "order": 2,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "92a5af52a7d9680d",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 810,
        "y": 240,
        "wires": [
            [
                "50714fa28abbd717"
            ]
        ]
    },
    {
        "id": "a2ca5e419e4f16a4",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "ignore_state",
        "property": "ignore_state",
        "propertyType": "env",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 200,
        "wires": [
            [],
            [
                "92a5af52a7d9680d"
            ]
        ]
    },
    {
        "id": "50714fa28abbd717",
        "type": "subflow:05933d2d8abb4be7",
        "z": "94ff8f0f.02c5a",
        "name": "",
        "x": 970,
        "y": 240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2603e6d2.f1973a",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "14bc3937.ad4257"
            ],
            []
        ]
    },
    {
        "id": "cdb73747.3ca6b8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "19:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 240,
        "wires": [
            [
                "ee0cac1c.3b7c3"
            ],
            []
        ]
    },
    {
        "id": "d3ba4ca2.8554d",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "19:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 280,
        "wires": [
            [
                "1732dcca.1a2903"
            ],
            []
        ]
    },
    {
        "id": "89e42a76.f6f2f8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 440,
        "y": 120,
        "wires": [
            [
                "c907fe20.72aa6"
            ],
            []
        ]
    },
    {
        "id": "64d46e65.a7d2e",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 420,
        "y": 160,
        "wires": [
            [
                "10faff0a.197481"
            ],
            []
        ]
    },
    {
        "id": "c907fe20.72aa6",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 120,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "1732dcca.1a2903",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 280,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "ee0cac1c.3b7c3",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 240,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "14bc3937.ad4257",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 200,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "10faff0a.197481",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 160,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "27e86256.4bd24e",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "7e546c3.3eb7794",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 320,
        "wires": [
            [
                "acc8dc6a.4246f"
            ],
            []
        ]
    },
    {
        "id": "acc8dc6a.4246f",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 320,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "4bded5f5.5e225c",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "23:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 360,
        "wires": [
            [
                "56324a59.cc82b4"
            ],
            []
        ]
    },
    {
        "id": "56324a59.cc82b4",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 360,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "d21593f0.281a6",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "Light Enabelde",
        "property": "Enabeled",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "976640e9.63cfd"
            ],
            [
                "728e655.258b19c"
            ]
        ]
    },
    {
        "id": "976640e9.63cfd",
        "type": "subflow:5bd36af.4ea5494",
        "z": "c99beb5f.614cb8",
        "name": "TID",
        "env": [],
        "x": 410,
        "y": 80,
        "wires": [
            [
                "4fdcf2d1.2bd64c"
            ]
        ]
    },
    {
        "id": "728e655.258b19c",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "false",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 120,
        "wires": [
            [
                "976640e9.63cfd"
            ]
        ]
    },
    {
        "id": "4fdcf2d1.2bd64c",
        "type": "function",
        "z": "c99beb5f.614cb8",
        "name": "",
        "func": "msg.payload = \"Light:\"+ msg.Enabeled +\"  Time:\"+ msg.topic+\"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "dbfcd776.f2b518",
        "type": "function",
        "z": "c8930ccb.6e912",
        "name": "",
        "func": "let green = {\"buttonColor\": \"light-green\"};\nlet orange = {\"buttonColor\": \"orange\"};\nlet grey = {\"buttonColor\": \"grey\"};\nlet red = {\"buttonColor\": \"red-darken-1\"};\nswitch(msg.payload) {\n  case true:\n    return [green, grey,grey];\n    \n  case false:\n     return [grey, red,grey];\n   \n   default:\n     return [grey, grey, orange];\n}\n\nreturn msg;",
        "outputs": 3,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 120,
        "wires": [
            [
                "a3eda9d235c81ee5"
            ],
            [
                "03c892d1c9e7927b"
            ],
            [
                "ac1716b4df2e163a"
            ]
        ],
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "a3eda9d235c81ee5",
        "type": "change",
        "z": "c8930ccb.6e912",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ui_update.buttonColor",
                "pt": "msg",
                "to": "buttonColor",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "03c892d1c9e7927b",
        "type": "change",
        "z": "c8930ccb.6e912",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ui_update.buttonColor",
                "pt": "msg",
                "to": "buttonColor",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "ac1716b4df2e163a",
        "type": "change",
        "z": "c8930ccb.6e912",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ui_update.buttonColor",
                "pt": "msg",
                "to": "buttonColor",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "26870d78.89b472",
        "type": "traffic",
        "z": "95167fef.b6134",
        "name": "Block Light",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 450,
        "y": 180,
        "wires": [
            [
                "13778892.2a0ed7"
            ]
        ]
    },
    {
        "id": "a11a91da.5ad24",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 100,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8",
                "91a7fb27.153388"
            ]
        ]
    },
    {
        "id": "938ec30b.4297f",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "ON",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1250,
        "y": 200,
        "wires": [
            [
                "a85cb1de.b2ab"
            ]
        ]
    },
    {
        "id": "fb3a9993.6269b8",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": true,
        "units": "s",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1270,
        "y": 240,
        "wires": [
            [
                "50aa8aad.14fbf4"
            ]
        ]
    },
    {
        "id": "998943e2.e0d0f",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "room",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d9c60a4a.f09e68",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 400,
        "wires": [
            [
                "26699996.18eb86"
            ],
            [
                "6893d036.80a4c"
            ]
        ]
    },
    {
        "id": "6893d036.80a4c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "20:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 710,
        "y": 440,
        "wires": [
            [
                "983ec0ae.1da1d"
            ],
            [
                "1409254b.a545db",
                "983ec0ae.1da1d"
            ]
        ]
    },
    {
        "id": "1409254b.a545db",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "20:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 480,
        "wires": [
            [
                "74c885f8.41bd8c"
            ],
            [
                "c1a57d04.02dd2",
                "73c4a487.cd543c"
            ]
        ]
    },
    {
        "id": "b2a9199c.b4fc38",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 700,
        "y": 320,
        "wires": [
            [
                "ba2cd27b.bb893"
            ],
            [
                "353f5328.0939bc"
            ]
        ]
    },
    {
        "id": "353f5328.0939bc",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 720,
        "y": 360,
        "wires": [
            [
                "160da951.9f50e7"
            ],
            [
                "d9c60a4a.f09e68"
            ]
        ]
    },
    {
        "id": "ba2cd27b.bb893",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "74c885f8.41bd8c",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "983ec0ae.1da1d",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 460,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "26699996.18eb86",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 420,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "160da951.9f50e7",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000 ",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 380,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "73c4a487.cd543c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 520,
        "wires": [
            [
                "e147de11.45dc6"
            ],
            []
        ]
    },
    {
        "id": "e147de11.45dc6",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 580,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "c1a57d04.02dd2",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 560,
        "wires": [
            [
                "9a4c1b75.c30428"
            ],
            [
                "e147de11.45dc6"
            ]
        ]
    },
    {
        "id": "9a4c1b75.c30428",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "3000",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 540,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "13778892.2a0ed7",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "Status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 180,
        "wires": [
            [
                "1320f8a5.4784c7"
            ],
            [
                "49d59fdb.c8f13"
            ]
        ]
    },
    {
        "id": "7c2eceab.3f7bf",
        "type": "function",
        "z": "95167fef.b6134",
        "name": "Status",
        "func": "msg.payload = (msg.delay/60000) + \"Mins\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "e7c7e2aa.37a72",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 120,
        "wires": [
            [
                "a11a91da.5ad24"
            ],
            [
                "56f4f77c.b52a78"
            ]
        ]
    },
    {
        "id": "56f4f77c.b52a78",
        "type": "link out",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "d40dbe57.f0a9c"
        ],
        "x": 495,
        "y": 120,
        "wires": []
    },
    {
        "id": "d40dbe57.f0a9c",
        "type": "link in",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "56f4f77c.b52a78"
        ],
        "x": 1455,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "12e98816.16dea8",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "91a7fb27.153388",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Reset",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "ON",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "93125ad8.268fd8",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "illumenance",
        "property": "illumenance",
        "propertyType": "flow",
        "rules": [
            {
                "t": "lt",
                "v": "illumenance",
                "vt": "env"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 160,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8",
                "12e98816.16dea8"
            ],
            [
                "efc9c5a8.94ff98"
            ]
        ]
    },
    {
        "id": "ab9063bb.93cdb",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "set illumenance",
        "rules": [
            {
                "t": "set",
                "p": "illumenance",
                "pt": "flow",
                "to": "illumenance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 180,
        "wires": [
            [
                "26870d78.89b472"
            ]
        ]
    },
    {
        "id": "e6f595a8.bbe788",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "reset",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 80,
        "wires": [
            [
                "a11a91da.5ad24"
            ]
        ]
    },
    {
        "id": "49d59fdb.c8f13",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "21:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 160,
        "wires": [
            [
                "93125ad8.268fd8"
            ],
            [
                "7619e08.a8fb32",
                "fb3a9993.6269b8"
            ]
        ]
    },
    {
        "id": "7619e08.a8fb32",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "NightTime",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "efc9c5a8.94ff98",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "BRIGHT",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TO Bright",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1580,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a85cb1de.b2ab",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "998943e2.e0d0f"
            ]
        ]
    },
    {
        "id": "50aa8aad.14fbf4",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 240,
        "wires": [
            [
                "998943e2.e0d0f",
                "4e96a6d5.febc48"
            ]
        ]
    },
    {
        "id": "4e96a6d5.febc48",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "1320f8a5.4784c7",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "status",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 280,
        "wires": [
            [
                "b2a9199c.b4fc38",
                "938ec30b.4297f"
            ],
            [
                "b2a9199c.b4fc38",
                "938ec30b.4297f"
            ]
        ]
    },
    {
        "id": "3db5fa316d693b26",
        "type": "function",
        "z": "beb2c07c77748830",
        "name": "Connected",
        "func": "\n  \n  \n  \n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: env.get(\"text\"),\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "2543e4c5.28612c",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "b7abb1c033a236e9",
        "type": "trigger",
        "z": "c15399232bac2ca3",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "15",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 140,
        "wires": [
            [
                "2543e4c5.28612c",
                "853ea5b8d8ea2b6f"
            ]
        ]
    },
    {
        "id": "8d2467ba32ba6f8d",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 80,
        "wires": [
            [
                "adc5b3cc5fb3acb9"
            ],
            [
                "5c138fa713ff7c90",
                "25b0ce2a287f7a88"
            ]
        ]
    },
    {
        "id": "5e0d8112.7e4fc",
        "type": "traffic",
        "z": "c15399232bac2ca3",
        "name": "btn_block",
        "property_allow": "payload",
        "filter_allow": "go",
        "ignore_case_allow": true,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "8d2467ba32ba6f8d"
            ]
        ]
    },
    {
        "id": "94fa43d7a18c8a2a",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "5c138fa713ff7c90",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state OFF Countdown",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF Countdown",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d672dd5902ab9ae0",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "096fc2a5f95b7fe3"
            ],
            [
                "096fc2a5f95b7fe3"
            ]
        ]
    },
    {
        "id": "096fc2a5f95b7fe3",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 140,
        "wires": [
            [
                "b7abb1c033a236e9"
            ]
        ]
    },
    {
        "id": "adc5b3cc5fb3acb9",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "LightTreshold ",
        "property": "LightTreshold",
        "propertyType": "env",
        "rules": [
            {
                "t": "eq",
                "v": "ignore",
                "vt": "str"
            },
            {
                "t": "gte",
                "v": "illum",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 560,
        "y": 60,
        "wires": [
            [
                "4b6cb34a2d363e76",
                "096fc2a5f95b7fe3",
                "94fa43d7a18c8a2a"
            ],
            [
                "94fa43d7a18c8a2a",
                "4b6cb34a2d363e76",
                "096fc2a5f95b7fe3"
            ],
            [
                "b7abb1c033a236e9",
                "29f9c1a39ca382a2"
            ]
        ]
    },
    {
        "id": "29f9c1a39ca382a2",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state Bright",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "To Bright",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 220,
        "wires": [
            [
                "1e32fe94992e22fa"
            ]
        ]
    },
    {
        "id": "853ea5b8d8ea2b6f",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "25b0ce2a287f7a88",
        "type": "function",
        "z": "c15399232bac2ca3",
        "name": "delay",
        "func": "msg.delay = env.get(\"delay\") * 60000\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 180,
        "wires": [
            [
                "b7abb1c033a236e9"
            ]
        ]
    },
    {
        "id": "4b6cb34a2d363e76",
        "type": "delay",
        "z": "c15399232bac2ca3",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 860,
        "y": 80,
        "wires": [
            [
                "2543e4c5.28612c"
            ]
        ]
    },
    {
        "id": "1e32fe94992e22fa",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 180,
        "wires": [
            [
                "2543e4c5.28612c"
            ]
        ]
    },
    {
        "id": "578a9cae9a7c7128",
        "type": "time-range-switch",
        "z": "c15399232bac2ca3",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "00:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 390,
        "y": 400,
        "wires": [
            [
                "81f6fb173917ddb2"
            ],
            [
                "5e0d8112.7e4fc"
            ]
        ]
    },
    {
        "id": "a762aa25693819e5",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "set Time",
        "rules": [
            {
                "t": "set",
                "p": "__config.startTime",
                "pt": "msg",
                "to": "startTime",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "__config.endTime",
                "pt": "msg",
                "to": "endTime",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 400,
        "wires": [
            [
                "578a9cae9a7c7128"
            ]
        ]
    },
    {
        "id": "81f6fb173917ddb2",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "BLOCK",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 340,
        "wires": [
            [
                "5e0d8112.7e4fc"
            ]
        ]
    },
    {
        "id": "426239f4d97d6c43",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "",
        "property": "useTime",
        "propertyType": "env",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 110,
        "y": 240,
        "wires": [
            [
                "5e0d8112.7e4fc"
            ],
            [
                "a762aa25693819e5"
            ]
        ]
    },
    {
        "id": "949ef7eeffd33778",
        "type": "delay",
        "z": "deda2575970f5ca9",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 440,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3da24c902e74a5dd",
        "type": "function",
        "z": "deda2575970f5ca9",
        "name": "converter",
        "func": "\n  \n  \n  \n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: msg.text,\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 80,
        "wires": [
            [
                "949ef7eeffd33778"
            ]
        ]
    },
    {
        "id": "9ce931d26a18e856",
        "type": "change",
        "z": "9fbb2608fbbaf87a",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "ui_update.buttonColor",
                "pt": "msg",
                "to": "light-green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "c33c8265cc4368a5",
        "type": "change",
        "z": "9fbb2608fbbaf87a",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "ui_update.buttonColor",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "e3d7434244f5dc5c",
        "type": "switch",
        "z": "9fbb2608fbbaf87a",
        "name": "Is Presence",
        "property": "${presence}",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 180,
        "wires": [
            [
                "9ce931d26a18e856"
            ],
            [
                "c33c8265cc4368a5"
            ]
        ]
    },
    {
        "id": "d34750618f80b518",
        "type": "switch",
        "z": "05933d2d8abb4be7",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f41c45c7e161bc83",
        "type": "function",
        "z": "069cfb6e62a4bf1f",
        "name": "30 sec RC + 20",
        "func": "// Applies a simple RC low pass filter to incoming payload values\nvar tc = 30*1000;       // time constant in milliseconds\n\nvar lastValue = context.get('lastValue');\nif (typeof lastValue == \"undefined\") lastValue = msg.payload;\nvar lastTime = context.get('lastTime') || null;\nvar now = new Date();\nvar currentValue = msg.payload;\nif (lastTime === null) {\n    // first time through\n    newValue = currentValue;\n} else {\n    var dt = now - lastTime;\n    var newValue;\n    \n    if (dt > 0) {\n        var dtotc = dt / tc;\n        newValue = lastValue * (1 - dtotc) + currentValue * dtotc;\n    } else {\n        // no time has elapsed leave output the same as last time\n        newValue = lastValue;\n    }\n}\ncontext.set('lastValue', newValue);\ncontext.set('lastTime', now);\n\nmsg.payload = newValue + 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 626.5,
        "y": 207,
        "wires": [
            [
                "ccec47e2cae003de"
            ]
        ]
    },
    {
        "id": "5b5bfdbe25ea738d",
        "type": "inject",
        "z": "069cfb6e62a4bf1f",
        "name": "Inject -0.2 at start",
        "repeat": "",
        "crontab": "",
        "once": true,
        "topic": "",
        "payload": "-0.2",
        "payloadType": "num",
        "x": 134.5,
        "y": 30,
        "wires": [
            [
                "2f5c66e8a1a8e9fd"
            ]
        ]
    },
    {
        "id": "849dbdb2cc6eab79",
        "type": "function",
        "z": "069cfb6e62a4bf1f",
        "name": "10 sec RC",
        "func": "// Applies a simple RC low pass filter to incoming payload values\nvar tc = 10*1000;       // time constant in milliseconds\n\nvar lastValue = context.get('lastValue');\nif (typeof lastValue == \"undefined\") lastValue = msg.payload;\nvar lastTime = context.get('lastTime') || null;\nvar now = new Date();\nvar currentValue = msg.payload;\nif (lastTime === null) {\n    // first time through\n    newValue = currentValue;\n} else {\n    var dt = now - lastTime;\n    var newValue;\n    \n    if (dt > 0) {\n        var dtotc = dt / tc;\n        newValue = lastValue * (1 - dtotc) + currentValue * dtotc;\n    } else {\n        // no time has elapsed leave output the same as last time\n        newValue = lastValue;\n    }\n}\ncontext.set('lastValue', newValue);\ncontext.set('lastTime', now);\n\nmsg.payload = newValue;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 451,
        "y": 207,
        "wires": [
            [
                "f41c45c7e161bc83"
            ]
        ]
    },
    {
        "id": "2f5c66e8a1a8e9fd",
        "type": "delay",
        "z": "069cfb6e62a4bf1f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 268,
        "y": 104,
        "wires": [
            [
                "c46a76bd655c63be"
            ]
        ]
    },
    {
        "id": "bde2a8a0b5309bb1",
        "type": "function",
        "z": "069cfb6e62a4bf1f",
        "name": "2 msg transport delay",
        "func": "// stores messages in a fifo until the specified number have been received, \n// then releases them as new messages are received.\n// during the filling phase the earliest message is passed on each time \n// a message is received, but it is also left in the fifo\nvar fifoMaxLength = 2;\nvar fifo = context.get('fifo') || [];\n// push the new message onto the top of the array, messages are shifted down and\n// drop off the front\nvar length = fifo.push(msg);  // returns new length\nif (length > fifoMaxLength) {\n    newMsg = fifo.shift();\n} else {\n    // not full yet, make a copy of the msg and pass it on\n    var newMsg = JSON.parse(JSON.stringify(fifo[0]));\n}\ncontext.set('fifo', fifo);\nreturn newMsg;",
        "outputs": 1,
        "noerr": 0,
        "x": 258,
        "y": 208,
        "wires": [
            [
                "849dbdb2cc6eab79"
            ]
        ]
    },
    {
        "id": "ccec47e2cae003de",
        "type": "function",
        "z": "069cfb6e62a4bf1f",
        "name": "Clear all except payload",
        "func": "msg2 = {payload: msg.payload};\nreturn msg2;",
        "outputs": 1,
        "noerr": 0,
        "x": 545,
        "y": 293,
        "wires": [
            []
        ]
    },
    {
        "id": "c46a76bd655c63be",
        "type": "range",
        "z": "069cfb6e62a4bf1f",
        "minin": "0",
        "maxin": "1",
        "minout": "0",
        "maxout": "100",
        "action": "scale",
        "round": false,
        "name": "",
        "x": 87,
        "y": 208,
        "wires": [
            [
                "bde2a8a0b5309bb1"
            ]
        ]
    },
    {
        "id": "dd227924.f03a78",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "ALLE",
        "connection": "639afec7.a73a3",
        "x": 750,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "15d28c99.680783",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "GH: Stue: ENG",
        "links": [
            "7db434df.a3db2c",
            "976db23e.1f8ba",
            "a16f5c34.ba508"
        ],
        "x": 175,
        "y": 140,
        "wires": [
            [
                "dd227924.f03a78"
            ]
        ]
    },
    {
        "id": "50a60792.19b3e8",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "d": true,
        "g": "21fab955d3f1b60e",
        "name": "OFFICE",
        "connection": "36091c060c8a72d5",
        "x": 760,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "e1a25373.858cb",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "OFFICE",
        "links": [
            "dc33a268.a0933",
            "1a0e8a5610faf0f6",
            "4e6013de2aa5c07f",
            "19242790ba73e3ef"
        ],
        "x": 175,
        "y": 320,
        "wires": [
            [
                "4bd1b046091aabaf"
            ]
        ]
    },
    {
        "id": "8a1f0fa2c013ae33",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Stue",
        "connection": "1744610e.18ab3f",
        "x": 770,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "5cfbdbd83670143c",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "GH-STUE-EN",
        "links": [
            "858b8605826bec63",
            "e0f4bc77f36c022a",
            "4cf9b6efdbba67fa"
        ],
        "x": 175,
        "y": 380,
        "wires": [
            [
                "705040e9aa814bf0"
            ]
        ]
    },
    {
        "id": "662ff2faf119d193",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "ALL GH",
        "links": [
            "a84ac6f3a352ff80",
            "f803dc8c9371fd5f",
            "9c907e1d118e1133"
        ],
        "x": 175,
        "y": 200,
        "wires": [
            [
                "0474769cb5224aaa"
            ]
        ]
    },
    {
        "id": "d3abaa0d9a3b75d3",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "ENTRY",
        "connection": "862863a9.265f3",
        "x": 760,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "278706f49dd302bf",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Entry",
        "links": [
            "357cd3912cb4b9bf"
        ],
        "x": 175,
        "y": 260,
        "wires": [
            [
                "e0341eb15cd222dc"
            ]
        ]
    },
    {
        "id": "7a81f7e1.38f6f8",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Kjeller",
        "connection": "4dd42f71.91823",
        "x": 770,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "0474769cb5224aaa",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 200,
        "wires": [
            [
                "dd227924.f03a78"
            ]
        ]
    },
    {
        "id": "e0341eb15cd222dc",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 260,
        "wires": [
            [
                "d3abaa0d9a3b75d3"
            ]
        ]
    },
    {
        "id": "4bd1b046091aabaf",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 320,
        "wires": [
            [
                "50a60792.19b3e8"
            ]
        ]
    },
    {
        "id": "705040e9aa814bf0",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 380,
        "wires": [
            [
                "8a1f0fa2c013ae33"
            ]
        ]
    },
    {
        "id": "a0b5830a5e5ee232",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 440,
        "wires": [
            [
                "7a81f7e1.38f6f8"
            ]
        ]
    },
    {
        "id": "2018f76d019e4576",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "GH-Kjeller-EN",
        "links": [],
        "x": 175,
        "y": 440,
        "wires": [
            [
                "a0b5830a5e5ee232"
            ]
        ]
    },
    {
        "id": "6e1a0143.f51f8",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "",
        "mode": "link",
        "links": [
            "df8e9adb3c8eb378"
        ],
        "x": 1185,
        "y": 1160,
        "wires": []
    },
    {
        "id": "dcf434ce.e89888",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "Movement Hall",
        "links": [
            "328ec247.9e5eee"
        ],
        "x": 865,
        "y": 640,
        "wires": [
            [
                "f539323231f77776",
                "b05e450967f5da8d"
            ]
        ]
    },
    {
        "id": "f66e7e24.aca9d",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "Movement Nede",
        "links": [
            "87d84f08c959923a",
            "dc7a9dbe.e7065",
            "e92f253c.11b9b8"
        ],
        "x": 285,
        "y": 1040,
        "wires": [
            [
                "6fb6663e779c4bed"
            ]
        ]
    },
    {
        "id": "99ed1ce4.90a0c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "Set Upstairs lights ",
        "links": [
            "39e053b3d2fb7ed8"
        ],
        "x": 275,
        "y": 360,
        "wires": [
            [
                "9253d22c.17587"
            ]
        ]
    },
    {
        "id": "c825f67d.b5dba8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "set-downstaris lights",
        "links": [],
        "x": 275,
        "y": 400,
        "wires": [
            [
                "76c860b3.3a25c"
            ]
        ]
    },
    {
        "id": "7c9078bb.3bd958",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Basemet Reset",
        "links": [
            "7a4a01ee.c97e"
        ],
        "x": 1605,
        "y": 360,
        "wires": []
    },
    {
        "id": "fabdb6a9.b22598",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "btn_upstairs",
        "links": [],
        "x": 805,
        "y": 320,
        "wires": [
            [
                "952977f1.2f4798"
            ]
        ]
    },
    {
        "id": "429f76d8.f44498",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Command",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 360,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "99bb192c.9613d8"
            ]
        ]
    },
    {
        "id": "56d97603.6cdfe8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "btn_downstairs",
        "links": [
            "918c945a6df6d903"
        ],
        "x": 805,
        "y": 360,
        "wires": [
            [
                "ff0e4529.8db608"
            ]
        ]
    },
    {
        "id": "76c860b3.3a25c",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "B_illumenance",
                "pt": "flow",
                "to": "payload.illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "952977f1.2f4798",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "upstairs",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "KJØKKEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 320,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "ff0e4529.8db608",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "K-LYS",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 360,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "f2786c6b.d98eb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "GO",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 320,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "ef6b84bd.139bb8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 400,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "50b0d259.df502c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Movement Soverom",
        "links": [
            "9ace10c4.4ce8f"
        ],
        "x": 265,
        "y": 1160,
        "wires": [
            [
                "551be057.65bed"
            ]
        ]
    },
    {
        "id": "f7029354.44404",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Bedroom Reset",
        "links": [],
        "x": 1605,
        "y": 400,
        "wires": []
    },
    {
        "id": "e54806fb.80a248",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "S-LYS",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 400,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "1aceef23.4fc291",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "btn_Bedroom",
        "links": [],
        "x": 805,
        "y": 400,
        "wires": [
            [
                "e54806fb.80a248"
            ]
        ]
    },
    {
        "id": "641555a3.3a90ec",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Upstairs block",
        "links": [
            "2cc83436.3fa25c"
        ],
        "x": 1605,
        "y": 320,
        "wires": []
    },
    {
        "id": "3ceb6365.4b21bc",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "KJØKKEN",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "K-LYS",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "S-LYS",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 3,
        "x": 1430,
        "y": 360,
        "wires": [
            [
                "641555a3.3a90ec"
            ],
            [
                "7c9078bb.3bd958"
            ],
            [
                "f7029354.44404"
            ]
        ]
    },
    {
        "id": "e17d0a43.b0e048",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "RESET lights",
        "links": [
            "247260f.c82dca",
            "fc4fe81e.444628",
            "a0e66a252b3dae2e"
        ],
        "x": 805,
        "y": 140,
        "wires": [
            [
                "7284606e.34aff"
            ]
        ]
    },
    {
        "id": "551be057.65bed",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 1160,
        "wires": [
            [
                "876c799e.859a08"
            ]
        ]
    },
    {
        "id": "9253d22c.17587",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "U_illumenance",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "18b93929.bea567",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 1240,
        "wires": [
            [
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "876c799e.859a08",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "20:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 520,
        "y": 1160,
        "wires": [
            [
                "a4afb1bbd79c5da6",
                "c0a924816dea4ee8"
            ],
            [
                "4b0510cde2a3bfff"
            ]
        ]
    },
    {
        "id": "7284606e.34aff",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 140,
        "wires": [
            [
                "ac728ff70c911726"
            ]
        ]
    },
    {
        "id": "21c80566.d9201a",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "mode": "link",
        "links": [
            "df8e9adb3c8eb378",
            "09acdfabbb87d227",
            "e8a10173e53f4a16"
        ],
        "x": 1025,
        "y": 1040,
        "wires": []
    },
    {
        "id": "7a4a01ee.c97e",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "btn:block D",
        "links": [
            "7c9078bb.3bd958"
        ],
        "x": 795,
        "y": 980,
        "wires": [
            [
                "183c95c7745f2ea4"
            ]
        ]
    },
    {
        "id": "99bb192c.9613d8",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "",
        "mode": "link",
        "links": [
            "e8a10173e53f4a16"
        ],
        "x": 1245,
        "y": 360,
        "wires": []
    },
    {
        "id": "b05e450967f5da8d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "HA-Presence",
        "rules": [
            {
                "t": "set",
                "p": "HA-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 640,
        "wires": [
            [
                "a04e6739528f2eab"
            ]
        ]
    },
    {
        "id": "4d0ae664b9906d7d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3090,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "87d1ce3c19202d34",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "mode": "link",
        "links": [
            "df8e9adb3c8eb378",
            "e8a10173e53f4a16"
        ],
        "x": 1465,
        "y": 640,
        "wires": []
    },
    {
        "id": "2cc83436.3fa25c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "links": [
            "641555a3.3a90ec"
        ],
        "x": 1115,
        "y": 800,
        "wires": [
            [
                "d17d889454f3d3a1"
            ]
        ]
    },
    {
        "id": "e2d7c57f5c31b977",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "mode": "link",
        "links": [
            "5fc2b4ddf5b94b9e",
            "c5997d499b14048a",
            "e8a10173e53f4a16"
        ],
        "x": 1375,
        "y": 860,
        "wires": []
    },
    {
        "id": "be2ad471.d9c448",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Movement oppe",
        "links": [
            "bc76c6da083bdd3b"
        ],
        "x": 275,
        "y": 860,
        "wires": [
            [
                "9e26ee9d380d897f",
                "c1cdd26489314e43"
            ]
        ]
    },
    {
        "id": "d17d889454f3d3a1",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "KJØKKEN",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "150",
                "type": "num"
            },
            {
                "name": "delay",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 1240,
        "y": 860,
        "wires": [
            [
                "e2d7c57f5c31b977"
            ]
        ]
    },
    {
        "id": "ca9cda18826d54da",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "illum",
                "pt": "msg",
                "to": "U_illumenance",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 860,
        "wires": [
            [
                "99fed52c6143c053"
            ]
        ]
    },
    {
        "id": "ed863371775575ab",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "ST-presence",
        "rules": [
            {
                "t": "set",
                "p": "ST-presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 860,
        "wires": [
            [
                "ca9cda18826d54da"
            ]
        ]
    },
    {
        "id": "183c95c7745f2ea4",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "K-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "2",
                "type": "num"
            },
            {
                "name": "useTime",
                "value": "true",
                "type": "bool"
            },
            {
                "name": "startTime",
                "value": "22:00",
                "type": "str"
            },
            {
                "name": "endTime",
                "value": "05:00",
                "type": "str"
            }
        ],
        "x": 920,
        "y": 1040,
        "wires": [
            [
                "21c80566.d9201a"
            ]
        ]
    },
    {
        "id": "4ce3539c5f7a0ca7",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "G-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 1340,
        "y": 640,
        "wires": [
            [
                "87d1ce3c19202d34"
            ]
        ]
    },
    {
        "id": "a4afb1bbd79c5da6",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "S-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "30",
                "type": "num"
            }
        ],
        "x": 1040,
        "y": 1160,
        "wires": [
            [
                "6e1a0143.f51f8"
            ]
        ]
    },
    {
        "id": "d3daac16ab6cdf92",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "ONCE",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 840,
        "y": 1240,
        "wires": [
            [
                "18b93929.bea567",
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "c0a924816dea4ee8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "START",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1220,
        "wires": [
            [
                "d3daac16ab6cdf92",
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "f9450bda48f83deb",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "is away",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 700,
        "wires": [
            [
                "b9eed7dde8000c3e"
            ]
        ]
    },
    {
        "id": "f539323231f77776",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "Movement",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 980,
        "y": 700,
        "wires": [
            [
                "f9450bda48f83deb"
            ]
        ]
    },
    {
        "id": "b9eed7dde8000c3e",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "mode": "link",
        "links": [
            "60b2567222677770",
            "e8a10173e53f4a16"
        ],
        "x": 1235,
        "y": 700,
        "wires": []
    },
    {
        "id": "7c376eb857a4e46f",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "BasementBlock",
        "links": [
            "8a0ab10e55653060",
            "ac728ff70c911726"
        ],
        "x": 1455,
        "y": 320,
        "wires": [
            [
                "7c9078bb.3bd958"
            ]
        ]
    },
    {
        "id": "28f356670a5a6dc9",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "O-LYS",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "movement",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "change",
                "p": "movement",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "on",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "movement",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 620,
        "wires": [
            [
                "d3afa1ea39895105"
            ]
        ]
    },
    {
        "id": "f2e0ac31e202a4e3",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-LYS",
        "env": [
            {
                "name": "room",
                "value": "O-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "20",
                "type": "num"
            }
        ],
        "x": 370,
        "y": 620,
        "wires": [
            [
                "28f356670a5a6dc9"
            ]
        ]
    },
    {
        "id": "ca59d875951bc88c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-LYS",
        "links": [
            "b526ea173bec8f67"
        ],
        "x": 225,
        "y": 620,
        "wires": [
            [
                "f2e0ac31e202a4e3",
                "d4e988839861fdd7"
            ]
        ]
    },
    {
        "id": "d3afa1ea39895105",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-LYS",
        "mode": "link",
        "links": [
            "e8a10173e53f4a16"
        ],
        "x": 765,
        "y": 620,
        "wires": []
    },
    {
        "id": "d4e988839861fdd7",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 700,
        "wires": [
            [
                "8360c95b413918e1"
            ],
            [
                "1b1b701f2f4d7455"
            ]
        ]
    },
    {
        "id": "8360c95b413918e1",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-presence:T",
        "rules": [
            {
                "t": "set",
                "p": "O-presence",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "1b1b701f2f4d7455",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-presence:F",
        "rules": [
            {
                "t": "set",
                "p": "O-presence",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "4b0510cde2a3bfff",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "20:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 680,
        "y": 1180,
        "wires": [
            [
                "d3daac16ab6cdf92"
            ],
            []
        ]
    },
    {
        "id": "6fb6663e779c4bed",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "is basement",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "m_basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "m_basement_stairs",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Bathroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Trapp",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 400,
        "y": 1040,
        "wires": [
            [
                "7f4dd2f1e5bb0824"
            ],
            [
                "7f4dd2f1e5bb0824"
            ],
            [
                "7f4dd2f1e5bb0824"
            ],
            [
                "7f4dd2f1e5bb0824"
            ]
        ]
    },
    {
        "id": "0a13e388cbc5a023",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "btn:block D",
        "links": [],
        "x": 1175,
        "y": 600,
        "wires": [
            [
                "4ce3539c5f7a0ca7"
            ]
        ]
    },
    {
        "id": "a04e6739528f2eab",
        "type": "rbe",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 1140,
        "y": 640,
        "wires": [
            [
                "4ce3539c5f7a0ca7"
            ]
        ]
    },
    {
        "id": "7f4dd2f1e5bb0824",
        "type": "rbe",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 580,
        "y": 1040,
        "wires": [
            [
                "bc57e78aaf68965d",
                "0e2324ffdb10fe80"
            ]
        ]
    },
    {
        "id": "0ab1d40d25d12428",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 180,
        "wires": [
            [
                "ac728ff70c911726"
            ]
        ]
    },
    {
        "id": "56a9a0de058b39ee",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "d": true,
        "g": "750228718f0f7746",
        "name": "Block LIght",
        "links": [],
        "x": 805,
        "y": 180,
        "wires": [
            [
                "0ab1d40d25d12428"
            ]
        ]
    },
    {
        "id": "bc75f603ad1027db",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "True",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 100,
        "wires": [
            [
                "5f73d02a6b8a85e6"
            ]
        ]
    },
    {
        "id": "d37dfc8b7c95236c",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 60,
        "wires": [
            [
                "17c5a7b3f229590b"
            ]
        ]
    },
    {
        "id": "b6d05acd6b922f83",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Upstairs_block:controll",
        "links": [
            "13197968d43b0e56",
            "ac728ff70c911726"
        ],
        "x": 1455,
        "y": 280,
        "wires": [
            [
                "641555a3.3a90ec"
            ]
        ]
    },
    {
        "id": "17c5a7b3f229590b",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 60,
        "wires": [
            [
                "13197968d43b0e56"
            ]
        ]
    },
    {
        "id": "5f73d02a6b8a85e6",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 100,
        "wires": [
            [
                "13197968d43b0e56"
            ]
        ]
    },
    {
        "id": "13197968d43b0e56",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "b6d05acd6b922f83"
        ],
        "x": 1155,
        "y": 80,
        "wires": []
    },
    {
        "id": "df8e9adb3c8eb378",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "d": true,
        "g": "750228718f0f7746",
        "name": "Release_Usptairs",
        "links": [
            "0e2324ffdb10fe80",
            "21c80566.d9201a",
            "6e1a0143.f51f8",
            "87d1ce3c19202d34",
            "8bc1a1a00cecc7a6",
            "1deeab2413b7a99b"
        ],
        "x": 805,
        "y": 60,
        "wires": [
            [
                "d37dfc8b7c95236c"
            ]
        ]
    },
    {
        "id": "d7f5cfb64ad22ad0",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "KO-presence:T",
        "rules": [
            {
                "t": "set",
                "p": "KO-presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "885fc820467d8739",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "Karina OF HUE",
        "links": [],
        "x": 275,
        "y": 440,
        "wires": [
            [
                "d7f5cfb64ad22ad0"
            ]
        ]
    },
    {
        "id": "ed122137.eed21",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "MORNING",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "60",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "bd26ed9a.5daa7",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "NIGHT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "35",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 20 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "300000",
        "payloadType": "num",
        "x": 240,
        "y": 160,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "69f4a103.cfabb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "Set offdelay",
        "rules": [
            {
                "t": "set",
                "p": "offdelay",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "ondimm",
                "pt": "flow",
                "to": "ondimm",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 140,
        "wires": [
            [
                "a0e66a252b3dae2e"
            ]
        ]
    },
    {
        "id": "8d389ebc.22cbb",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "NOON",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 240,
        "y": 120,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "e578725c1a2aec32",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "STARTUP",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "20",
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 250,
        "y": 200,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "bc57e78aaf68965d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "B-Presence",
        "rules": [
            {
                "t": "set",
                "p": "B-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 1040,
        "wires": [
            [
                "183c95c7745f2ea4"
            ]
        ]
    },
    {
        "id": "5fc2b4ddf5b94b9e",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "d": true,
        "g": "750228718f0f7746",
        "name": "link in 2",
        "links": [
            "e2d7c57f5c31b977"
        ],
        "x": 805,
        "y": 100,
        "wires": [
            [
                "bc75f603ad1027db"
            ]
        ]
    },
    {
        "id": "a0e66a252b3dae2e",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "link out 7",
        "mode": "link",
        "links": [
            "e17d0a43.b0e048"
        ],
        "x": 565,
        "y": 140,
        "wires": []
    },
    {
        "id": "ac728ff70c911726",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "b6d05acd6b922f83",
            "7c376eb857a4e46f"
        ],
        "x": 1155,
        "y": 160,
        "wires": []
    },
    {
        "id": "09acdfabbb87d227",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "link in 3",
        "links": [
            "21c80566.d9201a"
        ],
        "x": 1145,
        "y": 1040,
        "wires": [
            [
                "705a701972babe5b"
            ]
        ]
    },
    {
        "id": "6ccd3c1606f4db37",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:30",
        "endTime": "06:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1330,
        "y": 1040,
        "wires": [
            [
                "7f64c9cae71deb33"
            ],
            []
        ]
    },
    {
        "id": "705a701972babe5b",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1220,
        "y": 1040,
        "wires": [
            [
                "6ccd3c1606f4db37"
            ]
        ]
    },
    {
        "id": "7f64c9cae71deb33",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 1040,
        "wires": [
            [
                "918c945a6df6d903"
            ]
        ]
    },
    {
        "id": "918c945a6df6d903",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "56d97603.6cdfe8"
        ],
        "x": 1545,
        "y": 940,
        "wires": []
    },
    {
        "id": "0e2324ffdb10fe80",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "mode": "link",
        "links": [
            "df8e9adb3c8eb378"
        ],
        "x": 705,
        "y": 980,
        "wires": []
    },
    {
        "id": "99fed52c6143c053",
        "type": "function",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Correct",
        "func": "let cor = flow.get(\"corrected\") || 0;\nmsg.illum += cor;\n\nif (isNaN(msg.illum)){\n    msg.illum = 0;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 860,
        "wires": [
            [
                "d17d889454f3d3a1"
            ]
        ]
    },
    {
        "id": "c9f6ce06caec36b8",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1370,
        "y": 160,
        "wires": [
            [
                "a8d23d30edc15f76"
            ],
            [
                "b1012bd7f657e0bb"
            ]
        ]
    },
    {
        "id": "a8d23d30edc15f76",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "corrected",
                "pt": "flow",
                "to": "-80",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "b1012bd7f657e0bb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "corrected",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "c5997d499b14048a",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "link in 4",
        "links": [
            "e2d7c57f5c31b977"
        ],
        "x": 1275,
        "y": 160,
        "wires": [
            [
                "c9f6ce06caec36b8"
            ]
        ]
    },
    {
        "id": "a322e5db270d2e0b",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "laundry",
        "links": [
            "5cb449a017a68b38"
        ],
        "x": 235,
        "y": 1340,
        "wires": [
            [
                "8144b7c822b84b76"
            ]
        ]
    },
    {
        "id": "8144b7c822b84b76",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "name": "laundry",
        "env": [
            {
                "name": "room",
                "value": "laundry",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 360,
        "y": 1340,
        "wires": [
            [
                "8bc1a1a00cecc7a6"
            ]
        ]
    },
    {
        "id": "8bc1a1a00cecc7a6",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "mode": "link",
        "links": [
            "df8e9adb3c8eb378",
            "e8a10173e53f4a16"
        ],
        "x": 525,
        "y": 1340,
        "wires": []
    },
    {
        "id": "8e5562ea8e31b7b3",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "name": "walkingCloset",
        "env": [
            {
                "name": "room",
                "value": "walkingCloset",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 380,
        "y": 1400,
        "wires": [
            [
                "1deeab2413b7a99b"
            ]
        ]
    },
    {
        "id": "89ad14e36c74d6f8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "walkingCloset",
        "links": [
            "5db3412dac700df1"
        ],
        "x": 235,
        "y": 1400,
        "wires": [
            [
                "8e5562ea8e31b7b3"
            ]
        ]
    },
    {
        "id": "1deeab2413b7a99b",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "mode": "link",
        "links": [
            "df8e9adb3c8eb378",
            "e8a10173e53f4a16"
        ],
        "x": 525,
        "y": 1400,
        "wires": []
    },
    {
        "id": "60b2567222677770",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Movement oppe",
        "links": [
            "63e9f9b.1d13608",
            "b9eed7dde8000c3e"
        ],
        "x": 385,
        "y": 820,
        "wires": [
            [
                "7b175354f8d58739"
            ]
        ]
    },
    {
        "id": "7b175354f8d58739",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Is True",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 820,
        "wires": [
            [
                "be3bb71280258f80"
            ]
        ]
    },
    {
        "id": "9e26ee9d380d897f",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Is True",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 900,
        "wires": [
            [
                "e1cf0c62b356f966"
            ]
        ]
    },
    {
        "id": "e1cf0c62b356f966",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "delay",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 670,
        "y": 900,
        "wires": [
            [
                "a26b85b9381b87e5"
            ]
        ]
    },
    {
        "id": "be3bb71280258f80",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Allow",
        "property": "block_KL_Movement",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 820,
        "wires": [
            [],
            [
                "ed863371775575ab"
            ]
        ]
    },
    {
        "id": "a26b85b9381b87e5",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "block_KL_Movement",
        "rules": [
            {
                "t": "set",
                "p": "block_KL_Movement",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "c1cdd26489314e43",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "U_illumenance",
                "pt": "flow",
                "to": "illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 860,
        "wires": [
            [
                "ed863371775575ab"
            ]
        ]
    },
    {
        "id": "9c18ec5f.f9594",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "INFORM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 220,
        "wires": [
            [
                "6a421ae3.f71ae4",
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "ae47dd19.04f86",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "GO",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "GO",
        "payloadType": "str",
        "x": 240,
        "y": 140,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "38b19a16.a4b306",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "STOP",
        "payloadType": "str",
        "x": 240,
        "y": 180,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "3b05335c.ab790c",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 220,
        "wires": [
            [
                "7db434df.a3db2c"
            ]
        ]
    },
    {
        "id": "9430e52f.746a78",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.topic = \"Remember Garbage\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 180,
        "wires": [
            [
                "c0005e0c.a1014"
            ]
        ]
    },
    {
        "id": "37115d31.12a892",
        "type": "switch",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 560,
        "y": 260,
        "wires": [
            [
                "584db3f7.80672c"
            ],
            [
                "757cb634.cb61d8"
            ]
        ]
    },
    {
        "id": "584db3f7.80672c",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 240,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "757cb634.cb61d8",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 280,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "6a421ae3.f71ae4",
        "type": "bigtimer",
        "z": "bc3b2c68.b35f6",
        "outtopic": "",
        "outpayload1": "",
        "outpayload2": "",
        "name": "Big Timer",
        "comment": "",
        "lat": "58.851299",
        "lon": "5.748830",
        "starttime": "1035",
        "endtime": "1320",
        "starttime2": 0,
        "endtime2": 0,
        "startoff": 0,
        "endoff": 0,
        "startoff2": 0,
        "endoff2": 0,
        "offs": 0,
        "outtext1": "GO",
        "outtext2": "STOP",
        "timeout": 1440,
        "sun": false,
        "mon": false,
        "tue": true,
        "wed": false,
        "thu": false,
        "fri": false,
        "sat": false,
        "jan": true,
        "feb": false,
        "mar": false,
        "apr": false,
        "may": true,
        "jun": false,
        "jul": false,
        "aug": true,
        "sep": true,
        "oct": false,
        "nov": false,
        "dec": false,
        "day1": 0,
        "month1": 0,
        "day2": 0,
        "month2": 0,
        "day3": 0,
        "month3": 0,
        "day4": 0,
        "month4": 0,
        "day5": 0,
        "month5": 0,
        "day6": 0,
        "month6": 0,
        "day7": "",
        "month7": "",
        "day8": "",
        "month8": "",
        "day9": "",
        "month9": "",
        "day10": "",
        "month10": "",
        "day11": "",
        "month11": "",
        "day12": "",
        "month12": "",
        "d1": 0,
        "w1": 0,
        "d2": 0,
        "w2": 0,
        "d3": 0,
        "w3": 0,
        "d4": 0,
        "w4": 0,
        "d5": 0,
        "w5": 0,
        "d6": 0,
        "w6": 0,
        "xday1": 0,
        "xmonth1": 0,
        "xday2": 0,
        "xmonth2": 0,
        "xday3": 0,
        "xmonth3": 0,
        "xday4": 0,
        "xmonth4": 0,
        "xday5": 0,
        "xmonth5": 0,
        "xday6": 0,
        "xmonth6": 0,
        "xday7": "",
        "xmonth7": "",
        "xday8": "",
        "xmonth8": "",
        "xday9": "",
        "xmonth9": "",
        "xday10": "",
        "xmonth10": "",
        "xday11": "",
        "xmonth11": "",
        "xday12": "",
        "xmonth12": "",
        "xd1": 0,
        "xw1": 0,
        "xd2": 0,
        "xw2": 0,
        "xd3": 0,
        "xw3": 0,
        "xd4": 0,
        "xw4": 0,
        "xd5": 0,
        "xw5": 0,
        "xd6": 0,
        "xw6": 0,
        "suspend": false,
        "random": false,
        "randon1": false,
        "randoff1": false,
        "randon2": false,
        "randoff2": false,
        "repeat": false,
        "atstart": true,
        "odd": false,
        "even": false,
        "x": 370,
        "y": 260,
        "wires": [
            [
                "47a496d1.bcac18"
            ],
            [
                "47a496d1.bcac18",
                "37115d31.12a892"
            ],
            []
        ]
    },
    {
        "id": "47a496d1.bcac18",
        "type": "traffic",
        "z": "bc3b2c68.b35f6",
        "name": "Traffic sample",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 710,
        "y": 160,
        "wires": [
            [
                "9430e52f.746a78",
                "3b05335c.ab790c",
                "b5be7475.8e3328"
            ]
        ]
    },
    {
        "id": "7db434df.a3db2c",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "links": [
            "15d28c99.680783"
        ],
        "x": 1105,
        "y": 220,
        "wires": []
    },
    {
        "id": "c0005e0c.a1014",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "SÃ¸ppel_Push",
        "links": [],
        "x": 1105,
        "y": 180,
        "wires": []
    },
    {
        "id": "b5be7475.8e3328",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Please Remember to Take out the TRASH\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 260,
        "wires": [
            [
                "a16f5c34.ba508"
            ]
        ]
    },
    {
        "id": "a16f5c34.ba508",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "Garbage out",
        "links": [
            "15d28c99.680783"
        ],
        "x": 1105,
        "y": 260,
        "wires": []
    },
    {
        "id": "da162105b2aa7597",
        "type": "ui-button",
        "z": "bc3b2c68.b35f6",
        "group": "e63aca3c0dabe7de",
        "name": "",
        "label": "Søppel tatt",
        "order": 0,
        "width": "2",
        "height": "1",
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "STOP",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 240,
        "y": 40,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "1329b56.bea634b",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "Night mode",
        "links": [
            "328ec247.9e5eee",
            "455faa8d.6c9aa4",
            "63e9f9b.1d13608",
            "9ace10c4.4ce8f",
            "cf3797c1e0b5c101",
            "dc7a9dbe.e7065",
            "e92f253c.11b9b8"
        ],
        "x": 195,
        "y": 600,
        "wires": [
            [
                "73129a34755245fc"
            ]
        ]
    },
    {
        "id": "55a1471c.7ca3e8",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1390,
        "y": 560,
        "wires": [
            [
                "d1068875.e54d18"
            ]
        ]
    },
    {
        "id": "61ee7057.5df1f",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1170,
        "y": 560,
        "wires": [
            [],
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "fdbf838e.f9e58",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 620,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "247260f.c82dca",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "SH: HOME",
        "mode": "link",
        "links": [
            "bb323297a8af6244",
            "dd907ae5e8f3fab4",
            "e17d0a43.b0e048",
            "f27df5b9f6840243"
        ],
        "x": 1875,
        "y": 40,
        "wires": []
    },
    {
        "id": "fc4fe81e.444628",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "SH: Away",
        "mode": "link",
        "links": [
            "6c1d6758.428808",
            "810548cd17705360",
            "b3f9adc55b666094",
            "e17d0a43.b0e048",
            "fa037bf9c192d1d3"
        ],
        "x": 1875,
        "y": 340,
        "wires": []
    },
    {
        "id": "e1dcab5a.66f5f8",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "11:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 810,
        "y": 640,
        "wires": [
            [
                "2e0d79f5.69a796"
            ],
            []
        ]
    },
    {
        "id": "2e0d79f5.69a796",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "FH: Movement Morning",
        "links": [
            "1d2eacde.d050c3"
        ],
        "x": 935,
        "y": 640,
        "wires": []
    },
    {
        "id": "1d2eacde.d050c3",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "FH: Home Mode",
        "links": [
            "2e0d79f5.69a796"
        ],
        "x": 1495,
        "y": 60,
        "wires": [
            [
                "3e6914e6.deefec"
            ]
        ]
    },
    {
        "id": "3e6914e6.deefec",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1670,
        "y": 60,
        "wires": [
            [],
            [
                "d13df963babc7388"
            ]
        ]
    },
    {
        "id": "d1068875.e54d18",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "Sleep",
        "func": "// msg.payload = {\"mode\":\"sleep\"};\n// global.set(\"Mode\", \"sleep\")\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 620,
        "wires": [
            [
                "c9b7d9c6.2c46e8"
            ]
        ]
    },
    {
        "id": "c9b7d9c6.2c46e8",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "sh-SLeep",
        "mode": "link",
        "links": [
            "9a51081d9dca2356"
        ],
        "x": 1495,
        "y": 620,
        "wires": []
    },
    {
        "id": "477666d4.b53928",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 600,
        "wires": [
            [
                "ebfc5adc.7672f8"
            ],
            [
                "fdbf838e.f9e58",
                "e1dcab5a.66f5f8"
            ]
        ]
    },
    {
        "id": "e67e0c77.93b2c",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "0a0b0609692fe022",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "guestmode",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 260,
        "wires": [
            [
                "9a32b6d26ea58f65"
            ]
        ]
    },
    {
        "id": "77b78689.5eac68",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "away",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1530,
        "y": 180,
        "wires": [
            [
                "0f55237f3acf03e4"
            ]
        ]
    },
    {
        "id": "a5d3065e.5a0698",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "home",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1530,
        "y": 140,
        "wires": [
            [
                "d13df963babc7388"
            ]
        ]
    },
    {
        "id": "29d24b09.012634",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1930,
        "y": 100,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "dc33a268.a0933",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2095,
        "y": 160,
        "wires": []
    },
    {
        "id": "1e1f56fa524173df",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "Present?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1260,
        "y": 140,
        "wires": [
            [
                "a5d3065e.5a0698",
                "77b78689.5eac68"
            ],
            [
                "9ab9f797bec97d04",
                "a5d3065e.5a0698"
            ]
        ]
    },
    {
        "id": "9ab9f797bec97d04",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1530,
        "y": 220,
        "wires": [
            [
                "77b78689.5eac68"
            ],
            [
                "aaf5b9532af1fbac"
            ]
        ]
    },
    {
        "id": "4241a94a84740929",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "System is AWAY",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "System is AWAY",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1940,
        "y": 180,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "8ebc2701b1ba1795",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "System is HOME",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "System is HOME",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1950,
        "y": 140,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "050ea7c497a65363",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "g": "0a0b0609692fe022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "35",
        "topic": "",
        "payload": "guestmode",
        "payloadType": "global",
        "x": 210,
        "y": 160,
        "wires": [
            [
                "07c3245eb0c7f6a4"
            ]
        ]
    },
    {
        "id": "72a46790.043618",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "! Sleep",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1260,
        "y": 100,
        "wires": [
            [
                "1e1f56fa524173df"
            ]
        ]
    },
    {
        "id": "9e9814a999c69457",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "Set Away",
        "links": [
            "99e34fb7e0972e1e",
            "6b9eeab08f2cdd54"
        ],
        "x": 975,
        "y": 100,
        "wires": [
            [
                "0f11f6ab1cb7a7dc"
            ]
        ]
    },
    {
        "id": "0f55237f3acf03e4",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1670,
        "y": 180,
        "wires": [
            [
                "a5d3065e.5a0698",
                "aaf5b9532af1fbac"
            ],
            [
                "c61133f02b5c38b9"
            ]
        ]
    },
    {
        "id": "c61133f02b5c38b9",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "System is AWAY",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "5 Minutes Until Away Mode",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1940,
        "y": 260,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "07c3245eb0c7f6a4",
        "type": "ui-switch",
        "z": "8b99f8fe.7b27b8",
        "g": "0a0b0609692fe022",
        "name": "Guestmode",
        "label": "Guestmode",
        "group": "3f286b473c9966df",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "account-plus",
        "oncolor": "red",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "account-plus",
        "offcolor": "green",
        "x": 450,
        "y": 160,
        "wires": [
            [
                "e67e0c77.93b2c"
            ]
        ]
    },
    {
        "id": "f2c61516d13e4a6a",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "g": "0a0b0609692fe022",
        "name": "Activate Guestmode",
        "links": [
            "2269200b466aa112"
        ],
        "x": 195,
        "y": 220,
        "wires": [
            [
                "8ec3d0adcf1c105a"
            ]
        ]
    },
    {
        "id": "8ec3d0adcf1c105a",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "0a0b0609692fe022",
        "name": "Activate Guestmode",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 220,
        "wires": [
            [
                "07c3245eb0c7f6a4",
                "e67e0c77.93b2c"
            ]
        ]
    },
    {
        "id": "137603dc312c04a3",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "g": "0a0b0609692fe022",
        "name": "Deactivate Guestmode",
        "links": [
            "7f851e060826def4"
        ],
        "x": 195,
        "y": 260,
        "wires": [
            [
                "9ff137671de44e2d"
            ]
        ]
    },
    {
        "id": "9ff137671de44e2d",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "0a0b0609692fe022",
        "name": "Deactivate Guestmode",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 260,
        "wires": [
            [
                "e67e0c77.93b2c",
                "07c3245eb0c7f6a4"
            ]
        ]
    },
    {
        "id": "9a32b6d26ea58f65",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 220,
        "wires": [
            [
                "77b78689.5eac68"
            ]
        ]
    },
    {
        "id": "73129a34755245fc",
        "type": "subflow:05933d2d8abb4be7",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "",
        "x": 330,
        "y": 600,
        "wires": [
            [
                "477666d4.b53928"
            ],
            []
        ]
    },
    {
        "id": "0f11f6ab1cb7a7dc",
        "type": "subflow:05933d2d8abb4be7",
        "z": "8b99f8fe.7b27b8",
        "g": "0dc9ec7306f46565",
        "name": "",
        "x": 1090,
        "y": 100,
        "wires": [
            [
                "72a46790.043618"
            ],
            []
        ]
    },
    {
        "id": "f13b82bef847d1cd",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "01 22 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 540,
        "y": 540,
        "wires": [
            [
                "ebfc5adc.7672f8"
            ]
        ]
    },
    {
        "id": "ebfc5adc.7672f8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 810,
        "y": 580,
        "wires": [
            [
                "5ca10b6218e10f1a"
            ]
        ]
    },
    {
        "id": "5ca10b6218e10f1a",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "g": "429d0786e75351cd",
        "name": "isStandBy",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1000,
        "y": 580,
        "wires": [
            [
                "61ee7057.5df1f"
            ]
        ]
    },
    {
        "id": "976db23e.1f8ba",
        "type": "link out",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "mode": "link",
        "links": [
            "15d28c99.680783"
        ],
        "x": 805,
        "y": 160,
        "wires": []
    },
    {
        "id": "4f048068.a4401",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "d": true,
        "name": "Happy hungry",
        "func": "msg.payload = \"Happy is hungry\";\nmsg.emitVolume =50;\n\n\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Eat\",\n        \"description\": \"Happy wants to eat\",\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 510,
        "y": 260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9ab1a383.0f88b",
        "type": "ui_list",
        "z": "1b14ec1b.20ab54",
        "group": "",
        "name": "Happy",
        "order": 1,
        "width": 6,
        "height": 2,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Happy",
        "x": 680,
        "y": 180,
        "wires": []
    },
    {
        "id": "ba60c720.f08e38",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "2",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 690,
        "y": 140,
        "wires": [
            [
                "976db23e.1f8ba"
            ]
        ]
    },
    {
        "id": "4324ade3.0032c4",
        "type": "http request",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.154:1880/feed",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 700,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "ddeb10c8.abffe",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 510,
        "y": 220,
        "wires": [
            [
                "4324ade3.0032c4"
            ]
        ]
    },
    {
        "id": "933b65ba.415558",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "name": "Happy Inside",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Happy wants  to go INSIDE\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\n\n\n\n\nlet msg2 = {};\n\n\n\n\n\nmsg2.payload = [ {\n        \"title\": \"Outside\",\n        \"description\": msg.payload.text,\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 160,
        "wires": [
            [
                "ba60c720.f08e38"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "e938238ab245c876",
        "type": "inject",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 100,
        "wires": [
            [
                "933b65ba.415558"
            ]
        ]
    },
    {
        "id": "eb90ae51.1af18",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:01:4a:08:f7-01-0006"
        ],
        "device_name": "Happy vil ut : ZHASwitch",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": false,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 270,
        "y": 160,
        "wires": [
            [
                "4f048068.a4401",
                "933b65ba.415558"
            ],
            []
        ]
    },
    {
        "id": "a4770dbb.04eff",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "button press",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "7002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8002",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 400,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "20238790.e84df8",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 440,
        "wires": [
            [
                "1bb57f45.872e71",
                "26caebff.0ab3c4",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "4182b18c.6b705",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "CLOSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 400,
        "wires": [
            [
                "1bb57f45.872e71",
                "112531d1.56298e",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "6c1d6758.428808",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "IK: Sov",
        "links": [
            "fc4fe81e.444628"
        ],
        "x": 305,
        "y": 360,
        "wires": [
            [
                "6bb5ecbc.1d0e04"
            ]
        ]
    },
    {
        "id": "cec0f8cb.33f1b8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 360,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "74a70908.bd50d8",
        "type": "inject",
        "z": "605ae98f.8a9998",
        "name": "Åpne Gardin 10 00",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 420,
        "y": 300,
        "wires": [
            [
                "a558759b2c3edc1a"
            ]
        ]
    },
    {
        "id": "bb45bf3b.5ab5f",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "",
        "links": [],
        "x": 1315,
        "y": 400,
        "wires": []
    },
    {
        "id": "26caebff.0ab3c4",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "func": "msg.payload = {openPercent : 100};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "112531d1.56298e",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Close",
        "func": "msg.payload = {openPercent : 0};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d6717b22.f0d1e8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload.openPercent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "100",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 770,
        "y": 440,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "1bb57f45.872e71",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "",
        "func": "        msg.payload = {devices:{id: \"id\",name: \"Sov_Gardin\", power: (msg.payload === 0) ? \"off\" : \"on\"}};\n      \n        \n   \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 400,
        "wires": [
            [
                "bb45bf3b.5ab5f"
            ]
        ]
    },
    {
        "id": "6bb5ecbc.1d0e04",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "away",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 360,
        "wires": [
            [
                "d87cbd2e.f854f"
            ]
        ]
    },
    {
        "id": "d87cbd2e.f854f",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 360,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "ad29b802.69fbb8",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "1b253553.66750b"
        ],
        "x": 305,
        "y": 400,
        "wires": [
            [
                "a4770dbb.04eff"
            ]
        ]
    },
    {
        "id": "515c9831.0334b8",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "800c441a.1f78d8"
        ],
        "x": 1175,
        "y": 360,
        "wires": []
    },
    {
        "id": "a558759b2c3edc1a",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "! Sleep",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 600,
        "y": 300,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "e92f253c.11b9b8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Trapp",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "77e202e1f7cb4c98",
            "f66e7e24.aca9d"
        ],
        "x": 695,
        "y": 100,
        "wires": []
    },
    {
        "id": "328ec247.9e5eee",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Gang",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "dcf434ce.e89888",
            "e22089f94174d570"
        ],
        "x": 695,
        "y": 160,
        "wires": []
    },
    {
        "id": "1b253553.66750b",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "ad29b802.69fbb8"
        ],
        "x": 1325,
        "y": 540,
        "wires": []
    },
    {
        "id": "800c441a.1f78d8",
        "type": "link in",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "515c9831.0334b8"
        ],
        "x": 615,
        "y": 660,
        "wires": [
            [
                "84cb19d4.d232e8"
            ]
        ]
    },
    {
        "id": "84d4238b.16cfe",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Gangen",
                "type": "str"
            },
            {
                "name": "ignore_state",
                "value": "true",
                "type": "bool"
            }
        ],
        "x": 530,
        "y": 160,
        "wires": [
            [
                "328ec247.9e5eee"
            ]
        ]
    },
    {
        "id": "8b7a0dc.31806f",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "StueVtoalett",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 100,
        "wires": [
            [
                "e92f253c.11b9b8"
            ]
        ]
    },
    {
        "id": "32a8f67f.ad5fca",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Bedroom",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 220,
        "wires": [
            [
                "9ace10c4.4ce8f"
            ]
        ]
    },
    {
        "id": "9ace10c4.4ce8f",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Soverom",
        "links": [
            "50b0d259.df502c",
            "1329b56.bea634b",
            "77e202e1f7cb4c98"
        ],
        "x": 695,
        "y": 220,
        "wires": []
    },
    {
        "id": "c993abab.7f54d8",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Kjøkken",
                "type": "str"
            }
        ],
        "x": 610,
        "y": 560,
        "wires": [
            [
                "63e9f9b.1d13608"
            ]
        ]
    },
    {
        "id": "63e9f9b.1d13608",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Kjøkken",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "77e202e1f7cb4c98",
            "60b2567222677770"
        ],
        "x": 995,
        "y": 560,
        "wires": []
    },
    {
        "id": "b3936326.9069d",
        "type": "switch",
        "z": "a7af161f.d5ece8",
        "name": "Upstairs",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1001",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 1520,
        "y": 360,
        "wires": [
            [
                "161bb255.512b1e"
            ],
            [
                "4340bf1e.b870c"
            ],
            [
                "91591da1.3f633"
            ]
        ]
    },
    {
        "id": "161bb255.512b1e",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 340,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "4340bf1e.b870c",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 380,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "fbd30b58.0dc988",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Upstairs",
        "links": [],
        "x": 1925,
        "y": 380,
        "wires": []
    },
    {
        "id": "91591da1.3f633",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "Auto",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "daf07d4d.1f365",
        "type": "switch",
        "z": "a7af161f.d5ece8",
        "name": "Downstairs",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "3002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3001",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 1520,
        "y": 480,
        "wires": [
            [
                "54177de6.161014"
            ],
            [
                "f15b1d.2b4844e"
            ],
            [
                "c4ac5b4f.39cb38"
            ]
        ]
    },
    {
        "id": "54177de6.161014",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 460,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "f15b1d.2b4844e",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 500,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "63220a70.24ebb4",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Downstairs",
        "links": [],
        "x": 1805,
        "y": 480,
        "wires": []
    },
    {
        "id": "c4ac5b4f.39cb38",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "Auto",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 540,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "da3398b4.aebae8",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "CleanData",
        "func": "let data = {};\ndata.payload = msg.payload_raw.state.presence;\ndata.topic = \"Bathroom\";\nreturn data;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 820,
        "wires": [
            [
                "455faa8d.6c9aa4",
                "0e6ddec910098891"
            ]
        ]
    },
    {
        "id": "108bf876.9a7808",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "CleanData",
        "func": "let data = {};\ndata.payload = msg.payload\ndata.topic = \"Bathroom\";\nreturn data;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 880,
        "wires": [
            [
                "dc7a9dbe.e7065"
            ]
        ]
    },
    {
        "id": "455faa8d.6c9aa4",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bathrrom_Movement",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "77e202e1f7cb4c98",
            "c840b6850a9f9370"
        ],
        "x": 705,
        "y": 820,
        "wires": []
    },
    {
        "id": "dc7a9dbe.e7065",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bathroom_Door",
        "mode": "link",
        "links": [
            "ea645748ca3e406e",
            "f66e7e24.aca9d",
            "1329b56.bea634b"
        ],
        "x": 615,
        "y": 880,
        "wires": []
    },
    {
        "id": "6fd91fe30a14cff0",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Office",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 280,
        "wires": [
            [
                "b526ea173bec8f67"
            ]
        ]
    },
    {
        "id": "b526ea173bec8f67",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Office",
        "mode": "link",
        "links": [
            "77e202e1f7cb4c98",
            "ca59d875951bc88c"
        ],
        "x": 695,
        "y": 280,
        "wires": []
    },
    {
        "id": "3bb8b86054a6a31d",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "state",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.lux",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 480,
        "wires": [
            [
                "39e053b3d2fb7ed8"
            ]
        ]
    },
    {
        "id": "39e053b3d2fb7ed8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "KITCHEN LIGHT",
        "mode": "link",
        "links": [
            "99ed1ce4.90a0c"
        ],
        "x": 825,
        "y": 480,
        "wires": []
    },
    {
        "id": "92b321794298fb6e",
        "type": "trigger",
        "z": "a7af161f.d5ece8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "15",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 430,
        "y": 520,
        "wires": [
            [
                "76be70cd39633cd1"
            ]
        ]
    },
    {
        "id": "aebceaf8045c24f5",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "walkingcloset",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 340,
        "wires": [
            [
                "5db3412dac700df1"
            ]
        ]
    },
    {
        "id": "5db3412dac700df1",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "walkingCloset",
        "mode": "link",
        "links": [
            "89ad14e36c74d6f8"
        ],
        "x": 695,
        "y": 340,
        "wires": []
    },
    {
        "id": "34fc36da289d8a4c",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "laundry",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 400,
        "wires": [
            [
                "5cb449a017a68b38"
            ]
        ]
    },
    {
        "id": "5cb449a017a68b38",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "laundry",
        "mode": "link",
        "links": [
            "a322e5db270d2e0b"
        ],
        "x": 695,
        "y": 400,
        "wires": []
    },
    {
        "id": "5665132c2e015edc",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "2002",
                "fromt": "num",
                "to": "7002",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1002",
                "fromt": "num",
                "to": "8002",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 540,
        "wires": [
            [
                "1b253553.66750b"
            ]
        ]
    },
    {
        "id": "6d8cd486.3ac49c",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Trapp",
        "topic": "Trapp",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:8e:b1:4d-01-0406"
        ],
        "device_name": "1etg: Stue-Gang : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 230,
        "y": 100,
        "wires": [
            [
                "8b7a0dc.31806f"
            ]
        ]
    },
    {
        "id": "3bfccd97.de6142",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Gangen",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/ec:1b:bd:ff:fe:a2:fd:03-01-0006"
        ],
        "device_name": "Gangen : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 270,
        "y": 160,
        "wires": [
            [
                "84d4238b.16cfe"
            ]
        ]
    },
    {
        "id": "36aeb8a0.824178",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/cc:cc:cc:ff:fe:02:96:c6-01"
        ],
        "device_name": "Window covering device 5 : Window covering device",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 310,
        "y": 660,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "780badae.5effd4",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "Bedroom",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [],
        "device_name": "Soverom : ZHAPresence",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 290,
        "y": 220,
        "wires": [
            [
                "32a8f67f.ad5fca"
            ],
            []
        ]
    },
    {
        "id": "24b6d06c.7e0e6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0406"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 200,
        "y": 560,
        "wires": [
            [
                "c993abab.7f54d8"
            ]
        ]
    },
    {
        "id": "620a790d.f793f8",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bryter",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/60:a4:23:ff:fe:28:37:14-01-0006",
            "sensors/uniqueid/cc:86:ec:ff:fe:ac:a8:84-01-0102"
        ],
        "device_name": "Kjeller Bryter : ZHASwitch",
        "query": "{}",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onupdate",
                "onstart": false,
                "payload": [
                    "buttonevent"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 1180,
        "y": 380,
        "wires": [
            [
                "b3936326.9069d",
                "1b253553.66750b",
                "daf07d4d.1f365",
                "40fec7daaa6ccdd8"
            ],
            []
        ]
    },
    {
        "id": "3d5c496e.056dd6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse BAD",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:05:4a:78:00-01-0406"
        ],
        "device_name": "Presence 16 : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "presence"
                ],
                "uniqueId": "ui-id-5"
            }
        ],
        "x": 260,
        "y": 820,
        "wires": [
            [
                "da3398b4.aebae8"
            ]
        ]
    },
    {
        "id": "bdda4d7b.253eb",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Dør BAD",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:02:8d:6d:2d-01-0006"
        ],
        "device_name": "Window / Door Sensor : ZHAOpenClose",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "open"
                ]
            }
        ],
        "x": 240,
        "y": 880,
        "wires": [
            [
                "108bf876.9a7808"
            ]
        ]
    },
    {
        "id": "72d4018db023f810",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Office",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:e5:d3:9c-01-0406"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 230,
        "y": 280,
        "wires": [
            [
                "6fd91fe30a14cff0"
            ]
        ]
    },
    {
        "id": "18232fd100af2fd6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Kitchen ILLUM",
        "topic": "StueVtoalett",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0400"
        ],
        "device_name": "1etg: Stue-Gang : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 180,
        "y": 480,
        "wires": [
            [
                "3bb8b86054a6a31d"
            ]
        ]
    },
    {
        "id": "470c19a873498faf",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "WalkingCloset",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/ec:1b:bd:ff:fe:3f:85:d8-01-0006"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 250,
        "y": 340,
        "wires": [
            [
                "aebceaf8045c24f5"
            ]
        ]
    },
    {
        "id": "c1e26f4bdb8d5101",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Laundry",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/bc:33:ac:ff:fe:16:8f:b1-01-0006"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 240,
        "y": 400,
        "wires": [
            [
                "34fc36da289d8a4c"
            ]
        ]
    },
    {
        "id": "1fcb8d7b813d9380",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "payload",
        "statustext_type": "msg",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/cc:86:ec:ff:fe:ac:a8:84-01-0102"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "buttonevent"
                ]
            }
        ],
        "x": 1150,
        "y": 500,
        "wires": [
            [
                "5665132c2e015edc"
            ]
        ]
    },
    {
        "id": "76be70cd39633cd1",
        "type": "deconz-get",
        "z": "a7af161f.d5ece8",
        "name": "",
        "config_version": 1,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0400"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "payload": [
                    "__complete__"
                ],
                "uniqueId": "ui-id-5"
            }
        ],
        "x": 610,
        "y": 520,
        "wires": [
            [
                "3bb8b86054a6a31d"
            ]
        ]
    },
    {
        "id": "84cb19d4.d232e8",
        "type": "deconz-output",
        "z": "a7af161f.d5ece8",
        "name": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/cc:cc:cc:ff:fe:02:96:c6-01"
        ],
        "device_name": "Window covering device 5 : Window covering device",
        "query": "",
        "commands": [
            {
                "arg": {
                    "open": {
                        "type": "keep",
                        "value": ""
                    },
                    "stop": {
                        "type": "keep",
                        "value": ""
                    },
                    "lift": {
                        "type": "msg",
                        "value": "payload"
                    },
                    "tilt": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    }
                },
                "type": "deconz_state",
                "domain": "covers"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 900,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "40fec7daaa6ccdd8",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "debug 82",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1310,
        "y": 320,
        "wires": []
    },
    {
        "id": "0e6ddec910098891",
        "type": "trigger",
        "z": "a7af161f.d5ece8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "-40",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 610,
        "y": 760,
        "wires": [
            [
                "455faa8d.6c9aa4"
            ]
        ]
    },
    {
        "id": "fb2dd1ac02f5bbf6",
        "type": "inject",
        "z": "a7af161f.d5ece8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 430,
        "y": 460,
        "wires": [
            [
                "76be70cd39633cd1"
            ]
        ]
    },
    {
        "id": "81af6cca.e9c66",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "payload.playerState",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "PLAYING",
                "vt": "str"
            },
            {
                "t": "nempty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 240,
        "wires": [
            [
                "68d9f69.9352e08"
            ],
            [
                "ff0f6df7.5a918"
            ]
        ]
    },
    {
        "id": "99eeb7d8.8caeb8",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "FH_Kjeller",
        "links": [],
        "x": 1155,
        "y": 240,
        "wires": []
    },
    {
        "id": "e141ad77.43517",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 200,
        "wires": [
            [
                "9c8ff821.d99f48"
            ]
        ]
    },
    {
        "id": "ff0f6df7.5a918",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 280,
        "wires": [
            [
                "99eeb7d8.8caeb8",
                "df254ac2.220318"
            ]
        ]
    },
    {
        "id": "68d9f69.9352e08",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "payload.media.duration",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "5400",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 200,
        "wires": [
            [
                "e141ad77.43517"
            ]
        ]
    },
    {
        "id": "ee4bdb8e.0c68a8",
        "type": "castv2-sender",
        "z": "1c88039c.df631c",
        "name": "SHIELD",
        "connection": "4d021bd33834978e",
        "x": 220,
        "y": 420,
        "wires": [
            [
                "81af6cca.e9c66",
                "3ecbdbdc32d7e425"
            ]
        ]
    },
    {
        "id": "e9bb9204.50585",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 580,
        "wires": [
            [
                "a1111ae.032f9e8",
                "e926d9379abd724f"
            ],
            [
                "352c4db3.c00bc2",
                "7207e65ef67dab2d",
                "9d2af7af886c38df"
            ]
        ]
    },
    {
        "id": "352c4db3.c00bc2",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Ser på TV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 600,
        "wires": [
            [
                "5e8d3398.55375c"
            ]
        ]
    },
    {
        "id": "a1111ae.032f9e8",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "black",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TV er AV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 560,
        "wires": [
            [
                "5e8d3398.55375c"
            ]
        ]
    },
    {
        "id": "b50c3d14.adf0e",
        "type": "inject",
        "z": "1c88039c.df631c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "c1704d628dc827c6"
            ]
        ]
    },
    {
        "id": "5e8d3398.55375c",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "SHIELD",
        "links": [],
        "x": 1125,
        "y": 580,
        "wires": []
    },
    {
        "id": "9c8ff821.d99f48",
        "type": "trigger",
        "z": "1c88039c.df631c",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1030,
        "y": 220,
        "wires": [
            [
                "99eeb7d8.8caeb8"
            ]
        ]
    },
    {
        "id": "df254ac2.220318",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 240,
        "wires": [
            [
                "9c8ff821.d99f48"
            ]
        ]
    },
    {
        "id": "89d0b2b7.ea426",
        "type": "switch",
        "z": "1c88039c.df631c",
        "d": true,
        "name": "",
        "property": "platform.applications[0].statusText",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Youtube",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Plex",
                "vt": "str"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 570,
        "y": 340,
        "wires": [
            [
                "49d893b7.f4e99c"
            ],
            [
                "28e6418d.dfba6e"
            ],
            []
        ]
    },
    {
        "id": "49d893b7.f4e99c",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Youtube",
        "func": "msg.text = \"You are watching Youtube\";\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 320,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "28e6418d.dfba6e",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Plex",
        "func": "msg.text = \"You are watching Plex\";\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "1484b9d6.aaa5c6",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "Shield app",
        "links": [],
        "x": 965,
        "y": 340,
        "wires": []
    },
    {
        "id": "dfb84673.fd6598",
        "type": "switch",
        "z": "1c88039c.df631c",
        "d": true,
        "name": "",
        "property": "platform.applications[0].statusText",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 400,
        "wires": [
            [
                "2cac3554.e5dc5a"
            ]
        ]
    },
    {
        "id": "347b2f4c.11cd",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Youtube",
        "func": "msg.text = \"You are watching\" + msg.platform.applications[0].statusText;\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 400,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "2cac3554.e5dc5a",
        "type": "delay",
        "z": "1c88039c.df631c",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 600,
        "y": 400,
        "wires": [
            [
                "347b2f4c.11cd"
            ]
        ]
    },
    {
        "id": "7207e65ef67dab2d",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "B-Presence",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "e926d9379abd724f",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "GO",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 520,
        "wires": [
            [
                "9a7761d2480db8ae"
            ]
        ]
    },
    {
        "id": "9d2af7af886c38df",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 680,
        "wires": [
            [
                "9a7761d2480db8ae"
            ]
        ]
    },
    {
        "id": "8a0ab10e55653060",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "block light",
        "mode": "link",
        "links": [
            "7c376eb857a4e46f"
        ],
        "x": 1395,
        "y": 600,
        "wires": []
    },
    {
        "id": "c1704d628dc827c6",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "isStandBy",
        "rules": [
            {
                "t": "set",
                "p": "isStandBy",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 640,
        "wires": [
            [
                "ee4bdb8e.0c68a8"
            ]
        ]
    },
    {
        "id": "3ecbdbdc32d7e425",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "set isStandBy",
        "rules": [
            {
                "t": "set",
                "p": "isStandBy",
                "pt": "global",
                "to": "platform.isStandBy",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 580,
        "wires": [
            [
                "e9bb9204.50585",
                "24c14c216039e306"
            ]
        ]
    },
    {
        "id": "9a7761d2480db8ae",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1290,
        "y": 600,
        "wires": [
            [
                "8a0ab10e55653060"
            ]
        ]
    },
    {
        "id": "dd73622024ac01db",
        "type": "debug",
        "z": "1c88039c.df631c",
        "name": "debug 75",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 840,
        "wires": []
    },
    {
        "id": "24c14c216039e306",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "is_playing false",
        "property": "is_playing",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 540,
        "y": 640,
        "wires": [
            [
                "dd73622024ac01db",
                "f93ecd35785e6032"
            ]
        ]
    },
    {
        "id": "f93ecd35785e6032",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "Player state playing",
        "property": "payload.playerState",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "PLAYING",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 720,
        "wires": [
            [
                "e2ea86d61ab387e5"
            ]
        ]
    },
    {
        "id": "e2ea86d61ab387e5",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "is_playing",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "0e5ecc0cc6d5191d",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "OFF",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 560,
        "wires": [
            [
                "8f9162a2a7f1ecdb"
            ]
        ]
    },
    {
        "id": "b590b37dc0fbc282",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "FP2 Presence",
        "rules": [
            {
                "t": "set",
                "p": "fp2_presence",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 560,
        "wires": [
            [
                "0e5ecc0cc6d5191d",
                "bdc7a6b2a2bf8285",
                "e79b7c4b09c4ef29"
            ]
        ]
    },
    {
        "id": "7faf0b60957f2a49",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "d": true,
        "name": "dorResentlyMoved",
        "property": "dorResentlyMoved",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 910,
        "y": 560,
        "wires": [
            [
                "d641c0f83ea0d1fb"
            ],
            [
                "c84d366e993a4c89",
                "574aa3734542d7dc"
            ]
        ]
    },
    {
        "id": "d9f59e6e05f7c5b4",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "Aqara FP2",
        "links": [
            "ca84a21742d3e0cd"
        ],
        "x": 205,
        "y": 560,
        "wires": [
            [
                "b590b37dc0fbc282"
            ]
        ]
    },
    {
        "id": "bdc7a6b2a2bf8285",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "ON",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 530,
        "y": 760,
        "wires": [
            [
                "574aa3734542d7dc",
                "42d0d4c9d2c9c72e"
            ]
        ]
    },
    {
        "id": "c84d366e993a4c89",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 910,
        "y": 600,
        "wires": [
            [
                "7faf0b60957f2a49",
                "d641c0f83ea0d1fb"
            ]
        ]
    },
    {
        "id": "d641c0f83ea0d1fb",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "!movement",
        "property": "movement",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 500,
        "wires": [
            [
                "16e069953bd59735"
            ],
            [
                "1f2e6e3ab6011c4f"
            ]
        ]
    },
    {
        "id": "574aa3734542d7dc",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 640,
        "wires": [
            [
                "c84d366e993a4c89",
                "12daafe786835f3a",
                "1f2e6e3ab6011c4f"
            ]
        ]
    },
    {
        "id": "dc2a2ebf5212b35b",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "movement",
        "rules": [
            {
                "t": "set",
                "p": "movement",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 620,
        "wires": [
            [
                "bdc7a6b2a2bf8285",
                "f701d96d65be3c94",
                "e79b7c4b09c4ef29"
            ]
        ]
    },
    {
        "id": "9a6c7e2adae19dbe",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 780,
        "wires": [
            [
                "bdc7a6b2a2bf8285",
                "193ab5ab4960d3f3"
            ],
            [
                "efb4b7afcada46c9",
                "193ab5ab4960d3f3"
            ]
        ]
    },
    {
        "id": "2ebf80ed57b96fc3",
        "type": "time-range-switch",
        "z": "a9a601907d96eb09",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1050,
        "y": 740,
        "wires": [
            [
                "e06c1ce2758c7f85"
            ],
            [
                "f6c1c04e41814de2"
            ]
        ]
    },
    {
        "id": "12daafe786835f3a",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "2",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1190,
        "y": 500,
        "wires": [
            [
                "694353d781c790bc"
            ]
        ]
    },
    {
        "id": "c840b6850a9f9370",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "Batroom_Movement",
        "links": [
            "455faa8d.6c9aa4"
        ],
        "x": 205,
        "y": 620,
        "wires": [
            [
                "dc2a2ebf5212b35b"
            ]
        ]
    },
    {
        "id": "ea645748ca3e406e",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "Bathroom_Door",
        "links": [
            "dc7a9dbe.e7065"
        ],
        "x": 165,
        "y": 680,
        "wires": [
            [
                "6381072ee0756353"
            ]
        ]
    },
    {
        "id": "efb4b7afcada46c9",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "2",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 530,
        "y": 860,
        "wires": [
            [
                "9896a4b8cc981c5b"
            ]
        ]
    },
    {
        "id": "e06c1ce2758c7f85",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Day",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 720,
        "wires": [
            [
                "2cd7beb6601eb278"
            ]
        ]
    },
    {
        "id": "f6c1c04e41814de2",
        "type": "time-range-switch",
        "z": "a9a601907d96eb09",
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1030,
        "y": 820,
        "wires": [
            [
                "431b24da5c1cf8a9"
            ],
            [
                "6e23ce00bcce09a8"
            ]
        ]
    },
    {
        "id": "694353d781c790bc",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "bathroom OFF",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "BA-LYS",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "islight_on",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 500,
        "wires": [
            [
                "4c1858d290c94d44",
                "a9eef7ebd0b8a98e"
            ]
        ]
    },
    {
        "id": "9896a4b8cc981c5b",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "dorResentlyMoved",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "2cd7beb6601eb278",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "BA-Presence",
        "rules": [
            {
                "t": "set",
                "p": "BA-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 660,
        "wires": [
            [
                "759977ced6b96acf"
            ]
        ]
    },
    {
        "id": "431b24da5c1cf8a9",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Evening",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "50",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1200,
        "y": 780,
        "wires": [
            [
                "2cd7beb6601eb278"
            ]
        ]
    },
    {
        "id": "6e23ce00bcce09a8",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Night",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "20",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 840,
        "wires": [
            [
                "2cd7beb6601eb278"
            ]
        ]
    },
    {
        "id": "4c1858d290c94d44",
        "type": "link out",
        "z": "a9a601907d96eb09",
        "name": "",
        "mode": "link",
        "links": [
            "e8a10173e53f4a16"
        ],
        "x": 1575,
        "y": 480,
        "wires": []
    },
    {
        "id": "759977ced6b96acf",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "bathroom ON",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "BA-LYS",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "percent_bathroom",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "islight_on",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 540,
        "wires": [
            [
                "4c1858d290c94d44",
                "a9eef7ebd0b8a98e"
            ]
        ]
    },
    {
        "id": "42d0d4c9d2c9c72e",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "islight_on",
        "property": "islight_on",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 900,
        "y": 740,
        "wires": [
            [
                "2cd7beb6601eb278"
            ],
            [
                "2ebf80ed57b96fc3"
            ]
        ]
    },
    {
        "id": "f701d96d65be3c94",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "fp2_presence",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 620,
        "wires": [
            [
                "0e5ecc0cc6d5191d"
            ]
        ]
    },
    {
        "id": "16e069953bd59735",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "islight_on",
        "property": "islight_on",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1020,
        "y": 480,
        "wires": [
            [],
            [
                "12daafe786835f3a"
            ]
        ]
    },
    {
        "id": "193ab5ab4960d3f3",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 560,
        "y": 800,
        "wires": [
            [
                "d641c0f83ea0d1fb"
            ]
        ]
    },
    {
        "id": "e79b7c4b09c4ef29",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "ON",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 680,
        "wires": [
            [
                "696d7cf9417b65e1"
            ]
        ]
    },
    {
        "id": "696d7cf9417b65e1",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 680,
        "wires": [
            [
                "193ab5ab4960d3f3"
            ]
        ]
    },
    {
        "id": "8eb1a146cc094fc8",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "link in 8",
        "links": [
            "8f9162a2a7f1ecdb"
        ],
        "x": 645,
        "y": 480,
        "wires": [
            [
                "d641c0f83ea0d1fb"
            ]
        ]
    },
    {
        "id": "8f9162a2a7f1ecdb",
        "type": "link out",
        "z": "a9a601907d96eb09",
        "name": "link out 22",
        "mode": "link",
        "links": [
            "8eb1a146cc094fc8"
        ],
        "x": 655,
        "y": 560,
        "wires": []
    },
    {
        "id": "0d76a80b287e9f32",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "percent_bathroom",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "status.state.dimlevel",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1950,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "3b0a22610baeaacf",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "status.state.power",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1730,
        "y": 640,
        "wires": [
            [
                "2ee3d5dc21337c04"
            ],
            [
                "61d751e51c080509"
            ]
        ]
    },
    {
        "id": "2ee3d5dc21337c04",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "islight_on",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1950,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "61d751e51c080509",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "islight_on",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1950,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "cd274e19cc986be4",
        "type": "Thing List",
        "z": "a9a601907d96eb09",
        "nodeName": "bathroom",
        "outputType": "individual",
        "outputValue": "thing",
        "property": "status",
        "discardInput": false,
        "rules": [
            {
                "compare": "eq",
                "thingProp": "name",
                "value": "bathroom",
                "type": "str"
            }
        ],
        "x": 1600,
        "y": 620,
        "wires": [
            [
                "3b0a22610baeaacf",
                "0d76a80b287e9f32"
            ]
        ]
    },
    {
        "id": "6381072ee0756353",
        "type": "ui-switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "label": "DOOR",
        "group": "1257d664fb2a5f32",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "lock-open",
        "oncolor": "red",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "lock",
        "offcolor": "greed",
        "x": 190,
        "y": 780,
        "wires": [
            [
                "9a6c7e2adae19dbe"
            ]
        ]
    },
    {
        "id": "a9eef7ebd0b8a98e",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1610,
        "y": 540,
        "wires": [
            [
                "cd274e19cc986be4"
            ]
        ]
    },
    {
        "id": "1f2e6e3ab6011c4f",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "payl",
        "duration": "0",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 940,
        "y": 540,
        "wires": [
            [
                "c84d366e993a4c89"
            ]
        ]
    },
    {
        "id": "4e6013de2aa5c07f",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 1252,
        "y": 300,
        "wires": []
    },
    {
        "id": "91184b0e10053eeb",
        "type": "aedes broker",
        "z": "021cd6ea3e90db93",
        "name": "Arduino",
        "mqtt_port": "1884",
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "persistence_bind": "memory",
        "dburl": "",
        "usetls": false,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "cc902c65355fc2a0"
            ],
            []
        ]
    },
    {
        "id": "bbb9f86114d07be5",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "stairs/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 340,
        "y": 460,
        "wires": [
            [
                "35663b0957414f64"
            ]
        ]
    },
    {
        "id": "1a0e8a5610faf0f6",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2305,
        "y": 460,
        "wires": []
    },
    {
        "id": "930f669a18eeef18",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "6",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1980,
        "y": 460,
        "wires": [
            [
                "1a0e8a5610faf0f6",
                "1a3156237b63c2bb"
            ]
        ]
    },
    {
        "id": "4cd4b3b209ffa75f",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "lst_value",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 460,
        "wires": [
            [
                "fee5b724a8ccf193"
            ]
        ]
    },
    {
        "id": "fee5b724a8ccf193",
        "type": "trigger",
        "z": "021cd6ea3e90db93",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "3",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1360,
        "y": 460,
        "wires": [
            [
                "a64baee919cee0e6"
            ]
        ]
    },
    {
        "id": "a64baee919cee0e6",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "U || D",
        "property": "lst_value",
        "propertyType": "flow",
        "rules": [
            {
                "t": "btwn",
                "v": "45",
                "vt": "num",
                "v2": "90",
                "v2t": "num"
            },
            {
                "t": "lte",
                "v": "40",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1550,
        "y": 460,
        "wires": [
            [
                "5a875997eb40043b"
            ],
            [
                "ec2b0c7452e7b0f2"
            ]
        ]
    },
    {
        "id": "7678f144c5148af9",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload.client.connected",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 300,
        "wires": [
            [
                "0a16bcbd068a4386"
            ],
            [
                "051636d7f5e1c145"
            ]
        ]
    },
    {
        "id": "cc902c65355fc2a0",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 540,
        "y": 300,
        "wires": [
            [
                "af83160c4353fe50"
            ]
        ]
    },
    {
        "id": "83665e5eeb0c9dd4",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "is between",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "75",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 850,
        "y": 460,
        "wires": [
            [
                "4cd4b3b209ffa75f"
            ]
        ]
    },
    {
        "id": "af83160c4353fe50",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "clientReady",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "clientDisconnect",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 300,
        "wires": [
            [
                "7678f144c5148af9"
            ],
            [
                "7678f144c5148af9"
            ]
        ]
    },
    {
        "id": "0a16bcbd068a4386",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.client.id & \"have been Connected\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 260,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "051636d7f5e1c145",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.client.id & \"have been disconnected\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 300,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "5a875997eb40043b",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "going upstairs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "up",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 440,
        "wires": [
            [
                "930f669a18eeef18"
            ]
        ]
    },
    {
        "id": "ec2b0c7452e7b0f2",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "going upstairs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "up",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 480,
        "wires": [
            [
                "930f669a18eeef18"
            ]
        ]
    },
    {
        "id": "1a3156237b63c2bb",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let up_count = flow.get(\"up_count\") || 0\nlet down_count = flow.get(\"down_count\") || 0\n\nif (msg.up == true) {\n    up_count++\n    down_count--;\n} else {\n    down_count++;\n\n    up_count--\n}\n\nflow.set(\"up_count\", up_count);\nflow.set(\"down_count\", down_count);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2340,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "35663b0957414f64",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let last = context.get(\"last\") | 0;\n\nlet count = parseInt(msg.payload) + parseInt(last);\n\n\nmsg.payload = parseInt(count / 2);\ncontext.set(\"last\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 460,
        "wires": [
            [
                "1630e5498522a364"
            ]
        ]
    },
    {
        "id": "1630e5498522a364",
        "type": "calculate",
        "z": "021cd6ea3e90db93",
        "name": "",
        "pauseType": "timed",
        "calculation": "median",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "x": 680,
        "y": 460,
        "wires": [
            [
                "83665e5eeb0c9dd4"
            ]
        ]
    },
    {
        "id": "b7cae4186e887d19",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "up_count",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "a1d7f615b671ac4d",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1460,
        "y": 140,
        "wires": [
            [
                "b7cae4186e887d19"
            ]
        ]
    },
    {
        "id": "4b34abe0a4611149",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "up_count",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "b9e501c4f7f1e14b",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1470,
        "y": 100,
        "wires": [
            [
                "4b34abe0a4611149"
            ]
        ]
    },
    {
        "id": "df80adcae9312ebf",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "stairs/debug",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 330,
        "y": 680,
        "wires": [
            [
                "6801af662fb02bd3"
            ]
        ]
    },
    {
        "id": "23e030a9e19f898b",
        "type": "debug",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "DEBUG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.distance",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 1420,
        "wires": []
    },
    {
        "id": "8981156258330374",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "Bluetooth presence",
        "topic": "espresense/rooms/stair",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 590,
        "y": 1420,
        "wires": [
            [
                "711accb21e6923cb"
            ]
        ]
    },
    {
        "id": "711accb21e6923cb",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 770,
        "y": 1420,
        "wires": [
            [
                "8a70081184fd9d2f",
                "d6258c7d724e2714",
                "915e541148107f9f"
            ]
        ]
    },
    {
        "id": "8cd527805b016174",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "func": "\nvar Devices = flow.get(\"Devices\")|| {}\nlet id = msg.payload.id\nDevices[id] = msg.payload.mac\n\n\n      \n\n\n\nflow.set(\"Devices\", Devices)\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "8a70081184fd9d2f",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 1480,
        "wires": [
            [
                "8cd527805b016174"
            ]
        ]
    },
    {
        "id": "d6258c7d724e2714",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "property": "payload.distance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "0.5",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 950,
        "y": 1420,
        "wires": [
            [
                "277f89239aa44fc7"
            ]
        ]
    },
    {
        "id": "915e541148107f9f",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "mac adress",
        "property": "msg.payload.id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "exp:20",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1090,
        "y": 1480,
        "wires": [
            [
                "7079d27f6152cac0",
                "23e030a9e19f898b"
            ]
        ]
    },
    {
        "id": "7079d27f6152cac0",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "Close",
        "property": "payload.distance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 1540,
        "wires": [
            [
                "ae12affc3eb4dc45"
            ]
        ]
    },
    {
        "id": "ae12affc3eb4dc45",
        "type": "trigger",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "op1": "Øivind are in the office",
        "op2": "Øivind are not in the office",
        "op1type": "str",
        "op2type": "str",
        "duration": "15",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1490,
        "y": 1540,
        "wires": [
            [
                "1f50ac0d5a21f7ce",
                "f56836e5626dc00d"
            ]
        ]
    },
    {
        "id": "1f50ac0d5a21f7ce",
        "type": "debug",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "DEBUG",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1480,
        "y": 1480,
        "wires": []
    },
    {
        "id": "19242790ba73e3ef",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2025,
        "y": 1360,
        "wires": []
    },
    {
        "id": "f56836e5626dc00d",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1773,
        "y": 1360,
        "wires": [
            [
                "19242790ba73e3ef",
                "a84ac6f3a352ff80"
            ]
        ]
    },
    {
        "id": "277f89239aa44fc7",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "func": "\nvar Devices = flow.get(\"Close\")|| {}\nlet id = msg.payload.id\nDevices[id] = msg.payload.mac\n\n\n      \n\n\n\nflow.set(\"Close\", Devices)\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "6801af662fb02bd3",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "stairs/debug",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "stairs/number/staircounter/state",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 680,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ee9a5ebf536be5a1",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 813,
        "y": 1400,
        "wires": [
            [
                "3d8eb5f097ce5a24"
            ]
        ]
    },
    {
        "id": "db80c49b2d23831b",
        "type": "debug",
        "z": "021cd6ea3e90db93",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1313,
        "y": 1460,
        "wires": []
    },
    {
        "id": "3d8eb5f097ce5a24",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "stairCount",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"There are \" & $flowContext(\"stairCount\") & \"Downstairs\"\t ",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1053,
        "y": 1400,
        "wires": [
            [
                "db80c49b2d23831b",
                "f56836e5626dc00d"
            ]
        ]
    },
    {
        "id": "a84ac6f3a352ff80",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "662ff2faf119d193"
        ],
        "x": 2018,
        "y": 1320,
        "wires": []
    },
    {
        "id": "b526c7e6f3d3f11a",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "hall/debug",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 300,
        "y": 620,
        "wires": [
            [
                "8ba3f0a0c27b8578"
            ]
        ]
    },
    {
        "id": "52b90438422286d4",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "people",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\"there are \" & payload & \"people in the house\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 420,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "54f2cb1467a0b769",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "person",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\"there are \" & payload & \"person in the house\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 380,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "d499806d22f9fbb3",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 940,
        "y": 400,
        "wires": [
            [
                "54f2cb1467a0b769"
            ],
            [
                "52b90438422286d4"
            ]
        ]
    },
    {
        "id": "85874d19114f788d",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "peopleUpstairs",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 840,
        "wires": [
            [
                "c7221f2791289568"
            ]
        ]
    },
    {
        "id": "121bdd895c2f1815",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let value = msg.payload;\nlet upstairs = global.get(\"peopleUpstairs\");\nif(value == true){\n\nupstairs ++;\n\n}else if (value == false){\n    upstairs --;\n}\n\nglobal.set(\"peopleUpstairs\", upstairs);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 840,
        "wires": [
            [
                "85874d19114f788d"
            ]
        ]
    },
    {
        "id": "9d549e13d9b28066",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 920,
        "wires": [
            [
                "85874d19114f788d"
            ]
        ]
    },
    {
        "id": "7af2ddb53f4a4443",
        "type": "link in",
        "z": "021cd6ea3e90db93",
        "name": "PeopleCount",
        "links": [],
        "x": 405,
        "y": 840,
        "wires": [
            [
                "121bdd895c2f1815"
            ]
        ]
    },
    {
        "id": "888d7786eb85ecde",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "state",
        "topic": "hall/number/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 980,
        "wires": [
            [
                "9d549e13d9b28066"
            ]
        ]
    },
    {
        "id": "c7221f2791289568",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let down = global.get(\"peopleDownstairs\") || 0 ;\nlet up = global.get(\"peopleUpstairs\");\nlet total = down + up;\n\nif(down == 0){\n    global.set(\"peopleDownstairs\", down)\n}\n\n\nmsg.payload = down;\nmsg.topic = \"mirror/downstairs\";\nnode.send(msg);\n\nmsg.payload = up;\nmsg.topic = \"mirror/upstairs\";\nnode.send(msg);\n\nmsg.payload = total;\nmsg.topic = \"mirror/persons\";\nnode.send(msg);\nvar message = {};\nif(total >2){\n    msg.payload = total -2;\n    msg.topic = \"mirror/guests\";\n    node.send(msg);\n    // message.text = \"There are \" + msg.payload + \" Guests \";\n    if(msg.payload == 1 ){\n        message.text = \"There are \" + msg.payload + \" Guest \";\n    }\n   \n    node.send([null, message]);\n}else{\n    msg.payload = 0;\n    msg.topic = \"mirror/guests\";\n    node.send(msg);\n \n    // message.text = \"There are NO Guests \"\n    // node.send([null, message]);\n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 840,
        "wires": [
            [
                "9732e4475cdba75e"
            ],
            [
                "357cd3912cb4b9bf"
            ]
        ]
    },
    {
        "id": "e22089f94174d570",
        "type": "link in",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "Update Mirror",
        "links": [
            "328ec247.9e5eee"
        ],
        "x": 875,
        "y": 800,
        "wires": [
            [
                "c7221f2791289568"
            ]
        ]
    },
    {
        "id": "9732e4475cdba75e",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1190,
        "y": 840,
        "wires": [
            [
                "3947729dea97def1",
                "86b26471abf46099"
            ]
        ]
    },
    {
        "id": "357cd3912cb4b9bf",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "278706f49dd302bf"
        ],
        "x": 1165,
        "y": 900,
        "wires": []
    },
    {
        "id": "8de8993ab6bbc967",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "(\t   $upstairs :=  (\t       $globalContext(\"peopleUpstairs\") + $globalContext(\"peopleDownstairs\") \t   );\t   $upstairs = 1 ? \"there are \" &$upstairs&\t\" Person at Home\" :  $upstairs = 0 ? \"There are no one home\" :  $upstairs > 2 ? \"There are \" &\t   ($upstairs - 2) & \" Guests\":\t\"there are \" & $upstairs &\" Persons at Home\"\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 800,
        "wires": [
            [
                "f803dc8c9371fd5f"
            ]
        ]
    },
    {
        "id": "3947729dea97def1",
        "type": "mqtt out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5d47569e31e42f22",
        "x": 1370,
        "y": 840,
        "wires": []
    },
    {
        "id": "f803dc8c9371fd5f",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "662ff2faf119d193"
        ],
        "x": 1675,
        "y": 800,
        "wires": []
    },
    {
        "id": "ff116dfe744534de",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "hall/number/hallcounter/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 300,
        "y": 920,
        "wires": [
            [
                "9d549e13d9b28066"
            ]
        ]
    },
    {
        "id": "86b26471abf46099",
        "type": "trigger",
        "z": "021cd6ea3e90db93",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "250",
        "extend": true,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1400,
        "y": 800,
        "wires": [
            [
                "8de8993ab6bbc967"
            ]
        ]
    },
    {
        "id": "8ba3f0a0c27b8578",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "function 1",
        "func": "msg.payload = msg.payload.toString()\nlet hallDebug = flow.get(\"hallDebug\") || [];\n\nhallDebug.push(msg.payload);\n\nflow.set(\"hallDebug\", hallDebug);\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "e4533adb51b5c363",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "Week",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 330,
        "y": 260,
        "wires": [
            [
                "3f24f1034c760819",
                "d819b5d04aef9a18"
            ]
        ]
    },
    {
        "id": "2bf80c0dd1a3633a",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "vacation",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 470,
        "y": 540,
        "wires": [
            [
                "1143fa19d1277481",
                "78fb4de531292bbc"
            ],
            [
                "9c802a5c40bcec2d",
                "e9a5c977e13d6b89"
            ],
            [
                "e9a5c977e13d6b89"
            ],
            [
                "6bed44df9a96c7f5"
            ]
        ]
    },
    {
        "id": "469534ab7d1a6e67",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "Set Temperature",
        "links": [
            "5c5afd3abb577912"
        ],
        "x": 225,
        "y": 480,
        "wires": [
            [
                "454183b20762b1c6"
            ]
        ]
    },
    {
        "id": "3f24f1034c760819",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "1998fd1676fdbd20",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "Weekend",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 07 * * 6,0",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 350,
        "y": 300,
        "wires": [
            [
                "3f24f1034c760819",
                "d819b5d04aef9a18"
            ]
        ]
    },
    {
        "id": "d819b5d04aef9a18",
        "type": "change",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "isWeekend",
        "rules": [
            {
                "t": "set",
                "p": "isWeekend",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "e5900fb71b890322",
        "type": "trigger",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 480,
        "y": 480,
        "wires": [
            [
                "2bf80c0dd1a3633a"
            ]
        ]
    },
    {
        "id": "bc2016b761b16427",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "send Temp to Input",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "desiredTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 900,
        "wires": [
            [
                "020e359865b706b7"
            ]
        ]
    },
    {
        "id": "38b3f8ab5235eae5",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "desiredTemp",
                "pt": "flow",
                "to": "$number(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 900,
        "wires": [
            [
                "fa8f500e932acb55"
            ]
        ]
    },
    {
        "id": "67361b1114c0fdfe",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 110,
        "y": 780,
        "wires": [
            [
                "e97e2897e23ddfe6"
            ]
        ]
    },
    {
        "id": "e97e2897e23ddfe6",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "happyHome",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 780,
        "wires": [
            [
                "9a193a329c78ad67"
            ]
        ]
    },
    {
        "id": "4445d551c97a8c33",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "SummerTime",
        "rules": [
            {
                "t": "set",
                "p": "SummerTime",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 840,
        "wires": [
            [
                "3b21f19e91b9979f"
            ]
        ]
    },
    {
        "id": "f401193199a5d246",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 120,
        "y": 840,
        "wires": [
            [
                "4445d551c97a8c33"
            ]
        ]
    },
    {
        "id": "6bed44df9a96c7f5",
        "type": "change",
        "z": "6df0226504208616",
        "name": "set OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 660,
        "wires": [
            [
                "88f762e6368aa7c0"
            ]
        ]
    },
    {
        "id": "1143fa19d1277481",
        "type": "change",
        "z": "6df0226504208616",
        "name": "set Auto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 480,
        "wires": [
            [
                "6e32bf19c51ed3a4"
            ]
        ]
    },
    {
        "id": "9c802a5c40bcec2d",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "SummerTime",
        "property": "SummerTime",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 760,
        "y": 520,
        "wires": [
            [
                "e9b27878137b3b84"
            ],
            [
                "1143fa19d1277481",
                "f890c69938335731"
            ]
        ]
    },
    {
        "id": "2a4c81b9f29cdd45",
        "type": "change",
        "z": "6df0226504208616",
        "name": "set on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 520,
        "wires": [
            [
                "6e32bf19c51ed3a4",
                "dcb046bbb6008951"
            ]
        ]
    },
    {
        "id": "dcb046bbb6008951",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "a1794e13fa3182f6",
        "name": "On/OFF",
        "property": "tempOn",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1820,
        "y": 520,
        "wires": [
            [
                "48e94d16bcba20da"
            ],
            [
                "c65b05ecba8d2a14"
            ]
        ]
    },
    {
        "id": "cdda54c1c95885b5",
        "type": "change",
        "z": "6df0226504208616",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "tempOn",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 620,
        "wires": [
            [
                "dcb046bbb6008951",
                "ee28ca0f7cc9a27c"
            ]
        ]
    },
    {
        "id": "e9b27878137b3b84",
        "type": "switch",
        "z": "6df0226504208616",
        "name": "Is dog Home",
        "property": "happyHome",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 560,
        "wires": [
            [
                "317d10ba9b021d65"
            ]
        ]
    },
    {
        "id": "b6a91a79ebe2ca38",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "SummerTime",
        "property": "SummerTime",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2040,
        "y": 1220,
        "wires": [
            [
                "c4d9e0754c0f8049"
            ],
            [
                "d7b5c9af4c98242d"
            ]
        ]
    },
    {
        "id": "425971ea4db9dc68",
        "type": "link in",
        "z": "6df0226504208616",
        "d": true,
        "g": "de17e98102477bde",
        "name": "Set Temperature",
        "links": [
            "32a0b9d95d5f01ed"
        ],
        "x": 505,
        "y": 980,
        "wires": [
            [
                "d61c8ff011a88dbc"
            ]
        ]
    },
    {
        "id": "886304c986eee280",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "tempoverride",
        "rules": [
            {
                "t": "set",
                "p": "tempoverride",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 900,
        "wires": [
            [
                "38b3f8ab5235eae5"
            ]
        ]
    },
    {
        "id": "d61c8ff011a88dbc",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "tempoverride",
        "property": "tempoverride",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 670,
        "y": 940,
        "wires": [
            [
                "38b3f8ab5235eae5"
            ]
        ]
    },
    {
        "id": "30ea5fb10da29ec3",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "set tempoverride false",
        "links": [
            "e9a5c977e13d6b89"
        ],
        "x": 65,
        "y": 980,
        "wires": [
            [
                "821b39103a91f616"
            ]
        ]
    },
    {
        "id": "821b39103a91f616",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "tempoverride",
        "rules": [
            {
                "t": "set",
                "p": "tempoverride",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "maxTemp",
                "pt": "flow",
                "to": "20",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "e9a5c977e13d6b89",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "30ea5fb10da29ec3"
        ],
        "x": 775,
        "y": 560,
        "wires": []
    },
    {
        "id": "896aa735a80611d5",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "mode": "link",
        "links": [
            "a4c4757f465e4957"
        ],
        "x": 1035,
        "y": 940,
        "wires": []
    },
    {
        "id": "0085aa5b7ff9cc46",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "Cool",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "cool",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "flow",
                "to": "medium",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "swing",
                "pt": "flow",
                "to": "fixedTop",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2510,
        "y": 1220,
        "wires": [
            [
                "fbba0ddce9e8a6c0"
            ]
        ]
    },
    {
        "id": "c4d9e0754c0f8049",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "SummerTemp",
        "property": "desiredTemp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gt",
                "v": "correctedTemp",
                "vt": "flow"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2240,
        "y": 1220,
        "wires": [
            [
                "0085aa5b7ff9cc46"
            ],
            [
                "86da7f4cca9fd763"
            ]
        ]
    },
    {
        "id": "86da7f4cca9fd763",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "Heat",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "heat",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2510,
        "y": 1300,
        "wires": [
            [
                "fbba0ddce9e8a6c0"
            ]
        ]
    },
    {
        "id": "576f7a8170f57d38",
        "type": "link in",
        "z": "6df0226504208616",
        "name": "link in 5",
        "links": [
            "4f8a2adbb41ccd36"
        ],
        "x": 1345,
        "y": 320,
        "wires": [
            [
                "63aae3d5e0e9fbe3"
            ]
        ]
    },
    {
        "id": "8a7c196d53d4237a",
        "type": "change",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "name": "set tempOn = false",
        "rules": [
            {
                "t": "set",
                "p": "tempOn",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 340,
        "wires": [
            [
                "a2165f6b60ddee7a"
            ]
        ]
    },
    {
        "id": "d7b5c9af4c98242d",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "VinterTemp",
        "property": "correctedTemp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gt",
                "v": "21",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "20",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 2230,
        "y": 1280,
        "wires": [
            [
                "86da7f4cca9fd763"
            ],
            [
                "0085aa5b7ff9cc46"
            ],
            [
                "86da7f4cca9fd763"
            ]
        ]
    },
    {
        "id": "f890c69938335731",
        "type": "trigger",
        "z": "6df0226504208616",
        "name": "FILTER",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "3",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1160,
        "y": 620,
        "wires": [
            [
                "cdda54c1c95885b5"
            ]
        ]
    },
    {
        "id": "3b21f19e91b9979f",
        "type": "ui-switch",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "SummerTime",
        "label": "SummerTime",
        "group": "3f286b473c9966df",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 560,
        "y": 840,
        "wires": [
            [
                "4445d551c97a8c33"
            ]
        ]
    },
    {
        "id": "9a193a329c78ad67",
        "type": "ui-switch",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "HappyHome",
        "label": "HappyHome",
        "group": "3f286b473c9966df",
        "order": 7,
        "width": "2",
        "height": "1",
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 550,
        "y": 780,
        "wires": [
            [
                "e97e2897e23ddfe6"
            ]
        ]
    },
    {
        "id": "020e359865b706b7",
        "type": "ui-text-input",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "group": "f9c985920afe1003",
        "name": "",
        "label": "Temperature",
        "order": 4,
        "width": "2",
        "height": "1",
        "topic": "topic",
        "topicType": "msg",
        "mode": "number",
        "delay": "500",
        "passthru": false,
        "sendOnDelay": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "x": 490,
        "y": 900,
        "wires": [
            [
                "886304c986eee280",
                "9359b42c3ccac442"
            ]
        ]
    },
    {
        "id": "8b7b2563069281bc",
        "type": "ui-control",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "ui": "7f0c45a9432dc256",
        "events": "connect",
        "x": 100,
        "y": 900,
        "wires": [
            [
                "bc2016b761b16427"
            ]
        ]
    },
    {
        "id": "c65b05ecba8d2a14",
        "type": "change",
        "z": "6df0226504208616",
        "g": "a1794e13fa3182f6",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "on",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2030,
        "y": 540,
        "wires": [
            [
                "a41f36b66f32ca92"
            ]
        ]
    },
    {
        "id": "48e94d16bcba20da",
        "type": "change",
        "z": "6df0226504208616",
        "g": "a1794e13fa3182f6",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "on",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "targetTemperature",
                "pt": "msg",
                "to": "correctedTemp",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "mode",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "swing",
                "pt": "msg",
                "to": "swing",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "msg",
                "to": "fanlevel",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2030,
        "y": 500,
        "wires": [
            [
                "a41f36b66f32ca92"
            ]
        ]
    },
    {
        "id": "88f762e6368aa7c0",
        "type": "light-scheduler",
        "z": "6df0226504208616",
        "settings": "b257c3b61872d5b6",
        "events": "[{\"start\":{\"dow\":4,\"mod\":390},\"end\":{\"dow\":4,\"mod\":480}},{\"start\":{\"dow\":3,\"mod\":390},\"end\":{\"dow\":3,\"mod\":480}},{\"start\":{\"dow\":1,\"mod\":390},\"end\":{\"dow\":1,\"mod\":480}},{\"start\":{\"dow\":5,\"mod\":390},\"end\":{\"dow\":5,\"mod\":480}},{\"start\":{\"dow\":2,\"mod\":390},\"end\":{\"dow\":2,\"mod\":480}},{\"start\":{\"dow\":0,\"mod\":480},\"end\":{\"dow\":0,\"mod\":1290}},{\"start\":{\"dow\":6,\"mod\":480},\"end\":{\"dow\":6,\"mod\":1290}},{\"start\":{\"dow\":1,\"mod\":840},\"end\":{\"dow\":1,\"mod\":1290}},{\"start\":{\"dow\":2,\"mod\":840},\"end\":{\"dow\":2,\"mod\":1290}},{\"start\":{\"dow\":3,\"mod\":840},\"end\":{\"dow\":3,\"mod\":1290}},{\"start\":{\"dow\":4,\"mod\":840},\"end\":{\"dow\":4,\"mod\":1290}},{\"start\":{\"dow\":5,\"mod\":840},\"end\":{\"dow\":5,\"mod\":1290}},{\"start\":{\"dow\":5,\"mod\":480},\"end\":{\"dow\":5,\"mod\":840}},{\"start\":{\"dow\":4,\"mod\":485},\"end\":{\"dow\":4,\"mod\":840}},{\"start\":{\"dow\":3,\"mod\":485},\"end\":{\"dow\":3,\"mod\":840}},{\"start\":{\"dow\":2,\"mod\":480},\"end\":{\"dow\":2,\"mod\":840}},{\"start\":{\"dow\":1,\"mod\":480},\"end\":{\"dow\":1,\"mod\":840}}]",
        "topic": "",
        "name": "HEATPUMP SCHEDULE",
        "onPayload": "true",
        "onPayloadType": "bool",
        "offPayload": "false",
        "offPayloadType": "bool",
        "onlyWhenDark": false,
        "scheduleRndMax": 0,
        "sunElevationThreshold": 6,
        "sunShowElevationInStatus": false,
        "outputfreq": "output.statechange.startup",
        "x": 1490,
        "y": 560,
        "wires": [
            [
                "cdda54c1c95885b5"
            ]
        ]
    },
    {
        "id": "454183b20762b1c6",
        "type": "subflow:05933d2d8abb4be7",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "",
        "x": 310,
        "y": 560,
        "wires": [
            [
                "e5900fb71b890322"
            ],
            []
        ]
    },
    {
        "id": "63aae3d5e0e9fbe3",
        "type": "subflow:05933d2d8abb4be7",
        "z": "6df0226504208616",
        "name": "",
        "x": 1470,
        "y": 320,
        "wires": [
            [
                "a02daa6ef78eada1"
            ],
            []
        ]
    },
    {
        "id": "0df6de6f87baf7f1",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "set min&max Temp",
        "rules": [
            {
                "t": "set",
                "p": "minTemp",
                "pt": "flow",
                "to": "20",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "maxTemp",
                "pt": "flow",
                "to": "30",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "f69bbf05.bdd49",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "enable",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "enable",
        "payload": "true",
        "payloadType": "bool",
        "x": 1669.5,
        "y": 1390,
        "wires": [
            [
                "85c9d2c917a42563"
            ]
        ]
    },
    {
        "id": "143523b2.2f165c",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "disable",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "enable",
        "payload": "false",
        "payloadType": "bool",
        "x": 1670,
        "y": 1440,
        "wires": [
            [
                "85c9d2c917a42563"
            ]
        ]
    },
    {
        "id": "39f6a65e9b06bb76",
        "type": "sensibo in",
        "z": "6df0226504208616",
        "g": "618f8f538592ecef",
        "sensiboAPI": "8500b44945f22748",
        "name": "",
        "pod": "VfTc6vFm",
        "getconfig": true,
        "getACState": false,
        "polltime": "0",
        "x": 1120,
        "y": 1280,
        "wires": [
            [
                "14150d9b72d86dd6"
            ]
        ]
    },
    {
        "id": "c580d09bb8a3989e",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "Calculate temperature",
        "links": [
            "3d29453fc5dbcc29"
        ],
        "x": 1865,
        "y": 1220,
        "wires": [
            [
                "b6a91a79ebe2ca38"
            ]
        ]
    },
    {
        "id": "a4c4757f465e4957",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "618f8f538592ecef",
        "name": "Set Mode",
        "links": [
            "896aa735a80611d5",
            "5346ecce7ddb6882",
            "b4d557df3e42313a"
        ],
        "x": 865,
        "y": 1280,
        "wires": [
            [
                "39f6a65e9b06bb76"
            ]
        ]
    },
    {
        "id": "0f6a9f8584b543f2",
        "type": "time-range-switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "20:30",
        "endTime": "21:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 2490,
        "y": 1600,
        "wires": [
            [],
            [
                "3d29453fc5dbcc29"
            ]
        ]
    },
    {
        "id": "e6218962b047afb4",
        "type": "change",
        "z": "6df0226504208616",
        "g": "d72b39d80e2dd2d0",
        "name": "Cool Bedtime",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "cool",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "swing",
                "pt": "flow",
                "to": "fixedBottom",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "correctedTemp",
                "pt": "flow",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "flow",
                "to": "high",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2300,
        "y": 760,
        "wires": [
            [
                "48e94d16bcba20da"
            ]
        ]
    },
    {
        "id": "634497fb082c9377",
        "type": "sensibo in",
        "z": "6df0226504208616",
        "sensiboAPI": "8500b44945f22748",
        "name": "",
        "pod": "VfTc6vFm",
        "getconfig": true,
        "getACState": false,
        "polltime": "0",
        "x": 3020,
        "y": 620,
        "wires": [
            [
                "b8f7ef288560b093"
            ]
        ]
    },
    {
        "id": "8772bf1cc1098107",
        "type": "inject",
        "z": "6df0226504208616",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2880,
        "y": 620,
        "wires": [
            [
                "634497fb082c9377"
            ]
        ]
    },
    {
        "id": "b8f7ef288560b093",
        "type": "debug",
        "z": "6df0226504208616",
        "name": "debug 83",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3200,
        "y": 620,
        "wires": []
    },
    {
        "id": "53138175bc43b551",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "d72b39d80e2dd2d0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "32 20 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1910,
        "y": 720,
        "wires": [
            [
                "a370a97cd6cd7b85"
            ]
        ]
    },
    {
        "id": "d0e0f0b0881bd5a8",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "0.0",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "0.1",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "0.2",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "0.6",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "0.96",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 6,
        "x": 1990,
        "y": 1600,
        "wires": [
            [
                "f5b364a64579517b"
            ],
            [
                "5c32cf97fac8c5fe"
            ],
            [
                "9254f6a1e7f54470"
            ],
            [
                "9254f6a1e7f54470"
            ],
            [
                "9254f6a1e7f54470"
            ],
            [
                "0c401bc0a9f39846"
            ]
        ]
    },
    {
        "id": "5c32cf97fac8c5fe",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "low",
        "rules": [
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "flow",
                "to": "low",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2190,
        "y": 1600,
        "wires": [
            [
                "0f6a9f8584b543f2"
            ]
        ]
    },
    {
        "id": "9254f6a1e7f54470",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "medium",
        "rules": [
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "flow",
                "to": "medium",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2200,
        "y": 1640,
        "wires": [
            [
                "0f6a9f8584b543f2"
            ]
        ]
    },
    {
        "id": "73e81edd21f659c2",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "High",
        "rules": [
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "flow",
                "to": "high",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2350,
        "y": 1720,
        "wires": [
            [
                "0f6a9f8584b543f2"
            ]
        ]
    },
    {
        "id": "f5b364a64579517b",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "quiet",
        "rules": [
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "flow",
                "to": "quiet",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2190,
        "y": 1560,
        "wires": [
            [
                "0f6a9f8584b543f2"
            ]
        ]
    },
    {
        "id": "74b25828ae3bf670",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "Default MinMax Temp",
        "links": [
            "5346ecce7ddb6882"
        ],
        "x": 1305,
        "y": 1660,
        "wires": [
            [
                "0df6de6f87baf7f1"
            ]
        ]
    },
    {
        "id": "5346ecce7ddb6882",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "Home",
        "mode": "link",
        "links": [
            "a4c4757f465e4957",
            "74b25828ae3bf670"
        ],
        "x": 845,
        "y": 460,
        "wires": []
    },
    {
        "id": "14150d9b72d86dd6",
        "type": "change",
        "z": "6df0226504208616",
        "g": "618f8f538592ecef",
        "name": "Set Temp",
        "rules": [
            {
                "t": "set",
                "p": "upstairsCurrentTemp",
                "pt": "flow",
                "to": "result.measurements.temperature ",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "downstairsCurrentTemp",
                "pt": "flow",
                "to": "result.motionSensors[0].measurements.temperature - 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1280,
        "wires": [
            [
                "7654ddd39adf0de2"
            ]
        ]
    },
    {
        "id": "b9845ab333b2c4c5",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "Fan and swing levels",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[[\"stopped\",\"fixedTop\",\"fixedMiddleTop\",\"fixedMiddle\",\"fixedMiddleBottom\",\"fixedBottom\",\"rangeFull\"],[\"quiet\",\"low\",\"medium\",\"medium_high\",\"high\",\"auto\",\"strong\"]]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "3d29453fc5dbcc29",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "Temperature",
        "mode": "link",
        "links": [
            "c580d09bb8a3989e"
        ],
        "x": 2685,
        "y": 1600,
        "wires": []
    },
    {
        "id": "4f8a2adbb41ccd36",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "link out 21",
        "mode": "link",
        "links": [
            "576f7a8170f57d38"
        ],
        "x": 2675,
        "y": 1260,
        "wires": []
    },
    {
        "id": "a370a97cd6cd7b85",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "d72b39d80e2dd2d0",
        "name": "Mode = HOME",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 2120,
        "y": 720,
        "wires": [
            [
                "631cd00203fc49b0"
            ]
        ]
    },
    {
        "id": "631cd00203fc49b0",
        "type": "change",
        "z": "6df0226504208616",
        "g": "d72b39d80e2dd2d0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "tempOn",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2120,
        "y": 760,
        "wires": [
            [
                "e6218962b047afb4"
            ]
        ]
    },
    {
        "id": "fa8f500e932acb55",
        "type": "delay",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 940,
        "wires": [
            [
                "896aa735a80611d5"
            ]
        ]
    },
    {
        "id": "9585b22a.f41dd8",
        "type": "function",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "Split Heat/Cool",
        "func": "/* A function designed to be used with node-red-contrib-pid in applications where both\n * heating and cooling are available to control the system.\n * The node is given a power value in msg.payload in the range 0 to 1, such as is produced by \n * node-red-contrib-pid and splits this into a heat power (o/p 1) and cool power (o/p 2) where\n * each is in the range 0 to 1.  These can then be fed directly into an output device, if this\n * is continuously variable, or they may be passed to node-red-contrib-timeprop nodes to generate\n * time proportioned on/off outputs.\n * There are two particular issues to be dealt with in a heat/cool application. Firstly is the fact\n * that the cooling device may be more or less powerful than the heating device. It is necessary\n * therefore to be able to adjust the gain of the system separately for heating and cooling. Secondly\n * is the highly non-linear response of some devices, notably refrigerant systems, that can have a\n * large effect initially, then this tails off. To compensate for this it is useful to have an \n * overlap range where both heat and cool are slightly on.\n *\n * To allow for these requirements two variables can be set below. The value of the power input value\n * where the heating starts to come on is determined by the variable heatMin.  Above this value the\n * heating will rise till it is fully on with an input of 1.\n * The cooling is fully on when value of the power input is 0, and falls till the cooling is fully\n * off at an input of coolMin.\n *\n * If the heating and cooling systems are of similar power then set heatMin and coolMin both to 0.5\n * in which case input values of 0.5 to 1.0 will map to heating outputs of 0.0 to 1.0,\n * and 0.5 down to 0.0 will map to cooling 0.0 to 1.0.\n * If, for example, the cooling system is more powerful than heating then they can both be set\n * to something like 0.7 which increases the gain in the heating region and reduces it\n * in the cooling region, to compensate for the different powers in the heating/cooling systems.\n * If some overlap is desired (so that both heat and cool are on slightly near the crossover\n * point) then overlap the two settings so that, for example, heatMin might be 0.45 and coolMin\n * might be 0.55\n */\n\n// set these as described above\nvar heatMin = 0.6;          // the value of input corresponding to 0 heat o/p\nvar coolMin = 0.6;          // the value of input corresponding to 0 cool o/p\n    \nvar power = msg.payload;\nvar heat = (power - heatMin)/(1 - heatMin);\n// limit to range 0 to 1\n\nheat = Math.min(Math.max(heat, 0), 1);\nvar cool = (coolMin - power) / coolMin;\n// limit to range 0 to 1\n\ncool = Math.min(Math.max(cool, 0), 1);\nreturn [{payload: heat}, {payload: cool}];\n",
        "outputs": "2",
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2000,
        "y": 1440,
        "wires": [
            [
                "02dd28a87ada02ab"
            ],
            [
                "622314307835baf3"
            ]
        ]
    },
    {
        "id": "f47773cda8bbfc21",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "618f8f538592ecef",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 870,
        "y": 1240,
        "wires": [
            [
                "39f6a65e9b06bb76"
            ]
        ]
    },
    {
        "id": "02dd28a87ada02ab",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "heat",
        "property": "mode",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "heat",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2170,
        "y": 1420,
        "wires": [
            [
                "3b207069e1580f91"
            ]
        ]
    },
    {
        "id": "622314307835baf3",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "cool",
        "property": "mode",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "cool",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2170,
        "y": 1460,
        "wires": [
            [
                "042bce84e84e5685",
                "02dd28a87ada02ab"
            ]
        ]
    },
    {
        "id": "5c17644693ebd710",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "Sent to PID ",
        "rules": [
            {
                "t": "set",
                "p": "setpoint",
                "pt": "msg",
                "to": "desiredTemp",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "pidTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 1500,
        "wires": [
            [
                "71e428c071db755f",
                "85c9d2c917a42563"
            ]
        ]
    },
    {
        "id": "71e428c071db755f",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "TO CHART",
        "mode": "link",
        "links": [],
        "x": 1775,
        "y": 1560,
        "wires": []
    },
    {
        "id": "85c9d2c917a42563",
        "type": "PID",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "",
        "setpoint": "",
        "pb": "0.1",
        "ti": "200",
        "td": "60",
        "integral_default": "0.2",
        "smooth_factor": "1",
        "max_interval": "400",
        "enable": 1,
        "disabled_op": 0,
        "x": 1810,
        "y": 1500,
        "wires": [
            [
                "9585b22a.f41dd8"
            ]
        ]
    },
    {
        "id": "317d10ba9b021d65",
        "type": "change",
        "z": "6df0226504208616",
        "name": "Stroe curent desiredTemp",
        "rules": [
            {
                "t": "set",
                "p": "storedDesiredTemp",
                "pt": "flow",
                "to": "desiredTemp",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "desiredTemp",
                "pt": "flow",
                "to": "19",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "78fb4de531292bbc",
        "type": "change",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "Get storedDesiredTemp",
        "rules": [
            {
                "t": "set",
                "p": "desiredTemp",
                "pt": "flow",
                "to": "storedDesiredTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 460,
        "wires": [
            [
                "5346ecce7ddb6882"
            ]
        ]
    },
    {
        "id": "9db00b34b2fd1a72",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "Disable/Enable",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "tempOn",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "enable",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1420,
        "y": 1440,
        "wires": [
            [
                "85c9d2c917a42563"
            ]
        ]
    },
    {
        "id": "0c401bc0a9f39846",
        "type": "time-range-switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "05:55",
        "endTime": "07:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1970,
        "y": 1680,
        "wires": [
            [
                "9254f6a1e7f54470"
            ],
            [
                "29b7553056896fdc"
            ]
        ]
    },
    {
        "id": "c551d6276c00e8b4",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 15 * * 1,2,3,4,5",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 440,
        "wires": [
            [
                "06fb22866a0ba099"
            ]
        ]
    },
    {
        "id": "06fb22866a0ba099",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "Mode: away",
        "property": "mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 440,
        "wires": [
            [
                "78fb4de531292bbc",
                "abc12d823b0c982f"
            ]
        ]
    },
    {
        "id": "6001e2a3c26183f7",
        "type": "rbe",
        "z": "6df0226504208616",
        "name": "correctedTemp",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "correctedTemp",
        "topi": "topic",
        "x": 1860,
        "y": 360,
        "wires": [
            [
                "afce88fd3ae608d3"
            ]
        ]
    },
    {
        "id": "af9043e8051782fd",
        "type": "rbe",
        "z": "6df0226504208616",
        "name": "swing",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "swing",
        "topi": "topic",
        "x": 1830,
        "y": 320,
        "wires": [
            [
                "afce88fd3ae608d3"
            ]
        ]
    },
    {
        "id": "5fc837c35b05b1aa",
        "type": "rbe",
        "z": "6df0226504208616",
        "name": "mode",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "mode",
        "topi": "topic",
        "x": 1830,
        "y": 280,
        "wires": [
            [
                "afce88fd3ae608d3"
            ]
        ]
    },
    {
        "id": "a02daa6ef78eada1",
        "type": "change",
        "z": "6df0226504208616",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "mode",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "swing",
                "pt": "msg",
                "to": "swing",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "correctedTemp",
                "pt": "msg",
                "to": "correctedTemp",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "fanlevel",
                "pt": "msg",
                "to": "fanlevel",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 320,
        "wires": [
            [
                "af9043e8051782fd",
                "6001e2a3c26183f7",
                "5fc837c35b05b1aa",
                "e64563a2f99b4a3b"
            ]
        ]
    },
    {
        "id": "9359b42c3ccac442",
        "type": "debug",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "debug 84",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 980,
        "wires": []
    },
    {
        "id": "3b207069e1580f91",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "correctedTemp",
        "rules": [
            {
                "t": "set",
                "p": "correctedTemp",
                "pt": "flow",
                "to": "$ceil(\t   payload * ($flowContext('maxTemp') -  $flowContext('minTemp')) + $flowContext('minTemp')\t)\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2340,
        "y": 1420,
        "wires": [
            [
                "d0e0f0b0881bd5a8"
            ]
        ]
    },
    {
        "id": "042bce84e84e5685",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "correctedTemp",
        "rules": [
            {
                "t": "set",
                "p": "correctedTemp",
                "pt": "flow",
                "to": "$ceil(\t   $flowContext('maxTemp') - payload * ($flowContext('maxTemp') -  $flowContext('minTemp'))\t)\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2340,
        "y": 1460,
        "wires": [
            [
                "d0e0f0b0881bd5a8"
            ]
        ]
    },
    {
        "id": "ca7cbcc1893201bc",
        "type": "inject",
        "z": "6df0226504208616",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1020,
        "y": 720,
        "wires": [
            [
                "6bed44df9a96c7f5"
            ]
        ]
    },
    {
        "id": "29b7553056896fdc",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2110,
        "y": 1740,
        "wires": [
            [
                "9254f6a1e7f54470"
            ],
            [
                "aa57f9e45f6b76c5"
            ]
        ]
    },
    {
        "id": "e64563a2f99b4a3b",
        "type": "rbe",
        "z": "6df0226504208616",
        "name": "fanlevel ",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "fanlevel",
        "topi": "topic",
        "x": 1840,
        "y": 400,
        "wires": [
            [
                "afce88fd3ae608d3"
            ]
        ]
    },
    {
        "id": "4b93c7c7130630d3",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "618f8f538592ecef",
        "name": "link out 23",
        "mode": "link",
        "links": [
            "13fcc87ac38916bc"
        ],
        "x": 1565,
        "y": 1280,
        "wires": []
    },
    {
        "id": "13fcc87ac38916bc",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "link in 9",
        "links": [
            "4b93c7c7130630d3"
        ],
        "x": 965,
        "y": 1560,
        "wires": [
            [
                "d7af4025808c3d41"
            ]
        ]
    },
    {
        "id": "ee28ca0f7cc9a27c",
        "type": "link out",
        "z": "6df0226504208616",
        "name": "link out 24",
        "mode": "link",
        "links": [
            "0c948d73c06bf659"
        ],
        "x": 1635,
        "y": 620,
        "wires": []
    },
    {
        "id": "0c948d73c06bf659",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "link in 10",
        "links": [
            "ee28ca0f7cc9a27c"
        ],
        "x": 1195,
        "y": 1440,
        "wires": [
            [
                "9db00b34b2fd1a72"
            ]
        ]
    },
    {
        "id": "2192e8a53bea623d",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "swing Bottom",
        "rules": [
            {
                "t": "set",
                "p": "swing",
                "pt": "flow",
                "to": "fixedBottom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 1600,
        "wires": [
            [
                "5c17644693ebd710"
            ]
        ]
    },
    {
        "id": "d9c7c8acd004af0b",
        "type": "change",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "swing Top",
        "rules": [
            {
                "t": "set",
                "p": "pidTemp",
                "pt": "flow",
                "to": "upstairsCurrentTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1540,
        "y": 1560,
        "wires": [
            [
                "5c17644693ebd710"
            ]
        ]
    },
    {
        "id": "d7af4025808c3d41",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "UpstairsOrDownstairs",
        "property": "$flowContext(\"upstairsCurrentTemp\") ",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "gte",
                "v": "downstairsCurrentTemp",
                "vt": "flow"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1120,
        "y": 1560,
        "wires": [
            [
                "fdead2b41b1381ae"
            ],
            [
                "2192e8a53bea623d"
            ]
        ],
        "outputLabels": [
            "Heat Downstairs",
            "Heat Upstairs"
        ]
    },
    {
        "id": "a784afbb4c38fb77",
        "type": "ui-button",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "group": "f9c985920afe1003",
        "name": "",
        "label": "OFF",
        "order": 3,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "false",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1010,
        "y": 340,
        "wires": [
            [
                "8a7c196d53d4237a",
                "b11c993fafc63bb9"
            ]
        ]
    },
    {
        "id": "ba1166a8a3592f19",
        "type": "ui-button",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "group": "f9c985920afe1003",
        "name": "",
        "label": "ON",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "false",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1010,
        "y": 380,
        "wires": [
            [
                "8a7c196d53d4237a",
                "2a4c81b9f29cdd45"
            ]
        ]
    },
    {
        "id": "7654ddd39adf0de2",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "618f8f538592ecef",
        "name": "On/OFF",
        "property": "tempOn",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1460,
        "y": 1280,
        "wires": [
            [
                "4b93c7c7130630d3"
            ]
        ]
    },
    {
        "id": "aa57f9e45f6b76c5",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "",
        "property": "upstairsCurrentTemp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "downstairsCurrentTemp",
                "vt": "flow"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2220,
        "y": 1740,
        "wires": [
            [
                "9254f6a1e7f54470"
            ],
            [
                "73e81edd21f659c2"
            ]
        ]
    },
    {
        "id": "40c41a90bc123561",
        "type": "ui-button",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "group": "f9c985920afe1003",
        "name": "",
        "label": "AUTO",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "true",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1010,
        "y": 420,
        "wires": [
            [
                "1143fa19d1277481",
                "8a7c196d53d4237a",
                "b4d557df3e42313a"
            ]
        ]
    },
    {
        "id": "b4d557df3e42313a",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "name": "link out 25",
        "mode": "link",
        "links": [
            "a4c4757f465e4957"
        ],
        "x": 1165,
        "y": 400,
        "wires": []
    },
    {
        "id": "b11c993fafc63bb9",
        "type": "change",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "name": "set on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 440,
        "wires": [
            [
                "6e32bf19c51ed3a4"
            ]
        ]
    },
    {
        "id": "a41f36b66f32ca92",
        "type": "subflow:05933d2d8abb4be7",
        "z": "6df0226504208616",
        "g": "a1794e13fa3182f6",
        "name": "",
        "x": 2230,
        "y": 540,
        "wires": [
            [
                "1d5369f2e93e8467"
            ],
            []
        ]
    },
    {
        "id": "1d5369f2e93e8467",
        "type": "sensibo send",
        "z": "6df0226504208616",
        "g": "a1794e13fa3182f6",
        "sensiboAPI": "8500b44945f22748",
        "name": "",
        "pod": "VfTc6vFm",
        "podSelector": "",
        "x": 2410,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "d402cbeefa79b5d0",
        "type": "trigger",
        "z": "6df0226504208616",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2150,
        "y": 280,
        "wires": [
            [
                "dcb046bbb6008951"
            ]
        ]
    },
    {
        "id": "85f8fe87dd4b61fc",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "swing Bottom",
        "rules": [
            {
                "t": "set",
                "p": "swing",
                "pt": "flow",
                "to": "fixedBottom",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "pidTemp",
                "pt": "flow",
                "to": "downstairsCurrentTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2540,
        "y": 1140,
        "wires": [
            [
                "4f8a2adbb41ccd36"
            ]
        ]
    },
    {
        "id": "293afdcbdd3ac975",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "swing Top",
        "rules": [
            {
                "t": "set",
                "p": "swing",
                "pt": "flow",
                "to": "fixedTop",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "pidTemp",
                "pt": "flow",
                "to": "upstairsCurrentTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2520,
        "y": 1180,
        "wires": [
            [
                "4f8a2adbb41ccd36"
            ]
        ]
    },
    {
        "id": "fbba0ddce9e8a6c0",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "",
        "property": "mode",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "cool",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2370,
        "y": 1140,
        "wires": [
            [
                "293afdcbdd3ac975"
            ],
            [
                "85f8fe87dd4b61fc"
            ]
        ]
    },
    {
        "id": "fdead2b41b1381ae",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "30b092e53a6e3512",
        "name": "",
        "property": "downstairsCurrentTemp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "lte",
                "v": "20",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1350,
        "y": 1540,
        "wires": [
            [
                "2192e8a53bea623d"
            ],
            [
                "d9c7c8acd004af0b"
            ]
        ]
    },
    {
        "id": "993ad658953ab153",
        "type": "inject",
        "z": "6df0226504208616",
        "name": "",
        "props": [
            {
                "p": "reset",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1580,
        "y": 400,
        "wires": [
            [
                "e64563a2f99b4a3b"
            ]
        ]
    },
    {
        "id": "abc12d823b0c982f",
        "type": "debug",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "debug 85",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 420,
        "wires": []
    },
    {
        "id": "3a621e1.6c980e2",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "18000",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "{   viewer {     home(id: \"142c1670-ab43-2ab3-ba6d-723703a551e2\") {       currentSubscription{         priceInfo{           today {             total             energy             tax             startsAt           }           tomorrow {             total             energy             tax             startsAt           }         }       }     }   } }",
        "payloadType": "str",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "459349dfcd1788c8"
            ]
        ]
    },
    {
        "id": "1f5b698b.c40ec6",
        "type": "tibber-feed",
        "z": "15652aa.fd5c4d5",
        "name": "Heggland",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "homeId": "50c631b0-94da-4fd9-ac4c-f767e223de07",
        "timestamp": false,
        "power": true,
        "lastMeterConsumption": true,
        "accumulatedConsumption": true,
        "accumulatedProduction": false,
        "accumulatedConsumptionLastHour": true,
        "accumulatedProductionLastHour": false,
        "accumulatedCost": false,
        "accumulatedReward": false,
        "currency": false,
        "minPower": false,
        "averagePower": false,
        "maxPower": false,
        "powerProduction": false,
        "minPowerProduction": false,
        "maxPowerProduction": false,
        "lastMeterProduction": false,
        "powerFactor": false,
        "voltagePhase1": false,
        "voltagePhase2": false,
        "voltagePhase3": false,
        "currentL1": false,
        "currentL2": false,
        "currentL3": false,
        "signalStrength": false,
        "x": 140,
        "y": 780,
        "wires": [
            [
                "1e7116aeb4426982"
            ]
        ]
    },
    {
        "id": "4d90c0d9.a283f",
        "type": "tibber-query",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "x": 470,
        "y": 80,
        "wires": [
            [
                "264aa2ac0ba723fa"
            ]
        ]
    },
    {
        "id": "fb875b11.4c9c18",
        "type": "tibber-notify",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "notifyTitle": "",
        "notifyMessage": "",
        "notifyScreen": "",
        "x": 430,
        "y": 160,
        "wires": []
    },
    {
        "id": "1f3d8f53.3561c1",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"title\":\"Test\",\"message\":\"This is a simple test\",\"screen\":\"HOME\"}",
        "payloadType": "json",
        "x": 220,
        "y": 160,
        "wires": [
            [
                "fb875b11.4c9c18"
            ]
        ]
    },
    {
        "id": "0911a3e961c90766",
        "type": "switch",
        "z": "15652aa.fd5c4d5",
        "name": "Current Power",
        "property": "payload.power",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4500",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "3500",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 500,
        "y": 780,
        "wires": [
            [
                "5893340b1743a6a1"
            ],
            [
                "7543444ed89d60f0"
            ]
        ]
    },
    {
        "id": "fe09f6b01a7587a0",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Power HIGH",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\"Power Usage is HIGH: Power is at \" &payload.power ",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 780,
        "wires": [
            [
                "bd2186f08e42c63b"
            ]
        ]
    },
    {
        "id": "858b8605826bec63",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "5cfbdbd83670143c"
        ],
        "x": 1525,
        "y": 780,
        "wires": []
    },
    {
        "id": "052f3d28a092f444",
        "type": "trigger",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 990,
        "y": 780,
        "wires": [
            [
                "fe09f6b01a7587a0"
            ]
        ]
    },
    {
        "id": "7543444ed89d60f0",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Reset last_measured",
        "rules": [
            {
                "t": "set",
                "p": "last_measured",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "459349dfcd1788c8",
        "type": "function",
        "z": "15652aa.fd5c4d5",
        "name": "Single Home",
        "func": "msg.payload =\n\"{   viewer { home(id: \\\"50c631b0-94da-4fd9-ac4c-f767e223de07\\\") {currentSubscription{  priceInfo{today {  total  energy  tax  startsAt}tomorrow {  total  energy  tax  startsAt}  }} }   } }\"\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 80,
        "wires": [
            [
                "4d90c0d9.a283f"
            ]
        ]
    },
    {
        "id": "e0f4bc77f36c022a",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "link out 2",
        "mode": "link",
        "links": [
            "5cfbdbd83670143c"
        ],
        "x": 1615,
        "y": 60,
        "wires": []
    },
    {
        "id": "207ec618a3073c3c",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Power ON",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Power schedule is on",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 20,
        "wires": [
            [
                "f1d6ae4de07e3bdf"
            ]
        ]
    },
    {
        "id": "67c4b006c62d09d4",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Power OFF",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Power cann not be used",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 60,
        "wires": [
            [
                "f1d6ae4de07e3bdf"
            ]
        ]
    },
    {
        "id": "f1d6ae4de07e3bdf",
        "type": "rbe",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 1510,
        "y": 40,
        "wires": [
            [
                "e0f4bc77f36c022a"
            ]
        ]
    },
    {
        "id": "32a0b9d95d5f01ed",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "name": "set Temperature",
        "mode": "link",
        "links": [
            "425971ea4db9dc68"
        ],
        "x": 1195,
        "y": 220,
        "wires": []
    },
    {
        "id": "bd2186f08e42c63b",
        "type": "time-range-switch",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "",
        "lat": "58.8713",
        "lon": "5.7168",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1370,
        "y": 780,
        "wires": [
            [
                "858b8605826bec63"
            ],
            []
        ]
    },
    {
        "id": "cb719895315359f3",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 500,
        "y": 820,
        "wires": [
            [
                "7543444ed89d60f0"
            ]
        ]
    },
    {
        "id": "264aa2ac0ba723fa",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "priceData",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 120,
        "wires": [
            [
                "48e83ca74d8bc7ba"
            ]
        ]
    },
    {
        "id": "7e9dc56a7125a4f5",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "priceData",
        "payloadType": "flow",
        "x": 480,
        "y": 20,
        "wires": [
            [
                "48e83ca74d8bc7ba"
            ]
        ]
    },
    {
        "id": "b0fdfb7de098c15a",
        "type": "mqtt in",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "",
        "topic": "tibber/lostdata",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 1080,
        "wires": [
            [
                "4a8c8715361352a1",
                "2206cf804279bce4"
            ]
        ]
    },
    {
        "id": "9c907e1d118e1133",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "link out 4",
        "mode": "link",
        "links": [
            "662ff2faf119d193"
        ],
        "x": 605,
        "y": 1080,
        "wires": []
    },
    {
        "id": "4a8c8715361352a1",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Noting have been registered for 10 Minutes",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 1080,
        "wires": [
            [
                "9c907e1d118e1133"
            ]
        ]
    },
    {
        "id": "2206cf804279bce4",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "debug 19",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 1160,
        "wires": []
    },
    {
        "id": "5893340b1743a6a1",
        "type": "function",
        "z": "15652aa.fd5c4d5",
        "name": "Higher than last_measured",
        "func": "let last_measured = flow.get(\"last_measured\") || 0;\n\nif (msg.payload.power > last_measured){\n    last_measured = msg.payload.power\n    flow.set(\"last_measured\", last_measured);\n\nreturn msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 780,
        "wires": [
            [
                "052f3d28a092f444"
            ]
        ]
    },
    {
        "id": "6692caeafc9b13b0",
        "type": "switch",
        "z": "15652aa.fd5c4d5",
        "name": "Accumulated this hhour",
        "property": "payload.accumulatedConsumptionLastHour",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4.6",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0.1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 880,
        "wires": [
            [
                "3fe4bff2327460c9"
            ],
            [
                "612b2ceb4e7d7b5a"
            ]
        ]
    },
    {
        "id": "3fe4bff2327460c9",
        "type": "trigger",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 860,
        "y": 860,
        "wires": [
            [
                "b0e3b11f99e9b336"
            ]
        ]
    },
    {
        "id": "b0e3b11f99e9b336",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Consumption HIGH",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\" Consumption is HIGH: Consumption is at \" &payload.accumulatedConsumptionLastHour",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 860,
        "wires": [
            [
                "d18f32d84c4f3637"
            ]
        ]
    },
    {
        "id": "d18f32d84c4f3637",
        "type": "time-range-switch",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "lat": "58.8713",
        "lon": "5.7168",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1390,
        "y": 860,
        "wires": [
            [
                "858b8605826bec63"
            ],
            []
        ]
    },
    {
        "id": "612b2ceb4e7d7b5a",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 900,
        "wires": [
            [
                "3fe4bff2327460c9"
            ]
        ]
    },
    {
        "id": "cebda535547a8a8c",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload.accumulatedConsumptionLastHour",
                "v": "4.7",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 220,
        "y": 920,
        "wires": [
            [
                "6692caeafc9b13b0"
            ]
        ]
    },
    {
        "id": "1e7116aeb4426982",
        "type": "delay",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 780,
        "wires": [
            [
                "0911a3e961c90766",
                "6692caeafc9b13b0",
                "e43222e154fd142b"
            ]
        ]
    },
    {
        "id": "e43222e154fd142b",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "debug 37",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 480,
        "y": 740,
        "wires": []
    },
    {
        "id": "f149bfebe7926479",
        "type": "tibber-data",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "queryName": "getConsumption",
        "homeId": "50c631b0-94da-4fd9-ac4c-f767e223de07",
        "energyResolution": "HOURLY",
        "lastCount": 10,
        "x": 680,
        "y": 1380,
        "wires": [
            [
                "b5b385242b1f7af9"
            ]
        ]
    },
    {
        "id": "5380cad09511f7cb",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 430,
        "y": 1360,
        "wires": [
            [
                "f149bfebe7926479"
            ]
        ]
    },
    {
        "id": "b5b385242b1f7af9",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "debug 39",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 1360,
        "wires": []
    },
    {
        "id": "3a1184cc27422ca7",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "Best Save",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1250,
        "y": 120,
        "wires": []
    },
    {
        "id": "137f3aca6d394e9f",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "Heat Capasitor",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 260,
        "wires": []
    },
    {
        "id": "21dfbc9a84e86769",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "Fixed Schedule",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 340,
        "wires": []
    },
    {
        "id": "adde7d669c054b47",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "Sende til FIKTIV Temperatursensor ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2180,
        "y": 320,
        "wires": [],
        "icon": "font-awesome/fa-tachometer"
    },
    {
        "id": "bcf2d0982042c8c2",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "LESE FIKTIV Temperatursensor",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "22",
        "payloadType": "num",
        "x": 510,
        "y": 500,
        "wires": [
            [
                "14c4295ce64ff3ed",
                "5b3afc4c1cfb1d84"
            ]
        ]
    },
    {
        "id": "14c4295ce64ff3ed",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "simple",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 500,
        "wires": []
    },
    {
        "id": "90058c04f3ef628c",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "LESE FIKTIV Temperatursensor",
        "props": [
            {
                "p": "payload.temp",
                "v": "22",
                "vt": "num"
            },
            {
                "p": "payload.time",
                "v": "",
                "vt": "date"
            },
            {
                "p": "payload.powerusage",
                "v": "2136",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 510,
        "y": 560,
        "wires": [
            [
                "3f2e98674a85e78b"
            ]
        ]
    },
    {
        "id": "3f2e98674a85e78b",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "array",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 560,
        "wires": []
    },
    {
        "id": "de2b220d5addd99e",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "SCHEDULE Best Save",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 160,
        "wires": []
    },
    {
        "id": "b0631605274ae7e9",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "SCHEDULE Heat Capasitor",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 300,
        "wires": []
    },
    {
        "id": "a379505ca9dd0b4d",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "SCHEDULE Fixed Schedule",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 380,
        "wires": []
    },
    {
        "id": "4604f10759ed4c97",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Normalt bruk",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "22",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1890,
        "y": 240,
        "wires": [
            [
                "adde7d669c054b47"
            ]
        ]
    },
    {
        "id": "2e6e13eab2b389fb",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "strøm sparing / ECO ",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "20",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 280,
        "wires": [
            [
                "adde7d669c054b47"
            ]
        ]
    },
    {
        "id": "849ff7a6cbd29216",
        "type": "switch",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1640,
        "y": 220,
        "wires": [
            [
                "4604f10759ed4c97",
                "37672156235b99ac"
            ],
            [
                "2e6e13eab2b389fb",
                "39dba0459e4addf6"
            ]
        ]
    },
    {
        "id": "37672156235b99ac",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Normal mode ( EKO av)",
        "rules": [
            {
                "t": "set",
                "p": "payload.ecomode",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 320,
        "wires": [
            [
                "adde7d669c054b47"
            ]
        ]
    },
    {
        "id": "39dba0459e4addf6",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "strømsparing ( EKO på) ",
        "rules": [
            {
                "t": "set",
                "p": "payload.ecomode",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 360,
        "wires": [
            [
                "adde7d669c054b47"
            ]
        ]
    },
    {
        "id": "726c55f0c8eefec2",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"config\":{\"timeHeat1C\":75,\"timeCool1C\":50,\"setpoint\":30,\"maxTempAdjustment\":0.5,\"boostTempHeat\":2,\"boostTempCool\":1,\"minSavings\":0.08}}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload.config.setpoint",
                "pt": "msg",
                "to": "termostatTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 340,
        "wires": [
            [
                "eb5b458d1fc7deda",
                "9ba86ceb8e9ee185"
            ]
        ]
    },
    {
        "id": "ebe8d33d0779e942",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 430,
        "y": 340,
        "wires": [
            [
                "726c55f0c8eefec2"
            ]
        ]
    },
    {
        "id": "eb5b458d1fc7deda",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "debug 63",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 420,
        "wires": []
    },
    {
        "id": "5b3afc4c1cfb1d84",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "termostatTemp",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "2df958d99789518a",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "originaltemp",
                "pt": "flow",
                "to": "termostatTemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e9b2c70421abbddc",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1680,
        "y": 400,
        "wires": [
            [
                "9162b6aa3d4f4acf"
            ]
        ]
    },
    {
        "id": "9162b6aa3d4f4acf",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temperatur",
                "pt": "msg",
                "to": "originaltemp",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 400,
        "wires": [
            [
                "adde7d669c054b47"
            ]
        ]
    },
    {
        "id": "48e83ca74d8bc7ba",
        "type": "ps-receive-price",
        "z": "15652aa.fd5c4d5",
        "name": "Price Receiver",
        "x": 700,
        "y": 80,
        "wires": [
            [
                "9e05d9595d856561",
                "c044cd57b65b3c36",
                "311e6fcaf9f8cca9"
            ]
        ]
    },
    {
        "id": "9e05d9595d856561",
        "type": "ps-strategy-best-save",
        "z": "15652aa.fd5c4d5",
        "name": "Best Save",
        "maxHoursToSaveInSequence": "5",
        "minHoursOnAfterMaxSequenceSaved": 2,
        "minSaving": "0.05",
        "sendCurrentValueWhenRescheduling": true,
        "outputValueForOn": "true",
        "outputValueForOff": "true",
        "outputValueForOntype": "bool",
        "outputValueForOfftype": "bool",
        "outputIfNoSchedule": "true",
        "contextStorage": "default",
        "x": 950,
        "y": 160,
        "wires": [
            [
                "207ec618a3073c3c",
                "3a1184cc27422ca7"
            ],
            [
                "67c4b006c62d09d4",
                "3a1184cc27422ca7"
            ],
            [
                "de2b220d5addd99e"
            ]
        ]
    },
    {
        "id": "9ba86ceb8e9ee185",
        "type": "ps-strategy-heat-capacitor",
        "z": "15652aa.fd5c4d5",
        "name": "Heat capacitor",
        "timeHeat1C": "75",
        "timeCool1C": 50,
        "maxTempAdjustment": "1",
        "boostTempHeat": "0",
        "boostTempCool": "0",
        "minSavings": 0.08,
        "setpoint": "22",
        "x": 960,
        "y": 240,
        "wires": [
            [
                "32a0b9d95d5f01ed",
                "137f3aca6d394e9f",
                "b0631605274ae7e9",
                "2df958d99789518a"
            ],
            [],
            [
                "b0631605274ae7e9"
            ],
            []
        ]
    },
    {
        "id": "c044cd57b65b3c36",
        "type": "ps-strategy-fixed-schedule",
        "z": "15652aa.fd5c4d5",
        "name": "Fixed Schedule",
        "periods": [
            {
                "start": "00",
                "value": "false"
            },
            {
                "start": "07",
                "value": "true"
            }
        ],
        "validFrom": "2023-01-01",
        "validTo": "2023-12-31",
        "days": {
            "Mon": true,
            "Tue": true,
            "Wed": true,
            "Thu": true,
            "Fri": true,
            "Sat": true,
            "Sun": true
        },
        "sendCurrentValueWhenRescheduling": true,
        "outputValueForOn": "true",
        "outputValueForOff": "false",
        "outputValueForOntype": "bool",
        "outputValueForOfftype": "bool",
        "outputIfNoSchedule": "false",
        "contextStorage": "default",
        "x": 960,
        "y": 320,
        "wires": [
            [
                "21dfbc9a84e86769"
            ],
            [],
            [
                "a379505ca9dd0b4d"
            ]
        ]
    },
    {
        "id": "311e6fcaf9f8cca9",
        "type": "subflow:05933d2d8abb4be7",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "x": 710,
        "y": 240,
        "wires": [
            [
                "9ba86ceb8e9ee185"
            ],
            []
        ]
    },
    {
        "id": "6521603b2e19525f",
        "type": "aedes broker",
        "z": "c83f14cc3d9b8395",
        "name": "Remote Broker",
        "mqtt_port": "1888",
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "dburl": "",
        "usetls": false,
        "x": 410,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "77d1d4b3.4641ec",
        "type": "time-range-switch",
        "z": "daf28d0f20b236a4",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 770,
        "y": 300,
        "wires": [
            [
                "accd6d3d.10c09"
            ],
            [
                "855d3e8b975470b7"
            ]
        ]
    },
    {
        "id": "accd6d3d.10c09",
        "type": "trigger",
        "z": "daf28d0f20b236a4",
        "name": "",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "12",
        "extend": false,
        "overrideDelay": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 970,
        "y": 300,
        "wires": [
            [
                "8ea3f755.e68d88"
            ]
        ]
    },
    {
        "id": "bb323297a8af6244",
        "type": "link in",
        "z": "daf28d0f20b236a4",
        "name": "vacuum start",
        "links": [
            "247260f.c82dca"
        ],
        "x": 505,
        "y": 180,
        "wires": [
            [
                "5e0f66ea.3848a8"
            ]
        ]
    },
    {
        "id": "810548cd17705360",
        "type": "link in",
        "z": "daf28d0f20b236a4",
        "name": "vacuum stop",
        "links": [
            "fc4fe81e.444628"
        ],
        "x": 415,
        "y": 300,
        "wires": [
            [
                "77d1d4b3.4641ec"
            ]
        ]
    },
    {
        "id": "9ae92a2b.99c9c8",
        "type": "function",
        "z": "daf28d0f20b236a4",
        "name": "Convert Data",
        "func": "     msg.label = msg.payload.state_text;\n     //msg.payload = global.get(\"Mode\");\n     msg.payload = false;\n     if(msg.label === \"charging\"){\n         msg.payload = true;\n     }\n     \n     \n     msg.label = \"Mr Robot is \" + msg.label; \n     \n \nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 240,
        "wires": [
            [
                "cfc5a1d05fe8095b"
            ]
        ]
    },
    {
        "id": "1f150a19.40f1f6",
        "type": "delay",
        "z": "daf28d0f20b236a4",
        "name": "",
        "pauseType": "rate",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 720,
        "y": 240,
        "wires": [
            [
                "9ae92a2b.99c9c8",
                "307b4558816d5bfa",
                "abbe05a0ae493686"
            ]
        ]
    },
    {
        "id": "855d3e8b975470b7",
        "type": "trigger",
        "z": "daf28d0f20b236a4",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "15",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 730,
        "y": 360,
        "wires": [
            [
                "77d1d4b3.4641ec"
            ]
        ]
    },
    {
        "id": "bb0350d09c07a742",
        "type": "change",
        "z": "daf28d0f20b236a4",
        "name": "reset trigger",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 360,
        "wires": [
            [
                "855d3e8b975470b7"
            ]
        ]
    },
    {
        "id": "dd907ae5e8f3fab4",
        "type": "link in",
        "z": "daf28d0f20b236a4",
        "name": "Reset Vacum Trigger",
        "links": [
            "247260f.c82dca"
        ],
        "x": 415,
        "y": 360,
        "wires": [
            [
                "bb0350d09c07a742"
            ]
        ]
    },
    {
        "id": "cfc5a1d05fe8095b",
        "type": "ui-switch",
        "z": "daf28d0f20b236a4",
        "name": "Mr Robot Status",
        "label": "Mr Robot Status",
        "group": "3f286b473c9966df",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "lightning-bolt",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "sign-out",
        "offcolor": "red",
        "x": 1110,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "0a746840de428715",
        "type": "inject",
        "z": "daf28d0f20b236a4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "3572fdf5.48cc62"
            ]
        ]
    },
    {
        "id": "307b4558816d5bfa",
        "type": "debug",
        "z": "daf28d0f20b236a4",
        "name": "debug 45",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 990,
        "y": 100,
        "wires": []
    },
    {
        "id": "dd80e399de57df56",
        "type": "switch",
        "z": "daf28d0f20b236a4",
        "name": "",
        "property": "payload.error_code_text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 180,
        "wires": [
            [
                "c62c40a16f3026c9"
            ]
        ]
    },
    {
        "id": "c62c40a16f3026c9",
        "type": "change",
        "z": "daf28d0f20b236a4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.error_code_text",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 180,
        "wires": [
            [
                "4cf9b6efdbba67fa"
            ]
        ]
    },
    {
        "id": "4cf9b6efdbba67fa",
        "type": "link out",
        "z": "daf28d0f20b236a4",
        "name": "link out 16",
        "mode": "link",
        "links": [
            "5cfbdbd83670143c"
        ],
        "x": 1555,
        "y": 180,
        "wires": []
    },
    {
        "id": "abbe05a0ae493686",
        "type": "switch",
        "z": "daf28d0f20b236a4",
        "name": "",
        "property": "d",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 180,
        "wires": [
            [
                "548c2b48a07ce159"
            ]
        ]
    },
    {
        "id": "548c2b48a07ce159",
        "type": "delay",
        "z": "daf28d0f20b236a4",
        "name": "rate limiter",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "15",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1130,
        "y": 180,
        "wires": [
            [
                "dd80e399de57df56"
            ]
        ]
    },
    {
        "id": "3572fdf5.48cc62",
        "type": "miio-roborock-event",
        "z": "daf28d0f20b236a4",
        "name": "Roborock",
        "server": "f8a9cdbf31cc2082",
        "outputAtStartup": true,
        "x": 540,
        "y": 240,
        "wires": [
            [
                "1f150a19.40f1f6"
            ]
        ]
    },
    {
        "id": "5e0f66ea.3848a8",
        "type": "miio-roborock-command",
        "z": "daf28d0f20b236a4",
        "name": "Mr Robot STOP",
        "server": "f8a9cdbf31cc2082",
        "command_name": "Dock",
        "command": "app_charge",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 780,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8ea3f755.e68d88",
        "type": "miio-roborock-command",
        "z": "daf28d0f20b236a4",
        "name": "Mr Robot Start",
        "server": "f8a9cdbf31cc2082",
        "command_name": "► Start",
        "command": "app_start",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 1160,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "3933205788318785",
        "type": "inject",
        "z": "daf28d0f20b236a4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 570,
        "y": 60,
        "wires": [
            [
                "5e0f66ea.3848a8"
            ]
        ]
    },
    {
        "id": "817f1df1.c5f98",
        "type": "exec",
        "z": "55bef9f81591ce2e",
        "g": "10af9586a4a889ef",
        "command": "node-red-restart",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 340,
        "y": 100,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "aecb8d48.af66f",
        "type": "inject",
        "z": "55bef9f81591ce2e",
        "g": "10af9586a4a889ef",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 100,
        "wires": [
            [
                "817f1df1.c5f98"
            ]
        ]
    },
    {
        "id": "b0f298334b1bcc58",
        "type": "mqtt in",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "topic": "pt:j1/mt:evt/rt:dev/rn:zw/ad:1/sv:door_lock/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "41e681f.e420d8",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 320,
        "y": 200,
        "wires": [
            [
                "5f39989d186eff71"
            ]
        ]
    },
    {
        "id": "06a40700c474d84f",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "bolt_is_locked is False",
        "property": "payload.val.bolt_is_locked",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 780,
        "y": 200,
        "wires": [
            [
                "6504b75c810f8995"
            ]
        ]
    },
    {
        "id": "38519274c0551bb7",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 200,
        "wires": [
            [
                "ed4c1dbd7e3c8218"
            ],
            [
                "d8cc8d6cd6ac5ca8"
            ]
        ]
    },
    {
        "id": "ed4c1dbd7e3c8218",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "link out 11",
        "mode": "link",
        "links": [],
        "x": 1465,
        "y": 200,
        "wires": []
    },
    {
        "id": "d8cc8d6cd6ac5ca8",
        "type": "trigger",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1290,
        "y": 260,
        "wires": [
            [
                "99e34fb7e0972e1e"
            ]
        ]
    },
    {
        "id": "77e202e1f7cb4c98",
        "type": "link in",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Reset away mode",
        "links": [
            "455faa8d.6c9aa4",
            "63e9f9b.1d13608",
            "9ace10c4.4ce8f",
            "b526ea173bec8f67",
            "bc76c6da083bdd3b",
            "ca84a21742d3e0cd",
            "e92f253c.11b9b8"
        ],
        "x": 345,
        "y": 260,
        "wires": [
            [
                "e4188f47293e43df"
            ]
        ]
    },
    {
        "id": "99e34fb7e0972e1e",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "link out 12",
        "mode": "link",
        "links": [
            "9e9814a999c69457"
        ],
        "x": 1465,
        "y": 260,
        "wires": []
    },
    {
        "id": "e4188f47293e43df",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Is Movement",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 590,
        "y": 260,
        "wires": [
            [
                "3fc79d5f33bafedc"
            ]
        ]
    },
    {
        "id": "6504b75c810f8995",
        "type": "delay",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 970,
        "y": 200,
        "wires": [
            [
                "38519274c0551bb7"
            ]
        ]
    },
    {
        "id": "9ab71bb708f19c1b",
        "type": "change",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "reset",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 340,
        "wires": [
            [
                "99e34fb7e0972e1e"
            ]
        ]
    },
    {
        "id": "3fc79d5f33bafedc",
        "type": "change",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 340,
        "wires": [
            [
                "9ab71bb708f19c1b",
                "d8cc8d6cd6ac5ca8",
                "056a4c7acb271878"
            ]
        ]
    },
    {
        "id": "eabe9d09ac5494a3",
        "type": "function",
        "z": "6a77c00f79a19693",
        "name": "Determine device presence",
        "func": "// @ts-nocheck\nconst lastSeenSeconds = 120;\nlet presenceCutoff = (new Date() - (lastSeenSeconds * 1000)) / 1000; \nconst people = {\n    \"presence/heggland\": \"heggland\",\n    \"presence/karina\": \"karina\",\n    \"presence/person3\": \"stian\"\n};\nlet data = {};\ndata.payload = false;\ndata.people = [];\n\n\nfor (let device in msg.payload) {\n    \n   \n    let macadress = msg.payload[device].mac\n   \n    switch (macadress) {\n        case \"fa:9b:7e:5a:6c:6e\":\n        case \"52:9c:f0:c9:7a:bd\":\n        case \"aa:e4:74:26:ba:e3\":\n        case \"6a:a4:ac:02:44:19\":\n\n            data.people.push(\"heggland\");\n            data.payload = true;\n            break;\n        case \"d6:05:24:1f:de:7a\":\n        case \"de:61:a8:7d:7f:6f\":\n           \n            data.people.push(\"karina\");\n            data.payload = true;\n            break;\n        default:\n\n         break;\n    } \n\n}\n\n\nreturn data",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 660,
        "wires": [
            [
                "f471eaf5a8b7a9c1",
                "da091a4c003e3588"
            ]
        ],
        "outputLabels": [
            "oivheg "
        ]
    },
    {
        "id": "f471eaf5a8b7a9c1",
        "type": "function",
        "z": "6a77c00f79a19693",
        "name": "Check Phones",
        "func": "\nlet home = [{ payload: false }, { payload: false }];\nmsg.people.forEach(function(element) {\n    msg.payload =true;\n    if (element == \"heggland\"){\n       home[0].payload = true;\n        \n    }\n    if (element == \"karina\") {\n        home[1].payload = true;\n\n\n    }\n});\n\nreturn home;",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 720,
        "wires": [
            [
                "d6d8cf38.1794d"
            ],
            [
                "3d692d1e.98b022"
            ]
        ]
    },
    {
        "id": "d6d8cf38.1794d",
        "type": "rbe",
        "z": "6a77c00f79a19693",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1070,
        "y": 720,
        "wires": [
            [
                "772b0560.6b8bcc"
            ]
        ]
    },
    {
        "id": "3d692d1e.98b022",
        "type": "rbe",
        "z": "6a77c00f79a19693",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1070,
        "y": 760,
        "wires": [
            [
                "47763aff.5ff334"
            ]
        ]
    },
    {
        "id": "772b0560.6b8bcc",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "heggland",
        "links": [
            "d871d736.d19838"
        ],
        "x": 1235,
        "y": 720,
        "wires": []
    },
    {
        "id": "47763aff.5ff334",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "karina",
        "links": [
            "84abded8.462ac"
        ],
        "x": 1235,
        "y": 760,
        "wires": []
    },
    {
        "id": "05d9e9467b811a09",
        "type": "arp",
        "z": "6a77c00f79a19693",
        "name": "ARP",
        "ips": "",
        "x": 510,
        "y": 660,
        "wires": [
            [
                "eabe9d09ac5494a3",
                "923123cf470fc3e4"
            ]
        ]
    },
    {
        "id": "71e547f174525c61",
        "type": "inject",
        "z": "6a77c00f79a19693",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": true,
        "onceDelay": "30",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 660,
        "wires": [
            [
                "05d9e9467b811a09"
            ]
        ]
    },
    {
        "id": "6b9eeab08f2cdd54",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "Set Away",
        "mode": "link",
        "links": [
            "9e9814a999c69457"
        ],
        "x": 1205,
        "y": 620,
        "wires": []
    },
    {
        "id": "f76dc950e201b13c",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "f36c921c7f424de5",
        "name": "",
        "property": "payload.ip",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "192.168.1.219",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 630,
        "y": 580,
        "wires": [
            [
                "1860791aaa644301"
            ]
        ]
    },
    {
        "id": "923123cf470fc3e4",
        "type": "split",
        "z": "6a77c00f79a19693",
        "g": "f36c921c7f424de5",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 510,
        "y": 580,
        "wires": [
            [
                "f76dc950e201b13c"
            ]
        ]
    },
    {
        "id": "bc76c6da083bdd3b",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "FP2 Livingroom",
        "mode": "link",
        "links": [
            "be2ad471.d9c448",
            "77e202e1f7cb4c98"
        ],
        "x": 665,
        "y": 1040,
        "wires": []
    },
    {
        "id": "ca84a21742d3e0cd",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "FP2 Bathroom",
        "mode": "link",
        "links": [
            "d9f59e6e05f7c5b4",
            "77e202e1f7cb4c98"
        ],
        "x": 835,
        "y": 920,
        "wires": []
    },
    {
        "id": "cf3797c1e0b5c101",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "link out 18",
        "mode": "link",
        "links": [
            "1329b56.bea634b"
        ],
        "x": 445,
        "y": 980,
        "wires": []
    },
    {
        "id": "1860791aaa644301",
        "type": "debug",
        "z": "6a77c00f79a19693",
        "g": "f36c921c7f424de5",
        "name": "debug 64",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 580,
        "wires": []
    },
    {
        "id": "8b2d95a5272dbd10",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1040,
        "wires": [
            [
                "bc76c6da083bdd3b"
            ]
        ]
    },
    {
        "id": "d4a91056509f22c0",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 920,
        "wires": [
            [
                "cae7b389b2bfb3a5",
                "ca84a21742d3e0cd"
            ]
        ]
    },
    {
        "id": "31e9d829e7a6cbc4",
        "type": "mqtt in",
        "z": "6a77c00f79a19693",
        "name": "",
        "topic": "pt:j1/mt:evt/rt:dev/rn:zw/ad:1/sv:user_code/ad:39_0",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "41e681f.e420d8",
        "nl": false,
        "rap": false,
        "rh": "2",
        "inputs": 0,
        "x": 530,
        "y": 1180,
        "wires": [
            [
                "a24c4c41b4e0c552"
            ]
        ]
    },
    {
        "id": "a24c4c41b4e0c552",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "name": "IsMaid",
        "property": "payload.val.alias",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Maid",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 1180,
        "wires": [
            [
                "2269200b466aa112",
                "ef6ae4e981532ef3"
            ],
            [
                "10e22a1e9cb69adb"
            ]
        ]
    },
    {
        "id": "2269200b466aa112",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "Maid",
        "mode": "link",
        "links": [
            "16df02f3eb3587ef",
            "f2c61516d13e4a6a"
        ],
        "x": 1165,
        "y": 1160,
        "wires": []
    },
    {
        "id": "ef6ae4e981532ef3",
        "type": "change",
        "z": "6a77c00f79a19693",
        "name": "MaidMode",
        "rules": [
            {
                "t": "set",
                "p": "MaidMode",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "2f576cac154fabea",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "MaidMode",
        "property": "MaidMode",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 240,
        "wires": [
            [
                "056a4c7acb271878"
            ]
        ]
    },
    {
        "id": "15cc4dc584138a26",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "bolt_is_locked is True",
        "property": "payload.val.bolt_is_locked",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 780,
        "y": 240,
        "wires": [
            [
                "2f576cac154fabea"
            ]
        ]
    },
    {
        "id": "056a4c7acb271878",
        "type": "trigger",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1130,
        "y": 240,
        "wires": [
            [
                "d8cc8d6cd6ac5ca8",
                "7f851e060826def4",
                "092abfe4f694d244"
            ]
        ]
    },
    {
        "id": "7f851e060826def4",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "MaidMode",
        "mode": "link",
        "links": [
            "137603dc312c04a3"
        ],
        "x": 1265,
        "y": 220,
        "wires": []
    },
    {
        "id": "092abfe4f694d244",
        "type": "change",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "MaidMode",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 300,
        "wires": [
            [
                "b6a29855cdae995e"
            ]
        ]
    },
    {
        "id": "b6a29855cdae995e",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Turn off al lights",
        "mode": "link",
        "links": [],
        "x": 1465,
        "y": 340,
        "wires": []
    },
    {
        "id": "5f39989d186eff71",
        "type": "subflow:05933d2d8abb4be7",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "x": 590,
        "y": 200,
        "wires": [
            [
                "06a40700c474d84f"
            ],
            [
                "15cc4dc584138a26"
            ]
        ]
    },
    {
        "id": "0194d618b714e542",
        "type": "inject",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "props": [
            {
                "p": "payload.val.bolt_is_locked",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 420,
        "y": 320,
        "wires": [
            [
                "5f39989d186eff71"
            ]
        ]
    },
    {
        "id": "0a7bfdcb76c1f56b",
        "type": "inject",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1110,
        "y": 440,
        "wires": [
            [
                "d8cc8d6cd6ac5ca8"
            ]
        ]
    },
    {
        "id": "10e22a1e9cb69adb",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "sleep",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 990,
        "y": 1220,
        "wires": [
            [],
            [],
            [
                "fbc0b4b628c8de0f"
            ]
        ]
    },
    {
        "id": "fbc0b4b628c8de0f",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "LOCK USER NOT MAID ",
        "mode": "link",
        "links": [
            "f27df5b9f6840243"
        ],
        "x": 1145,
        "y": 1240,
        "wires": []
    },
    {
        "id": "ec975f49451cf7cd",
        "type": "mqtt in",
        "z": "6a77c00f79a19693",
        "name": "FP2 Stue",
        "topic": "presence/stue",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 280,
        "y": 1040,
        "wires": [
            [
                "cf3797c1e0b5c101"
            ]
        ]
    },
    {
        "id": "5ae85538c239b7ab",
        "type": "mqtt in",
        "z": "6a77c00f79a19693",
        "name": "FP2 Bad",
        "topic": "presence/bad",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 280,
        "y": 920,
        "wires": [
            [
                "cf3797c1e0b5c101",
                "d4a91056509f22c0"
            ]
        ]
    },
    {
        "id": "cae7b389b2bfb3a5",
        "type": "trigger",
        "z": "6a77c00f79a19693",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "40",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 710,
        "y": 880,
        "wires": [
            [
                "ca84a21742d3e0cd"
            ]
        ]
    },
    {
        "id": "da091a4c003e3588",
        "type": "rbe",
        "z": "6a77c00f79a19693",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 1050,
        "y": 640,
        "wires": [
            [
                "6b9eeab08f2cdd54"
            ]
        ]
    },
    {
        "id": "2fad310909f8d7c2",
        "type": "mqtt in",
        "z": "6a77c00f79a19693",
        "name": "FP2 Stue",
        "topic": "home/aqara_fp/combined",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 280,
        "y": 1100,
        "wires": [
            [
                "3bac38424b56920e"
            ]
        ]
    },
    {
        "id": "3bac38424b56920e",
        "type": "change",
        "z": "6a77c00f79a19693",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "illuminance",
                "pt": "msg",
                "to": "$number(payload.illuminance)\t\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.presence",
                "tot": "msg"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1100,
        "wires": [
            [
                "8b2d95a5272dbd10"
            ]
        ]
    },
    {
        "id": "502f4e884cac3140",
        "type": "Thing Setup",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "thingType": "FH_Light",
        "things": [
            {
                "name": "Hallway",
                "id": "21",
                "props": {
                    "address": 2,
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "Office_Light",
                "id": "5",
                "props": {
                    "address": 6,
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "kjøkken",
                "id": "10",
                "props": {
                    "address": "3",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "stue",
                "id": "11",
                "props": {
                    "address": "14",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "bathroom",
                "id": "46",
                "props": {
                    "address": "37",
                    "sv": "out_lvl_switch",
                    "dimable": true
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "closet",
                "id": "9",
                "props": {
                    "address": "12",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "laundry",
                "id": "15",
                "props": {
                    "address": 9,
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "basement",
                "id": "17",
                "props": {
                    "address": "18",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "bedroom",
                "id": "20",
                "props": {
                    "address": "22",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "karinaoffice",
                "id": "27",
                "props": {
                    "address": "27",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "office",
                "id": "26",
                "props": {
                    "address": "l4",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            }
        ],
        "state": [
            {
                "key": "power",
                "value": false
            }
        ],
        "commands": [],
        "statusFunction": "if (state.power === undefined) return null\nlet text = state.power == \"on\" ? 'On' : 'Off'\nif (state.hasOwnProperty('brightness') && state.on){\n     text += ` ${state.brightness < 1 ? state.brightness * 100 : state.brightness}%`\n}\n   \n    \nreturn {\n    fill: state.power == \"on\" ? 'yellow' : 'grey',\n    shape: 'dot',\n    text\n}",
        "debug": false,
        "x": 1060,
        "y": 720,
        "wires": []
    },
    {
        "id": "2dc40524a1b11e11",
        "type": "Thing Update",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "nodeName": "",
        "name": "",
        "thingType": "FH_Light",
        "debug": true,
        "updates": [
            {
                "key": "power",
                "type": "msg",
                "val": "payload.val.changes.power"
            },
            {
                "key": "dimlevel",
                "type": "msg",
                "val": "payload.val.param.param.dimValue"
            }
        ],
        "x": 560,
        "y": 780,
        "wires": []
    },
    {
        "id": "feaccb063046e633",
        "type": "Thing Process",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "nodeName": "",
        "thingType": "FH_Light",
        "topic": "$id",
        "debug": false,
        "x": 380,
        "y": 720,
        "wires": [
            [
                "880b6f3cab1f4b36"
            ]
        ]
    },
    {
        "id": "cd4da3fcec8d2698",
        "type": "debug",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "TO FLOWS: FH_LIght Changed ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 880,
        "wires": []
    },
    {
        "id": "0f1c18c6959cd496",
        "type": "Thing Command",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "nodeName": "Set LIght",
        "name": "",
        "command": "",
        "commandType": "msg",
        "debug": false,
        "x": 1920,
        "y": 1460,
        "wires": []
    },
    {
        "id": "f6e9c846c1dd7c91",
        "type": "comment",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "Futurehome MQTT communication ",
        "info": "This example uses the Lifx platform. The Lifx node works well with the thing nodes, as it requires no initization to receive inbound messages. And the Lifx node already uses the MAC address as the message topic, so the Lifx Things are setup with the MAC address as their ID.",
        "x": 320,
        "y": 220,
        "wires": []
    },
    {
        "id": "7f1c02a51299c501",
        "type": "Thing Setup",
        "z": "2153cce4d74e8cba",
        "thingType": "DC_Light",
        "things": [],
        "state": [],
        "commands": [],
        "statusFunction": "if (state.on === undefined) return null\nlet text = state.on ? 'On' : 'Off'\nif (state.hasOwnProperty('brightness') && state.on)\n    text += ` ${state.brightness < 1 ? state.brightness * 100 : state.brightness}%`\nreturn {\n    fill: state.on ? 'yellow' : 'grey',\n    shape: 'dot',\n    text\n}",
        "debug": false,
        "x": 260,
        "y": 100,
        "wires": []
    },
    {
        "id": "e9c6b977279a9ace",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "Light ID",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload.val.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 780,
        "wires": [
            [
                "2dc40524a1b11e11"
            ]
        ]
    },
    {
        "id": "61053bad34c46d8d",
        "type": "debug",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "TO FH HUB",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 740,
        "wires": []
    },
    {
        "id": "36d041fc10d198e1",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "\"pt:j1/mt:cmd/rt:dev/rn:zw/ad:1/sv:\"& thing.props.sv & \"/ad:\"& thing.props.address & \"_0\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"type\": thing.props.type,\t    \"serv\": thing.props.sv,\t    \"val_t\": thing.props.val_t,\t    \"val\": payload,\t    \"tags\": null,\t    \"props\": {},\t    \"ver\": \"1\",\t    \"corid\": \"\",\t    \"src\": \"node-red\",\t    \"ctime\": \"\",\t    \"uid\": \"\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 780,
        "wires": [
            [
                "61053bad34c46d8d",
                "ab195790f40edafb"
            ]
        ]
    },
    {
        "id": "39f321390ee435bd",
        "type": "mqtt out",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "FH_MQTT",
        "topic": "",
        "qos": "1",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "41e681f.e420d8",
        "x": 1400,
        "y": 780,
        "wires": []
    },
    {
        "id": "d4a6b225ba8ed179",
        "type": "mqtt in",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:app/rn:vinculum/ad:1",
        "qos": "1",
        "datatype": "json",
        "broker": "41e681f.e420d8",
        "nl": false,
        "rap": false,
        "rh": "1",
        "inputs": 0,
        "x": 260,
        "y": 280,
        "wires": [
            [
                "09f1aab9bbdc8dc3",
                "e5671f21a115e942"
            ]
        ]
    },
    {
        "id": "09f1aab9bbdc8dc3",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "FH functionality",
        "property": "payload.val.param.functionality",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "lighting",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 460,
        "y": 280,
        "wires": [
            [
                "e39012b8700bad76"
            ],
            [
                "79e1877f01b1e9dd"
            ]
        ]
    },
    {
        "id": "a70594b76501cf94",
        "type": "Thing Trigger",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "nodeName": "",
        "triggerThing": {
            "path": "type",
            "type": "str",
            "value": "FH_Light"
        },
        "triggerState": null,
        "triggerTest": null,
        "ignoreInit": false,
        "payload": {
            "type": "state",
            "value": ""
        },
        "x": 570,
        "y": 840,
        "wires": [
            [
                "cd4da3fcec8d2698",
                "409ab7a4d390d838"
            ]
        ]
    },
    {
        "id": "7461442f9ce7e50e",
        "type": "mqtt in",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:app/rn:vinculum/ad:1",
        "qos": "0",
        "datatype": "json",
        "broker": "41e681f.e420d8",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 860,
        "y": 80,
        "wires": [
            [
                "f6577fe9cc641a4b"
            ]
        ]
    },
    {
        "id": "f6577fe9cc641a4b",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "",
        "property": "payload.val.component",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "hub",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 80,
        "wires": [
            [
                "655d1a811ae2bfbd"
            ]
        ]
    },
    {
        "id": "655d1a811ae2bfbd",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "",
        "property": "payload.val.param.current",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Mode",
                "vt": "global"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 80,
        "wires": [
            [
                "ff4854b4e81f1a8a"
            ]
        ]
    },
    {
        "id": "ff4854b4e81f1a8a",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Mode",
                "pt": "global",
                "to": "payload.val.param.current",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 80,
        "wires": [
            [
                "5c5afd3abb577912",
                "8ca977fa2d6c3f23"
            ]
        ]
    },
    {
        "id": "0890fca55df81357",
        "type": "mqtt out",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "Set Mode",
        "topic": "pt:j1/mt:cmd/rt:app/rn:vinculum/ad:1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "41e681f.e420d8",
        "x": 1960,
        "y": 100,
        "wires": []
    },
    {
        "id": "f7ac0d2fc376810c",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "Set Mode",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"ctime\": \"2019-09-04 17:36:31 +0200\",\t   \"props\": {},\t   \"resp_to\": \"pt:j1/mt:rsp/rt:app/rn:node-red/ad:flow1\",\t   \"serv\": \"vinculum\",\t   \"src\": \"node-red\",\t   \"tags\": [],\t   \"type\": \"cmd.pd7.request\",\t   \"uid\": \"09936904-8ec8-4280-9285-945d77bd0a74\",\t   \"val\": {\t       \"cmd\": \"set\",\t       \"component\": \"mode\",\t       \"id\": mode,\t       \"param\": {},\t       \"requestId\": 1\t    },\t   \"val_t\": \"object\",\t   \"ver\": \"1\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 100,
        "wires": [
            [
                "0890fca55df81357"
            ]
        ]
    },
    {
        "id": "e0f3fa373c92533a",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "away",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "away",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 60,
        "wires": [
            [
                "f7ac0d2fc376810c"
            ]
        ]
    },
    {
        "id": "4bfb43cc5c725dfa",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "home",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "home",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 100,
        "wires": [
            [
                "f7ac0d2fc376810c"
            ]
        ]
    },
    {
        "id": "8d9ebcf8551eea4b",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "sleep",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "sleep",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 140,
        "wires": [
            [
                "f7ac0d2fc376810c"
            ]
        ]
    },
    {
        "id": "b3f9adc55b666094",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "Set AWAY",
        "links": [
            "fc4fe81e.444628"
        ],
        "x": 1535,
        "y": 60,
        "wires": [
            [
                "e0f3fa373c92533a"
            ]
        ]
    },
    {
        "id": "f27df5b9f6840243",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "Set HOME",
        "links": [
            "247260f.c82dca",
            "fbc0b4b628c8de0f"
        ],
        "x": 1535,
        "y": 100,
        "wires": [
            [
                "4bfb43cc5c725dfa"
            ]
        ]
    },
    {
        "id": "9a51081d9dca2356",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "12605644788902fd",
        "name": "Set SLEEP",
        "links": [
            "c9b7d9c6.2c46e8"
        ],
        "x": 1535,
        "y": 140,
        "wires": [
            [
                "8d9ebcf8551eea4b"
            ]
        ]
    },
    {
        "id": "e39012b8700bad76",
        "type": "link out",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "FH_Lights",
        "mode": "link",
        "links": [
            "eca75607ec15506a"
        ],
        "x": 785,
        "y": 280,
        "wires": []
    },
    {
        "id": "eca75607ec15506a",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "FH_Lights",
        "links": [
            "e39012b8700bad76"
        ],
        "x": 215,
        "y": 780,
        "wires": [
            [
                "e9c6b977279a9ace"
            ]
        ]
    },
    {
        "id": "5c5afd3abb577912",
        "type": "link out",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "FH_Mode_Set",
        "mode": "link",
        "links": [
            "469534ab7d1a6e67"
        ],
        "x": 1415,
        "y": 80,
        "wires": []
    },
    {
        "id": "c9f8d6dac8d4ba6d",
        "type": "Thing Get",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "nodeName": "Get Ligth Status",
        "name": "",
        "props": [
            {
                "msgProp": "payload",
                "thingProp": "state",
                "path": "power"
            }
        ],
        "x": 1180,
        "y": 1500,
        "wires": [
            [
                "d1864239e50a53f6"
            ]
        ]
    },
    {
        "id": "04b5d65f2356f4ba",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Office_Light",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Office_Light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1600,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "3f0facfb8ecb6309",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Hallway",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Hallway",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1400,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "7b748d84badce752",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "kjøkken",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kjøkken",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1360,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "169eb382584dea9a",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "stue",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "stue",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1320,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "9b29720688f4f892",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "bathroom",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "bathroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1480,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "5581b9e705bd930b",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "closet",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "closet",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1280,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "32b87da33debbea7",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "laundry",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "laundry",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1560,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "fa9eb39dc8d1ab43",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1520,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "57f6d41542bec600",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "bedroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1440,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "f5414ebf88c0dd29",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "karinaoffice",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "karinaoffice",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1640,
        "wires": [
            [
                "c9f8d6dac8d4ba6d"
            ]
        ]
    },
    {
        "id": "e8a10173e53f4a16",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Set_Lights",
        "links": [
            "1deeab2413b7a99b",
            "21c80566.d9201a",
            "87d1ce3c19202d34",
            "8bc1a1a00cecc7a6",
            "99bb192c.9613d8",
            "b9eed7dde8000c3e",
            "d3afa1ea39895105",
            "e2d7c57f5c31b977",
            "4c1858d290c94d44"
        ],
        "x": 275,
        "y": 1440,
        "wires": [
            [
                "de9051a59d1e60a8"
            ]
        ]
    },
    {
        "id": "3e5515ba1d6c857c",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "walkingCloset",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "KJØKKEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "S-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "BA-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "K-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "laundry",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "O-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "K-O-LYS",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "All-Lights",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 10,
        "x": 710,
        "y": 1440,
        "wires": [
            [
                "5581b9e705bd930b"
            ],
            [
                "7b748d84badce752",
                "169eb382584dea9a"
            ],
            [
                "3f0facfb8ecb6309"
            ],
            [
                "57f6d41542bec600"
            ],
            [
                "9b29720688f4f892"
            ],
            [
                "fa9eb39dc8d1ab43"
            ],
            [
                "32b87da33debbea7"
            ],
            [
                "04b5d65f2356f4ba"
            ],
            [
                "f5414ebf88c0dd29"
            ],
            [
                "5581b9e705bd930b",
                "169eb382584dea9a",
                "7b748d84badce752",
                "3f0facfb8ecb6309",
                "57f6d41542bec600",
                "9b29720688f4f892",
                "fa9eb39dc8d1ab43",
                "32b87da33debbea7",
                "04b5d65f2356f4ba",
                "f5414ebf88c0dd29"
            ]
        ]
    },
    {
        "id": "69f22820e9552291",
        "type": "link out",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "Light_Changed",
        "mode": "link",
        "links": [],
        "x": 1175,
        "y": 840,
        "wires": []
    },
    {
        "id": "409ab7a4d390d838",
        "type": "delay",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "",
        "pauseType": "timed",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 810,
        "y": 840,
        "wires": [
            [
                "69f22820e9552291"
            ]
        ]
    },
    {
        "id": "e5671f21a115e942",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "External FH ( HUE)",
        "property": "payload.val.param.type.subtype",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "presence",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 460,
        "y": 340,
        "wires": [
            [
                "6ad1052a6188fbc4"
            ]
        ]
    },
    {
        "id": "6ad1052a6188fbc4",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.val.param.param.presence",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 380,
        "wires": [
            [
                "2544b14f26361464"
            ]
        ]
    },
    {
        "id": "2544b14f26361464",
        "type": "link out",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "HUE PRESENCE",
        "mode": "link",
        "links": [],
        "x": 605,
        "y": 380,
        "wires": []
    },
    {
        "id": "935ba8da4c403144",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "has state",
        "property": "state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "nnull"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 1500,
        "wires": [
            [
                "34fedf56c6a998e5"
            ],
            [
                "cf4286d760897c48"
            ]
        ]
    },
    {
        "id": "6635faf90a4a38ac",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Set State",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1760,
        "y": 1500,
        "wires": [
            [
                "ca0971edb792f685"
            ]
        ]
    },
    {
        "id": "79e1877f01b1e9dd",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "90a2ae744f3f1a15",
        "name": "",
        "property": "payload.val.param.type.subtype",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "presence",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "60b992e02d33fa6b",
        "type": "mqtt in",
        "z": "2153cce4d74e8cba",
        "g": "a498e3e25a476808",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:dev/rn:zw/ad:1/sv:sensor_presence/#",
        "qos": "1",
        "datatype": "json",
        "broker": "41e681f.e420d8",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 300,
        "y": 500,
        "wires": [
            [
                "ecf544e90fa509b5"
            ]
        ]
    },
    {
        "id": "9b9c69bdb290d6e6",
        "type": "Thing Update",
        "z": "2153cce4d74e8cba",
        "g": "a498e3e25a476808",
        "nodeName": "",
        "name": "",
        "thingType": "FH_movement",
        "debug": true,
        "updates": [
            {
                "key": "movement",
                "type": "msg",
                "val": "payload.val"
            }
        ],
        "x": 660,
        "y": 500,
        "wires": []
    },
    {
        "id": "ecf544e90fa509b5",
        "type": "string",
        "z": "2153cce4d74e8cba",
        "g": "a498e3e25a476808",
        "name": "",
        "methods": [
            {
                "name": "getRightMost",
                "params": [
                    {
                        "type": "str",
                        "value": ":"
                    }
                ]
            },
            {
                "name": "getLeftMost",
                "params": [
                    {
                        "type": "str",
                        "value": "_"
                    }
                ]
            }
        ],
        "prop": "topic",
        "propout": "topic",
        "object": "msg",
        "objectout": "msg",
        "x": 450,
        "y": 500,
        "wires": [
            [
                "9b9c69bdb290d6e6"
            ]
        ]
    },
    {
        "id": "6fe45e94bb1611c0",
        "type": "Thing Setup",
        "z": "2153cce4d74e8cba",
        "g": "a498e3e25a476808",
        "thingType": "FH_movement",
        "things": [
            {
                "name": "m_basement",
                "id": "20",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "m_basement_stairs",
                "id": "36",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "m_wardrobe",
                "id": "4",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "m_basement2",
                "id": "16",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            }
        ],
        "state": [
            {
                "key": "movement",
                "value": false
            }
        ],
        "commands": [],
        "statusFunction": "if (state.movement === undefined) return null\r\n\r\n\r\nreturn {\r\n    fill: state.movement == true ? 'blue' : 'grey',\r\n    shape: 'dot'\r\n}",
        "debug": false,
        "x": 880,
        "y": 500,
        "wires": []
    },
    {
        "id": "e9771f214776e51e",
        "type": "Thing Trigger",
        "z": "2153cce4d74e8cba",
        "g": "a498e3e25a476808",
        "nodeName": "FH_movement",
        "triggerThing": {
            "path": "type",
            "type": "str",
            "value": "FH_movement"
        },
        "triggerState": "state.movement",
        "triggerTest": null,
        "ignoreInit": true,
        "payload": {
            "type": "state",
            "value": "movement"
        },
        "x": 280,
        "y": 580,
        "wires": [
            [
                "03af9b4d41bd40d1"
            ]
        ]
    },
    {
        "id": "87d84f08c959923a",
        "type": "link out",
        "z": "2153cce4d74e8cba",
        "g": "a498e3e25a476808",
        "name": "FH_Movement",
        "mode": "link",
        "links": [
            "f66e7e24.aca9d"
        ],
        "x": 575,
        "y": 580,
        "wires": []
    },
    {
        "id": "fb7b621287bb03dc",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "set_Lights_buypass",
        "links": [],
        "x": 325,
        "y": 1360,
        "wires": [
            [
                "eae7f9bdc1f64e43"
            ]
        ]
    },
    {
        "id": "eae7f9bdc1f64e43",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1360,
        "wires": [
            [
                "3e5515ba1d6c857c"
            ]
        ]
    },
    {
        "id": "0cdeb110cc9cbe87",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 1440,
        "wires": [
            [
                "3e5515ba1d6c857c"
            ]
        ]
    },
    {
        "id": "ca9bd84f6914ccc1",
        "type": "debug",
        "z": "2153cce4d74e8cba",
        "name": "debug 20",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1420,
        "y": 420,
        "wires": []
    },
    {
        "id": "35ccdda768414683",
        "type": "catch",
        "z": "2153cce4d74e8cba",
        "name": "Unknown Things",
        "scope": null,
        "uncaught": false,
        "x": 1190,
        "y": 460,
        "wires": [
            [
                "08d6277accad7820",
                "ca9bd84f6914ccc1"
            ]
        ]
    },
    {
        "id": "08d6277accad7820",
        "type": "function",
        "z": "2153cce4d74e8cba",
        "name": "save unknown for later check",
        "func": "\n\nvar id = msg.topic;\nflow.set([\"unknown\"+id], msg)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1470,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "77555cd20a73894f",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 140,
        "wires": [
            [
                "43e8b3bc5eb993e3"
            ]
        ]
    },
    {
        "id": "43e8b3bc5eb993e3",
        "type": "link out",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "link out 9",
        "mode": "link",
        "links": [],
        "x": 1415,
        "y": 140,
        "wires": []
    },
    {
        "id": "8ca977fa2d6c3f23",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "ba9650ca3526ed06",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 140,
        "wires": [
            [
                "77555cd20a73894f"
            ]
        ]
    },
    {
        "id": "fc74b8e441ba36bb",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "is val_t !null",
        "property": "thing.props.dimable",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 720,
        "wires": [
            [
                "3586e46bbd0e53af"
            ],
            [
                "da8d02b690681002"
            ]
        ]
    },
    {
        "id": "da8d02b690681002",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "set bool",
        "rules": [
            {
                "t": "set",
                "p": "thing.props.val_t",
                "pt": "msg",
                "to": "bool",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "thing.props.type",
                "pt": "msg",
                "to": "cmd.binary.set",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 760,
        "wires": [
            [
                "36d041fc10d198e1"
            ]
        ]
    },
    {
        "id": "3586e46bbd0e53af",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "set int",
        "rules": [
            {
                "t": "set",
                "p": "thing.props.val_t",
                "pt": "msg",
                "to": "int",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "thing.props.type",
                "pt": "msg",
                "to": "cmd.lvl.set",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 700,
        "wires": [
            [
                "36d041fc10d198e1"
            ]
        ]
    },
    {
        "id": "913fb4c226869e79",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Turn all Ligths OFF",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "All-Lights",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1300,
        "wires": [
            [
                "0cdeb110cc9cbe87"
            ]
        ]
    },
    {
        "id": "fa037bf9c192d1d3",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Turn OFF ALL Lights",
        "links": [
            "fc4fe81e.444628"
        ],
        "x": 305,
        "y": 1300,
        "wires": [
            [
                "913fb4c226869e79"
            ]
        ]
    },
    {
        "id": "1d5ad1bb7efafd0d",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Turn all Ligths ON",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "All-Lights",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1580,
        "wires": [
            [
                "8981429cc9d0e3c8"
            ]
        ]
    },
    {
        "id": "e580148cb6b2ecc0",
        "type": "inject",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 1580,
        "wires": [
            [
                "1d5ad1bb7efafd0d"
            ]
        ]
    },
    {
        "id": "cf4286d760897c48",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "All-Lights",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "All-Lights",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1640,
        "y": 1560,
        "wires": [
            [
                "9554f5c971a0df0e"
            ],
            [
                "6635faf90a4a38ac"
            ]
        ]
    },
    {
        "id": "9554f5c971a0df0e",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "bathroom",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "bathroom",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1660,
        "y": 1600,
        "wires": [
            [
                "56156f4a5dc995ed"
            ],
            [
                "6635faf90a4a38ac"
            ]
        ]
    },
    {
        "id": "56156f4a5dc995ed",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "set bathroom",
        "rules": [
            {
                "t": "change",
                "p": "state",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1830,
        "y": 1620,
        "wires": [
            [
                "6635faf90a4a38ac"
            ]
        ]
    },
    {
        "id": "8981429cc9d0e3c8",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 1640,
        "wires": [
            [
                "9b29720688f4f892"
            ]
        ]
    },
    {
        "id": "1a7dad7a9bee2cbb",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Turn all Ligths off",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "All-Lights",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1640,
        "wires": [
            [
                "8981429cc9d0e3c8"
            ]
        ]
    },
    {
        "id": "e46130fd001328ba",
        "type": "inject",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1640,
        "wires": [
            [
                "1a7dad7a9bee2cbb"
            ]
        ]
    },
    {
        "id": "ca0971edb792f685",
        "type": "delay",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1870,
        "y": 1380,
        "wires": [
            [
                "0f1c18c6959cd496"
            ]
        ]
    },
    {
        "id": "e63fca15fbef0ed6",
        "type": "inject",
        "z": "2153cce4d74e8cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 790,
        "y": 1040,
        "wires": [
            [
                "a2af2fc87be5b5d8"
            ]
        ]
    },
    {
        "id": "a2af2fc87be5b5d8",
        "type": "function",
        "z": "2153cce4d74e8cba",
        "name": "function 3",
        "func": "msg = {\n    \"topic\": \"pt:j1/mt:cmd/rt:dev/rn:zw/ad:1/sv:out_lvl_switch/ad:27_0\",\n    \"payload\": {\n        \"type\": \"evt.lvl.report\",\n        \"serv\": \"out_lvl_switch\",\n        \"val_t\": \"int\",\n        \"val\": 75,\n        \"tags\": null,\n        \"props\": {},\n        \"ver\": \"1\",\n        \"corid\": \"\",\n        \"src\": \"node-red\",\n        \"ctime\": \"\",\n        \"uid\": \"\"\n    }\n\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1040,
        "wires": [
            [
                "39f321390ee435bd"
            ]
        ]
    },
    {
        "id": "d5aa91d8d5b24c29",
        "type": "function",
        "z": "2153cce4d74e8cba",
        "name": "function 4",
        "func": "msg = {\n    \"topic\": \"pt:j1/mt:cmd/rt:dev/rn:zw/ad:1/sv:out_lvl_switch/ad:27_0\",\n    \"payload\": {\n        \"type\": \"cmd.binary.set\", \"serv\": \"out_lvl_switch\",\n        \"val_t\": \"bool\",\n        \"val\": false,\n        \"tags\": null,\n        \"props\": {},\n        \"ver\": \"1\",\n        \"corid\": \"\",\n        \"src\": \"node-red\",\n        \"ctime\": \"\",\n        \"uid\": \"\"\n    },\n    \"thing\": {\n        \"config\":\n        {\n            \"name\": \"karinaoffice\",\n            \"id\": \"27\",\n            \"props\": {\n                \"address\": \"27\",\n                \"sv\": \"out_lvl_switch\",\n                \"val_t\": \"bool\",\n                \"type\": \"cmd.binary.set\"\n            },\n            \"state\": [],\n            \"commands\": [],\n            \"children\": []\n        },\n        \"typeConfig\":\n        {\n            \"id\": \"ed876b6c.e43528\",\n            \"type\": \"Thing Setup\",\n            \"z\": \"4edd86b6.331768\",\n            \"g\": \"b01d69bb34a09e41\",\n            \"thingType\": \"FH_Light\",\n            \"things\": [{ \"name\": \"Hallway\", \"id\": \"21\", \"props\": { \"address\": 2, \"sv\": \"out_lvl_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"Office_Light\", \"id\": \"5\", \"props\": { \"address\": 6, \"sv\": \"out_bin_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"kjøkken\", \"id\": \"10\", \"props\": { \"address\": \"3\", \"sv\": \"out_lvl_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"stue\", \"id\": \"11\", \"props\": { \"address\": \"14\", \"sv\": \"out_bin_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"bathroom\", \"id\": \"46\", \"props\": { \"address\": \"37\", \"sv\": \"out_lvl_switch\", \"dimable\": true }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"closet\", \"id\": \"9\", \"props\": { \"address\": \"12\", \"sv\": \"out_bin_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"laundry\", \"id\": \"15\", \"props\": { \"address\": 9, \"sv\": \"out_bin_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"basement\", \"id\": \"17\", \"props\": { \"address\": \"18\", \"sv\": \"out_bin_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"bedroom\", \"id\": \"20\", \"props\": { \"address\": \"22\", \"sv\": \"out_lvl_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"karinaoffice\", \"id\": \"27\", \"props\": { \"address\": \"27\", \"sv\": \"out_lvl_switch\", \"val_t\": \"bool\", \"type\": \"cmd.binary.set\" }, \"state\": [], \"commands\": [], \"children\": [] }, { \"name\": \"office\", \"id\": \"26\", \"props\": { \"address\": \"l4\", \"sv\": \"out_lvl_switch\" }, \"state\": [], \"commands\": [], \"children\": [] }], \"state\": [{ \"key\": \"power\", \"value\": false }], \"commands\": [], \"statusFunction\": \"if (state.power === undefined) return null\\nlet text = state.power == \\\"on\\\" ? 'On' : 'Off'\\nif (state.hasOwnProperty('brightness') && state.on){\\n     text += ` ${state.brightness < 1 ? state.brightness * 100 : state.brightness}%`\\n}\\n   \\n    \\nreturn {\\n    fill: state.power == \\\"on\\\" ? 'yellow' : 'grey',\\n    shape: 'dot',\\n    text\\n}\", \"debug\": false, \"x\": 1060, \"y\": 720, \"wires\": []\n        }, \"name\": \"karinaoffice\", \"type\": \"FH_Light\", \"id\": 27, \"props\": { \"address\": \"27\", \"sv\": \"out_lvl_switch\", \"val_t\": \"bool\", \"type\": \"cmd.binary.set\" }, \"children\": [], \"state\": { \"power\": \"on\", \"dimlevel\": 99 }, \"status\": { \"fill\": \"yellow\", \"shape\": \"dot\", \"text\": \"On\" }\n    }, \"_msgid\": \"812bbf08dc18e0fa\"\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 1100,
        "wires": [
            [
                "39f321390ee435bd"
            ]
        ]
    },
    {
        "id": "aad368ac769d2856",
        "type": "inject",
        "z": "2153cce4d74e8cba",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 800,
        "y": 1100,
        "wires": [
            [
                "d5aa91d8d5b24c29"
            ]
        ]
    },
    {
        "id": "33feae6a920e0c12",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Turn all Ligths ON",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "All-Lights",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1260,
        "wires": [
            [
                "0cdeb110cc9cbe87"
            ]
        ]
    },
    {
        "id": "16df02f3eb3587ef",
        "type": "link in",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "Turn ON ALL Lights",
        "links": [
            "2269200b466aa112"
        ],
        "x": 305,
        "y": 1260,
        "wires": [
            [
                "33feae6a920e0c12"
            ]
        ]
    },
    {
        "id": "d1864239e50a53f6",
        "type": "switch",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "on/off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 1330,
        "y": 1500,
        "wires": [
            [
                "910130f6c7a85723"
            ],
            [
                "701322a59ecb3a3d"
            ],
            [
                "935ba8da4c403144"
            ]
        ]
    },
    {
        "id": "910130f6c7a85723",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1460,
        "wires": [
            [
                "935ba8da4c403144"
            ]
        ]
    },
    {
        "id": "701322a59ecb3a3d",
        "type": "change",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 1540,
        "wires": [
            [
                "935ba8da4c403144"
            ]
        ]
    },
    {
        "id": "de9051a59d1e60a8",
        "type": "subflow:05933d2d8abb4be7",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "",
        "x": 390,
        "y": 1440,
        "wires": [
            [
                "0cdeb110cc9cbe87"
            ],
            []
        ]
    },
    {
        "id": "03af9b4d41bd40d1",
        "type": "subflow:05933d2d8abb4be7",
        "z": "2153cce4d74e8cba",
        "g": "a498e3e25a476808",
        "name": "",
        "x": 450,
        "y": 580,
        "wires": [
            [
                "87d84f08c959923a"
            ],
            []
        ]
    },
    {
        "id": "34fedf56c6a998e5",
        "type": "function",
        "z": "2153cce4d74e8cba",
        "g": "833beeaf82e34801",
        "name": "function 5",
        "func": "msg.payload = !msg.payload;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1650,
        "y": 1460,
        "wires": [
            [
                "ca0971edb792f685"
            ]
        ]
    },
    {
        "id": "880b6f3cab1f4b36",
        "type": "delay",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 560,
        "y": 720,
        "wires": [
            [
                "fc74b8e441ba36bb"
            ]
        ]
    },
    {
        "id": "ab195790f40edafb",
        "type": "subflow:05933d2d8abb4be7",
        "z": "2153cce4d74e8cba",
        "g": "a3172e532d882fe7",
        "name": "",
        "x": 1250,
        "y": 780,
        "wires": [
            [
                "39f321390ee435bd"
            ],
            []
        ]
    },
    {
        "id": "ddc8b687.374538",
        "type": "deconz-input",
        "z": "028d1bd11337d512",
        "name": "Timer",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:01:9d:e5:2c-01-0006"
        ],
        "device_name": "Happy sulten : ZHASwitch",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": false,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 390,
        "y": 180,
        "wires": [
            [
                "36bb18ff63240b87",
                "a491f5a74c848a8b"
            ],
            []
        ]
    },
    {
        "id": "36bb18ff63240b87",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "debug 79",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 180,
        "wires": []
    },
    {
        "id": "c53e3aec87c78d53",
        "type": "comment",
        "z": "028d1bd11337d512",
        "name": "Starte en netelling",
        "info": "",
        "x": 1030,
        "y": 100,
        "wires": []
    },
    {
        "id": "9eab2bba1ba6f836",
        "type": "comment",
        "z": "028d1bd11337d512",
        "name": "Stoppe en nedtelling",
        "info": "",
        "x": 1030,
        "y": 140,
        "wires": []
    },
    {
        "id": "80f9cb8c89946e65",
        "type": "comment",
        "z": "028d1bd11337d512",
        "name": "Pause en nedtelling",
        "info": "",
        "x": 1030,
        "y": 180,
        "wires": []
    },
    {
        "id": "5411059dbdcb9de3",
        "type": "switch",
        "z": "028d1bd11337d512",
        "name": "",
        "property": "payload.buttonevent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1000",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1001",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1003",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1004",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1005",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 6,
        "x": 590,
        "y": 280,
        "wires": [
            [
                "64a0af84ae9a29ea",
                "82b6b26fe29040e2"
            ],
            [
                "faa88dcd37f69040"
            ],
            [
                "0a9111d35bf4c83b"
            ],
            [
                "02a9882228982b9d"
            ],
            [
                "0541439d8d6bf8a4",
                "f2cce7c4bdf0c7cb"
            ],
            []
        ]
    },
    {
        "id": "64a0af84ae9a29ea",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "ENKELT",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 860,
        "y": 200,
        "wires": []
    },
    {
        "id": "faa88dcd37f69040",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "tast opp",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 660,
        "wires": []
    },
    {
        "id": "0a9111d35bf4c83b",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "trykk og hold ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 700,
        "wires": []
    },
    {
        "id": "02a9882228982b9d",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "Hold tast opp",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 740,
        "wires": []
    },
    {
        "id": "0541439d8d6bf8a4",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "dobbeltklikk",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 780,
        "wires": []
    },
    {
        "id": "a491f5a74c848a8b",
        "type": "delay",
        "z": "028d1bd11337d512",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 2,
        "x": 370,
        "y": 280,
        "wires": [
            [
                "5411059dbdcb9de3"
            ],
            [
                "451d1a18e3d9d099"
            ]
        ]
    },
    {
        "id": "451d1a18e3d9d099",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "debug 80",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 480,
        "wires": []
    },
    {
        "id": "ac229b7748a3ee96",
        "type": "hourglass",
        "z": "028d1bd11337d512",
        "name": "",
        "persistId": "",
        "humanizeLocale": "",
        "x": 1140,
        "y": 240,
        "wires": [
            [
                "f9fd73b85742d361"
            ]
        ]
    },
    {
        "id": "078b6c95bb2a597d",
        "type": "change",
        "z": "028d1bd11337d512",
        "name": "start",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "start",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "started",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 240,
        "wires": [
            [
                "ac229b7748a3ee96"
            ]
        ]
    },
    {
        "id": "71afa3f2f8e90231",
        "type": "change",
        "z": "028d1bd11337d512",
        "name": "stop",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "stop",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "started",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 280,
        "wires": [
            [
                "ac229b7748a3ee96",
                "8aa698857569b6de"
            ]
        ]
    },
    {
        "id": "f2cce7c4bdf0c7cb",
        "type": "change",
        "z": "028d1bd11337d512",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "reset",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 340,
        "wires": [
            [
                "ac229b7748a3ee96"
            ]
        ]
    },
    {
        "id": "82b6b26fe29040e2",
        "type": "switch",
        "z": "028d1bd11337d512",
        "name": "",
        "property": "started",
        "propertyType": "flow",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 740,
        "y": 240,
        "wires": [
            [
                "078b6c95bb2a597d"
            ],
            [
                "078b6c95bb2a597d"
            ],
            [
                "71afa3f2f8e90231"
            ]
        ]
    },
    {
        "id": "f9fd73b85742d361",
        "type": "debug",
        "z": "028d1bd11337d512",
        "name": "debug 81",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1370,
        "y": 160,
        "wires": []
    },
    {
        "id": "8b1fa55a482c2e61",
        "type": "change",
        "z": "028d1bd11337d512",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "msg",
                "to": "status",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 300,
        "wires": [
            [
                "ac229b7748a3ee96"
            ]
        ]
    },
    {
        "id": "8aa698857569b6de",
        "type": "trigger",
        "z": "028d1bd11337d512",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1050,
        "y": 300,
        "wires": [
            [
                "8b1fa55a482c2e61"
            ]
        ]
    },
    {
        "id": "7268b8b9.eb7ae",
        "type": "inject",
        "z": "19a61e2a.75f152",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * 1",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 500,
        "wires": [
            [
                "c70310c4.a7eb78",
                "3467f3008929627e"
            ]
        ]
    },
    {
        "id": "c70310c4.a7eb78",
        "type": "http request",
        "z": "19a61e2a.75f152",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://www.hentavfall.no/rogaland/sandnes/tommekalender/show?id=759fbf09-3f7f-4c41-aa70-54d3902d915f&municipality=Sandnes%20kommune%202020&gnumber=38&bnumber=1696&snumber=4",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 370,
        "y": 500,
        "wires": [
            [
                "5c9d5ab90b9643f7"
            ]
        ]
    },
    {
        "id": "8e57f94726f5be98",
        "type": "debug",
        "z": "19a61e2a.75f152",
        "name": "Dato -Dag",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 340,
        "wires": []
    },
    {
        "id": "8d6b27c1c9e2c2e0",
        "type": "split",
        "z": "19a61e2a.75f152",
        "name": "For hver Avfallstype",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 590,
        "y": 460,
        "wires": [
            [
                "b18db77dc706d617",
                "c42c0fc74c149b91",
                "35b0a73644bd0f7b"
            ]
        ]
    },
    {
        "id": "d5631660e7e2357e",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Avfallstype Bilder",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[1].images",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 420,
        "wires": [
            [
                "8d6b27c1c9e2c2e0"
            ]
        ]
    },
    {
        "id": "b18db77dc706d617",
        "type": "debug",
        "z": "19a61e2a.75f152",
        "name": "Avfallstyper",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 460,
        "wires": []
    },
    {
        "id": "3060dfc94ade0f86",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Dato - Dag",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[1].date",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": " \t\t   \t\t$trim($substringBefore(payload,'-'))& '.'&$moment().format('YYYY')\t\t \t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 380,
        "wires": [
            [
                "8e57f94726f5be98",
                "307b1fd4d57c05fc",
                "c879542c56b5a555",
                "86e47902d1c776a0"
            ]
        ]
    },
    {
        "id": "307b1fd4d57c05fc",
        "type": "ui-template",
        "z": "19a61e2a.75f152",
        "group": "e63aca3c0dabe7de",
        "page": "",
        "ui": "",
        "name": "Vis Avfallstyper for neste Tømming",
        "order": 2,
        "width": 0,
        "height": 0,
        "head": "",
        "format": "<template >\n   <div >\n      <div class=\"col-lg-2\">       \n           <img  v-for=\"pic in msg?.payload\" style=\"height: 100px;\" v-bind:src=\"pic\" v-bind:alt=\"pic\"  style=\"display: flex;\">\n\n   </div>\n</template>\n",
        "storeOutMessages": true,
        "passthru": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1100,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "c42c0fc74c149b91",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Generer Bilde Adresse",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"https://www.hentavfall.no/\"&payload",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 500,
        "wires": [
            [
                "d0cfa1719585871c"
            ]
        ]
    },
    {
        "id": "d0cfa1719585871c",
        "type": "join",
        "z": "19a61e2a.75f152",
        "name": "Kombiner Avfallstyper",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 600,
        "y": 540,
        "wires": [
            [
                "307b1fd4d57c05fc",
                "f488905696dd9bb9"
            ]
        ]
    },
    {
        "id": "f488905696dd9bb9",
        "type": "debug",
        "z": "19a61e2a.75f152",
        "name": "Kombinerte linker",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 540,
        "wires": []
    },
    {
        "id": "c879542c56b5a555",
        "type": "ui-text",
        "z": "19a61e2a.75f152",
        "group": "e63aca3c0dabe7de",
        "order": 1,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Tømmedag",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "className": "",
        "x": 1030,
        "y": 380,
        "wires": []
    },
    {
        "id": "a43988c0b007cfc6",
        "type": "switch",
        "z": "19a61e2a.75f152",
        "name": "Is Tomorrow?",
        "property": "dateDayBefore",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "today",
                "vt": "flow"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 820,
        "wires": [
            [
                "3dffba6d55c36bbc",
                "cc5ab9a6bfdc1b6a"
            ]
        ]
    },
    {
        "id": "3dffba6d55c36bbc",
        "type": "debug",
        "z": "19a61e2a.75f152",
        "name": "Tømmes i Morgen",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 820,
        "wires": []
    },
    {
        "id": "e0aa0bcbecd4d1a4",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Neste Tømming",
        "rules": [
            {
                "t": "set",
                "p": "dateDayBefore",
                "pt": "flow",
                "to": "dateDayBefore",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "1a2a1f5a64482b86",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "today",
                "pt": "flow",
                "to": "$moment().format('DD/MM/YYYY')\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 820,
        "wires": [
            [
                "a43988c0b007cfc6"
            ]
        ]
    },
    {
        "id": "97e4bcebf71b7b99",
        "type": "bigtimer",
        "z": "19a61e2a.75f152",
        "outtopic": "",
        "outpayload1": "",
        "outpayload2": "",
        "name": "Big Timer",
        "comment": "",
        "lat": 0,
        "lon": 0,
        "starttime": 5001,
        "endtime": 1425,
        "starttime2": 0,
        "endtime2": 0,
        "startoff": 0,
        "endoff": 0,
        "startoff2": 0,
        "endoff2": 0,
        "offs": 0,
        "outtext1": "",
        "outtext2": "",
        "timeout": 1440,
        "sun": false,
        "mon": true,
        "tue": true,
        "wed": true,
        "thu": false,
        "fri": false,
        "sat": false,
        "jan": true,
        "feb": false,
        "mar": false,
        "apr": false,
        "may": true,
        "jun": false,
        "jul": false,
        "aug": false,
        "sep": true,
        "oct": false,
        "nov": false,
        "dec": false,
        "day1": 0,
        "month1": 0,
        "day2": 0,
        "month2": 0,
        "day3": 0,
        "month3": 0,
        "day4": 0,
        "month4": 0,
        "day5": 0,
        "month5": 0,
        "day6": 0,
        "month6": 0,
        "day7": 0,
        "month7": 0,
        "day8": 0,
        "month8": 0,
        "day9": 0,
        "month9": 0,
        "day10": 0,
        "month10": 0,
        "day11": 0,
        "month11": 0,
        "day12": 0,
        "month12": 0,
        "d1": 0,
        "w1": 0,
        "d2": 0,
        "w2": 0,
        "d3": 0,
        "w3": 0,
        "d4": 0,
        "w4": 0,
        "d5": 0,
        "w5": 0,
        "d6": 0,
        "w6": 0,
        "xday1": 0,
        "xmonth1": 0,
        "xday2": 0,
        "xmonth2": 0,
        "xday3": 0,
        "xmonth3": 0,
        "xday4": 0,
        "xmonth4": 0,
        "xday5": 0,
        "xmonth5": 0,
        "xday6": 0,
        "xmonth6": 0,
        "xday7": 0,
        "xmonth7": 0,
        "xday8": 0,
        "xmonth8": 0,
        "xday9": 0,
        "xmonth9": 0,
        "xday10": 0,
        "xmonth10": 0,
        "xday11": 0,
        "xmonth11": 0,
        "xday12": 0,
        "xmonth12": 0,
        "xd1": 0,
        "xw1": 0,
        "xd2": 0,
        "xw2": 0,
        "xd3": 0,
        "xw3": 0,
        "xd4": 0,
        "xw4": 0,
        "xd5": 0,
        "xw5": 0,
        "xd6": 0,
        "xw6": 0,
        "suspend": false,
        "random": false,
        "randon1": false,
        "randoff1": false,
        "randon2": false,
        "randoff2": false,
        "repeat": true,
        "atstart": true,
        "odd": false,
        "even": false,
        "x": 100,
        "y": 820,
        "wires": [
            [
                "1a2a1f5a64482b86"
            ],
            [],
            []
        ]
    },
    {
        "id": "212c4217852361f8",
        "type": "inject",
        "z": "19a61e2a.75f152",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 760,
        "wires": [
            [
                "1a2a1f5a64482b86"
            ]
        ]
    },
    {
        "id": "edf1e6c5b4462da1",
        "type": "switch",
        "z": "19a61e2a.75f152",
        "name": "Type",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "bio",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "hage",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "rest",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "plast",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "papir",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 870,
        "y": 660,
        "wires": [
            [
                "c19e972371d1940b"
            ],
            [
                "c78ca9e56bc523ec"
            ],
            [
                "1f428c8c9098b774"
            ],
            [
                "f7ff928eee78dab3"
            ],
            [
                "57d38f2b9c957238"
            ]
        ]
    },
    {
        "id": "c19e972371d1940b",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bio",
                "pt": "flow",
                "to": "setType",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "c78ca9e56bc523ec",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hage",
                "pt": "flow",
                "to": "setType",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "1f428c8c9098b774",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rest",
                "pt": "flow",
                "to": "setType",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "f7ff928eee78dab3",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "plast",
                "pt": "flow",
                "to": "setType",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "35b0a73644bd0f7b",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "setType true",
        "rules": [
            {
                "t": "set",
                "p": "setType",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 600,
        "wires": [
            [
                "edf1e6c5b4462da1"
            ]
        ]
    },
    {
        "id": "d392f04b755ddf0c",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "setType true",
        "rules": [
            {
                "t": "set",
                "p": "setType",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 720,
        "wires": [
            [
                "f7ff928eee78dab3",
                "1f428c8c9098b774",
                "c78ca9e56bc523ec",
                "c19e972371d1940b",
                "57d38f2b9c957238"
            ]
        ]
    },
    {
        "id": "cee713031b9e4b96",
        "type": "switch",
        "z": "19a61e2a.75f152",
        "name": "bio",
        "property": "bio",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 880,
        "wires": [
            [
                "8a3ff16928c6d0c6"
            ],
            [
                "dccf8209e287f17c"
            ]
        ]
    },
    {
        "id": "dccf8209e287f17c",
        "type": "switch",
        "z": "19a61e2a.75f152",
        "name": "hage",
        "property": "hage",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 920,
        "wires": [
            [
                "62117c33196328c7"
            ],
            [
                "d558dc2e3abdd52c"
            ]
        ]
    },
    {
        "id": "d558dc2e3abdd52c",
        "type": "switch",
        "z": "19a61e2a.75f152",
        "name": "plast",
        "property": "plast",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 960,
        "wires": [
            [
                "adc5c73c556d9870"
            ],
            [
                "aa36257f41855f1e"
            ]
        ]
    },
    {
        "id": "aa36257f41855f1e",
        "type": "switch",
        "z": "19a61e2a.75f152",
        "name": "rest",
        "property": "rest",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 1000,
        "wires": [
            [
                "647d6da519c7f5b4"
            ],
            [
                "66c8054726f4a4fe"
            ]
        ]
    },
    {
        "id": "57d38f2b9c957238",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "papir",
                "pt": "flow",
                "to": "setType",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "66c8054726f4a4fe",
        "type": "switch",
        "z": "19a61e2a.75f152",
        "name": "papir",
        "property": "papir",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1040,
        "wires": [
            [
                "aa4bea0c445264b5"
            ],
            [
                "3f373bb9ada3dfc6"
            ]
        ]
    },
    {
        "id": "8a3ff16928c6d0c6",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Matavfall",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "text& ' Matavfall '",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 880,
        "wires": [
            [
                "dccf8209e287f17c"
            ]
        ],
        "icon": "font-awesome/fa-text-width"
    },
    {
        "id": "62117c33196328c7",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Hageavfall",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "text& ',  Hageavfall '",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 920,
        "wires": [
            [
                "d558dc2e3abdd52c"
            ]
        ]
    },
    {
        "id": "adc5c73c556d9870",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Plastavfall",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "text& ' , Plastavfall'",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 960,
        "wires": [
            [
                "aa36257f41855f1e"
            ]
        ]
    },
    {
        "id": "647d6da519c7f5b4",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Restavfall",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "text& ' , Restavfall'",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 1000,
        "wires": [
            [
                "66c8054726f4a4fe"
            ]
        ]
    },
    {
        "id": "aa4bea0c445264b5",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Papiravfall",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "text& ' , Papiravfall'",
                "tot": "jsonata"
            },
            {
                "t": "change",
                "p": "text",
                "pt": "msg",
                "from": ",",
                "fromt": "str",
                "to": " og ",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 1040,
        "wires": [
            [
                "3f373bb9ada3dfc6"
            ]
        ]
    },
    {
        "id": "cc5ab9a6bfdc1b6a",
        "type": "change",
        "z": "19a61e2a.75f152",
        "name": "Husk",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Husk å ta ut",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 250,
        "y": 880,
        "wires": [
            [
                "cee713031b9e4b96"
            ]
        ]
    },
    {
        "id": "3f373bb9ada3dfc6",
        "type": "debug",
        "z": "19a61e2a.75f152",
        "name": "Text til Google",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "text",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 1080,
        "wires": []
    },
    {
        "id": "86e47902d1c776a0",
        "type": "moment",
        "z": "19a61e2a.75f152",
        "name": "",
        "topic": "",
        "input": "date",
        "inputType": "msg",
        "inTz": "Europe/Oslo",
        "adjAmount": "1",
        "adjType": "days",
        "adjDir": "subtract",
        "format": "DD/MM/YYYY",
        "locale": "Europe/Oslo",
        "output": "dateDayBefore",
        "outputType": "msg",
        "outTz": "Europe/Oslo",
        "x": 1060,
        "y": 300,
        "wires": [
            [
                "e0aa0bcbecd4d1a4"
            ]
        ]
    },
    {
        "id": "5c9d5ab90b9643f7",
        "type": "cheerio-function",
        "z": "19a61e2a.75f152",
        "name": "",
        "func": "\nconst items = $('.waste-calendar__item'); // Select all elements with class 'waste-calendar__item'\n\nconst extractedData = items.map((index, element) => {\n    const date = $(element).find('td:first-child').text().trim(); // Extract the date\n    const images = $(element).find('img.waste-container-icon[src]').map((i, img) => $(img).attr('src')).get(); // Extract image URLs\n    return { date, images };\n}).get();\n\n\nmsg.payload = extractedData\nreturn msg;",
        "outputs": 1,
        "noerr": 10,
        "x": 380,
        "y": 440,
        "wires": [
            [
                "d5631660e7e2357e",
                "3060dfc94ade0f86"
            ]
        ]
    },
    {
        "id": "82d4deea0f5d146b",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "205ec56154dae157",
        "name": "KJØKKEN",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "KJØKKEN",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1790,
        "y": 480,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "0f8a013e0153fbd5",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "87210300141eb4cc",
        "group": "20e9e3a35362262a",
        "name": "TV",
        "label": "",
        "order": 4,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "television",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 650,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "0a0229165450e20b",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "9d9a284bf5ce86d3",
        "name": "O-LYS",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "true",
        "payloadType": "bool",
        "topic": "O-LYS",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1770,
        "y": 160,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "be0766449f34157c",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "20e9e3a35362262a",
        "name": "K-LYS",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "K-LYS",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1770,
        "y": 320,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "2b75c1c39c22e878",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "e53a9dd93e589b2e",
        "name": "S-LYS",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "S-LYS",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1770,
        "y": 280,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "99923aedde97df0f",
        "type": "switch",
        "z": "61f713462b422a81",
        "g": "87210300141eb4cc",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 440,
        "wires": [
            [
                "e747302ab0cd4829"
            ],
            [
                "0cdeb3068b8c43dc"
            ]
        ]
    },
    {
        "id": "0cdeb3068b8c43dc",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "87210300141eb4cc",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 460,
        "wires": [
            [
                "0f8a013e0153fbd5"
            ]
        ]
    },
    {
        "id": "e747302ab0cd4829",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "87210300141eb4cc",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "black",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 420,
        "wires": [
            [
                "0f8a013e0153fbd5"
            ]
        ]
    },
    {
        "id": "3d752044a6901bba",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "403670954d105a2d",
        "name": "G-LYS",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "G-LYS",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1770,
        "y": 200,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "be78e95a54ad258e",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "c68075e9d91b3588",
        "name": "K-O-LYS",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "K-O-LYS",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1780,
        "y": 400,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "77b0a7f7334d846a",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "87210300141eb4cc",
        "name": "SHIELD",
        "links": [
            "5e8d3398.55375c"
        ],
        "x": 255,
        "y": 440,
        "wires": [
            [
                "99923aedde97df0f"
            ]
        ]
    },
    {
        "id": "ee65e366a035b490",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "20e9e3a35362262a",
        "name": "B-PRES",
        "label": "",
        "order": 3,
        "width": 1,
        "height": 1,
        "emulateClick": true,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "basement",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 740,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "86476bd49731fa2c",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "205ec56154dae157",
        "name": "KJ-PRES",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": true,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "kitchn",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 740,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "dcc90d5280e1aeb8",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "9d9a284bf5ce86d3",
        "name": "O-PRESS",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": true,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "Office",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 740,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "1dcdfd1b4bbd46e1",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "c68075e9d91b3588",
        "name": "K-O-PRESS",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": true,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "Karina_OFFICE",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 750,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "aa0430d69264a383",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "403670954d105a2d",
        "name": "G-PRESS",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": true,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "hall",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 740,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "48ec96b07e81e728",
        "type": "inject",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 720,
        "wires": [
            [
                "ad963eccab3159c2",
                "54f7718144729c48",
                "1107db891bfcee07",
                "135724c94b4da9e3",
                "014cc1262b6a5534",
                "81fda15dc62d9a91",
                "c3d029127d9b687e",
                "9980b08f3c9badd5"
            ]
        ]
    },
    {
        "id": "8859702d4e0dda25",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "1257d664fb2a5f32",
        "name": "BA-PRES",
        "label": "",
        "order": 3,
        "width": 1,
        "height": 1,
        "emulateClick": true,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "bathroom",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 740,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "b59fc37200ad0559",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "1257d664fb2a5f32",
        "name": "BA-LYS",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "BA-LYS",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1780,
        "y": 360,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "1063cb701ba3a9ac",
        "type": "link out",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "name": "O-Light",
        "mode": "link",
        "links": [
            "fb7b621287bb03dc"
        ],
        "x": 2045,
        "y": 300,
        "wires": []
    },
    {
        "id": "d6f63ee6ae47b993",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "2742573c1afc3a9d",
        "name": "Closet",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "Closet",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1770,
        "y": 240,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "ee0928a7625436ab",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "group": "2c9e91a26ccc554d",
        "name": "vaskerom",
        "label": "",
        "order": 1,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "lightbulb-outline",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "vaskerom",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1780,
        "y": 440,
        "wires": [
            [
                "1063cb701ba3a9ac"
            ]
        ]
    },
    {
        "id": "d2b50c1ddfab828c",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "name": "",
        "links": [
            "69f22820e9552291"
        ],
        "x": 1225,
        "y": 280,
        "wires": [
            [
                "7e5753e9fb0410a3"
            ]
        ]
    },
    {
        "id": "7e5753e9fb0410a3",
        "type": "function",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "name": "Btn_LIghts",
        "func": "msg.background = \"grey\";\nif (msg.payload.power == \"on\"){\n    msg.background = \"yellow\";\n}\n\nmsg.ui_update = {\"buttonColor\" : msg.background} ;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 280,
        "wires": [
            [
                "706c4e8e62a2175f"
            ]
        ]
    },
    {
        "id": "706c4e8e62a2175f",
        "type": "switch",
        "z": "61f713462b422a81",
        "g": "07a89de28d307ce8",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Office_Light",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Hallway",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bedroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bathroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "karinaoffice",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "laundry",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kjøkken",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 9,
        "x": 1510,
        "y": 280,
        "wires": [
            [
                "0a0229165450e20b"
            ],
            [
                "3d752044a6901bba"
            ],
            [
                "d6f63ee6ae47b993"
            ],
            [
                "2b75c1c39c22e878"
            ],
            [
                "be0766449f34157c"
            ],
            [
                "b59fc37200ad0559"
            ],
            [
                "be78e95a54ad258e"
            ],
            [
                "ee0928a7625436ab"
            ],
            [
                "82d4deea0f5d146b"
            ]
        ]
    },
    {
        "id": "32a3ea9d827e0d64",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "2c9e91a26ccc554d",
        "name": "V-PRESS",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 740,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "6ad7524469d27c5e",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "group": "2742573c1afc3a9d",
        "name": "C-PRESS",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "eye",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 740,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "817926c433169913",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "205ec56154dae157",
        "name": "Off",
        "label": "",
        "order": 5,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power",
        "iconPosition": "left",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 700,
        "wires": [
            [
                "bbb00f8bf1437a19"
            ]
        ]
    },
    {
        "id": "e006a76904b60354",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "205ec56154dae157",
        "name": "On",
        "label": "",
        "order": 3,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power",
        "iconPosition": "left",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 660,
        "wires": [
            [
                "bbb00f8bf1437a19"
            ]
        ]
    },
    {
        "id": "51ccf992e760cfb4",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "205ec56154dae157",
        "name": "Auto",
        "label": "AUTO",
        "order": 4,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 740,
        "wires": [
            [
                "bbb00f8bf1437a19"
            ]
        ]
    },
    {
        "id": "aa65f6a826960c6e",
        "type": "inject",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": "2",
        "topic": "Auto",
        "x": 1230,
        "y": 580,
        "wires": [
            [
                "0f094dee2e4348c9"
            ]
        ]
    },
    {
        "id": "38a6473ae1b8cb4d",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "20e9e3a35362262a",
        "name": "Off",
        "label": "",
        "order": 7,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power",
        "iconPosition": "left",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 860,
        "wires": [
            [
                "f267683663f2dca9"
            ]
        ]
    },
    {
        "id": "ec8e67587eb60111",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "20e9e3a35362262a",
        "name": "On",
        "label": "",
        "order": 5,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power",
        "iconPosition": "left",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 820,
        "wires": [
            [
                "f267683663f2dca9"
            ]
        ]
    },
    {
        "id": "8051cc3693513a78",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "20e9e3a35362262a",
        "name": "Auto",
        "label": "AUTO",
        "order": 6,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 1510,
        "y": 900,
        "wires": [
            [
                "f267683663f2dca9"
            ]
        ]
    },
    {
        "id": "bbb00f8bf1437a19",
        "type": "link out",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "btn_upstairs",
        "links": [
            "8d85a587153a5563",
            "fabdb6a9.b22598"
        ],
        "x": 1755,
        "y": 680,
        "wires": []
    },
    {
        "id": "f3c851ce3f4bb01f",
        "type": "link out",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "btn_downstairs",
        "links": [
            "5db5024050114fe3",
            "56d97603.6cdfe8"
        ],
        "x": 2005,
        "y": 880,
        "wires": []
    },
    {
        "id": "c55131d2170d2058",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "d": true,
        "g": "0cc1d007b784b6ed",
        "group": "20e9e3a35362262a",
        "name": "FILM",
        "label": "",
        "order": 2,
        "width": 2,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "tv",
        "iconPosition": "left",
        "payload": "true",
        "payloadType": "bool",
        "topic": "block",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 940,
        "wires": [
            [
                "f267683663f2dca9"
            ]
        ]
    },
    {
        "id": "48b8d712fc1ea0fb",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "e53a9dd93e589b2e",
        "name": "S-Off",
        "label": "",
        "order": 4,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power",
        "iconPosition": "left",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 1040,
        "wires": [
            [
                "798ec501490403d7"
            ]
        ]
    },
    {
        "id": "290b787a2e6cab17",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "e53a9dd93e589b2e",
        "name": "S-On",
        "label": "",
        "order": 2,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power",
        "iconPosition": "left",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "x": 1510,
        "y": 1000,
        "wires": [
            [
                "798ec501490403d7"
            ]
        ]
    },
    {
        "id": "798ec501490403d7",
        "type": "link out",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "btn_Bedroom",
        "links": [
            "1aceef23.4fc291",
            "105bf0cf1d973ec9"
        ],
        "x": 2005,
        "y": 1060,
        "wires": []
    },
    {
        "id": "ce96471538f6565a",
        "type": "ui-button",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "group": "e53a9dd93e589b2e",
        "name": "S-Auto",
        "label": "AUTO",
        "order": 3,
        "width": 1,
        "height": 1,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 1510,
        "y": 1080,
        "wires": [
            [
                "798ec501490403d7"
            ]
        ]
    },
    {
        "id": "105bf0cf1d973ec9",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "btn_Color",
        "links": [
            "798ec501490403d7"
        ],
        "x": 1175,
        "y": 1040,
        "wires": [
            [
                "126c90c96c81b86b"
            ]
        ]
    },
    {
        "id": "126c90c96c81b86b",
        "type": "subflow:c8930ccb.6e912",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "Bedroom",
        "env": [],
        "x": 1320,
        "y": 1040,
        "wires": [
            [
                "290b787a2e6cab17"
            ],
            [
                "48b8d712fc1ea0fb"
            ],
            [
                "ce96471538f6565a"
            ]
        ]
    },
    {
        "id": "b83132c1d2f38f5d",
        "type": "subflow:c8930ccb.6e912",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "Basement",
        "env": [],
        "x": 1320,
        "y": 860,
        "wires": [
            [
                "ec8e67587eb60111"
            ],
            [
                "38a6473ae1b8cb4d"
            ],
            [
                "8051cc3693513a78"
            ]
        ]
    },
    {
        "id": "6d896087b5e899ac",
        "type": "subflow:c8930ccb.6e912",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "Upstairs",
        "env": [],
        "x": 1320,
        "y": 700,
        "wires": [
            [
                "e006a76904b60354"
            ],
            [
                "817926c433169913"
            ],
            [
                "51ccf992e760cfb4"
            ]
        ]
    },
    {
        "id": "5db5024050114fe3",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "btn_B-Color",
        "links": [
            "f3c851ce3f4bb01f"
        ],
        "x": 1175,
        "y": 860,
        "wires": [
            [
                "b83132c1d2f38f5d"
            ]
        ]
    },
    {
        "id": "8d85a587153a5563",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "btn_U-Color",
        "links": [
            "bbb00f8bf1437a19"
        ],
        "x": 1175,
        "y": 700,
        "wires": [
            [
                "6d896087b5e899ac"
            ]
        ]
    },
    {
        "id": "4d9529004366ec32",
        "type": "time-range-switch",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1890,
        "y": 620,
        "wires": [
            [
                "f3c851ce3f4bb01f",
                "e36e9d4f8caf4e7c"
            ],
            []
        ]
    },
    {
        "id": "cf21cfba7f910c8f",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "SHIELD STATUS",
        "links": [
            "5e8d3398.55375c"
        ],
        "x": 1285,
        "y": 940,
        "wires": [
            [
                "c55131d2170d2058"
            ]
        ]
    },
    {
        "id": "bdf5318dd87b3dfa",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "Decons_Upstairs",
        "links": [
            "fbd30b58.0dc988"
        ],
        "x": 1535,
        "y": 620,
        "wires": [
            [
                "bbb00f8bf1437a19"
            ]
        ]
    },
    {
        "id": "5a5aa2c2317b2730",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "DEcons_Downstairs",
        "links": [
            "63220a70.24ebb4"
        ],
        "x": 1545,
        "y": 780,
        "wires": [
            [
                "f267683663f2dca9"
            ]
        ]
    },
    {
        "id": "731a1f20b5c89507",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "set Auto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 580,
        "wires": [
            [
                "bbb00f8bf1437a19",
                "f3c851ce3f4bb01f",
                "4d9529004366ec32",
                "e36e9d4f8caf4e7c"
            ]
        ]
    },
    {
        "id": "0f094dee2e4348c9",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "Nightmode OFF",
        "rules": [
            {
                "t": "set",
                "p": "Nightmode",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 580,
        "wires": [
            [
                "731a1f20b5c89507"
            ]
        ]
    },
    {
        "id": "ad963eccab3159c2",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "B-Presence",
        "x": 570,
        "y": 580,
        "wires": [
            [
                "ee65e366a035b490"
            ]
        ]
    },
    {
        "id": "54f7718144729c48",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "BA-Presence",
        "env": [
            {
                "name": "presence",
                "value": "BA-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 620,
        "wires": [
            [
                "8859702d4e0dda25"
            ]
        ]
    },
    {
        "id": "1107db891bfcee07",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "ST-presence",
        "env": [
            {
                "name": "presence",
                "value": "ST-presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 660,
        "wires": [
            [
                "86476bd49731fa2c"
            ]
        ]
    },
    {
        "id": "135724c94b4da9e3",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "HA-Presence",
        "env": [
            {
                "name": "presence",
                "value": "HA-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 700,
        "wires": [
            [
                "aa0430d69264a383"
            ]
        ]
    },
    {
        "id": "014cc1262b6a5534",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "KO-presence",
        "env": [
            {
                "name": "presence",
                "value": "KO-presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 740,
        "wires": [
            [
                "1dcdfd1b4bbd46e1"
            ]
        ]
    },
    {
        "id": "81fda15dc62d9a91",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "O-presence",
        "env": [
            {
                "name": "presence",
                "value": "O-presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 780,
        "wires": [
            [
                "dcc90d5280e1aeb8"
            ]
        ]
    },
    {
        "id": "c3d029127d9b687e",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "C-Presence",
        "env": [
            {
                "name": "presence",
                "value": "C-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 820,
        "wires": [
            [
                "6ad7524469d27c5e"
            ]
        ]
    },
    {
        "id": "9980b08f3c9badd5",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "61f713462b422a81",
        "g": "a4a9170e6f87bab8",
        "name": "V-Presence",
        "env": [
            {
                "name": "presence",
                "value": "V-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 860,
        "wires": [
            [
                "32a3ea9d827e0d64"
            ]
        ]
    },
    {
        "id": "e36e9d4f8caf4e7c",
        "type": "link out",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "6a2e573bd6e53025"
        ],
        "x": 1995,
        "y": 580,
        "wires": []
    },
    {
        "id": "6a2e573bd6e53025",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "0cc1d007b784b6ed",
        "name": "link in 1",
        "links": [
            "e36e9d4f8caf4e7c"
        ],
        "x": 1765,
        "y": 980,
        "wires": [
            [
                "798ec501490403d7"
            ]
        ]
    },
    {
        "id": "0259d792f5b75f52",
        "type": "inject",
        "z": "61f713462b422a81",
        "g": "53115130f657b882",
        "name": "night",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 21 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "night",
        "payloadType": "str",
        "x": 790,
        "y": 140,
        "wires": [
            [
                "9eea7aeb43d074a3"
            ]
        ]
    },
    {
        "id": "9eea7aeb43d074a3",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "53115130f657b882",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "b8d1aea9ca80ad0d",
        "type": "inject",
        "z": "61f713462b422a81",
        "g": "53115130f657b882",
        "name": "day",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "day",
        "payloadType": "str",
        "x": 790,
        "y": 200,
        "wires": [
            [
                "9eea7aeb43d074a3"
            ]
        ]
    },
    {
        "id": "8456ad2c.7b492",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "53115130f657b882",
        "name": "",
        "links": [],
        "x": 745,
        "y": 260,
        "wires": [
            [
                "2b18f71498965dd7"
            ]
        ]
    },
    {
        "id": "2b18f71498965dd7",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "53115130f657b882",
        "name": "Set Values",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "{\"topic\":\"ui-property:<property>\",\"payload\":\"value\"}",
                "tot": "json",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Mode",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 260,
        "wires": [
            [
                "631efbfdf57fe8fc"
            ]
        ]
    },
    {
        "id": "42dcb01a8a2dd3b0",
        "type": "inject",
        "z": "61f713462b422a81",
        "g": "53115130f657b882",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 780,
        "y": 300,
        "wires": [
            [
                "2b18f71498965dd7"
            ]
        ]
    },
    {
        "id": "631efbfdf57fe8fc",
        "type": "ui-switch",
        "z": "61f713462b422a81",
        "g": "53115130f657b882",
        "name": "Home Status",
        "label": "Home Status",
        "group": "3f286b473c9966df",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "home",
        "onvalueType": "str",
        "onicon": "home",
        "oncolor": "green",
        "offvalue": "away",
        "offvalueType": "str",
        "officon": "home-off",
        "offcolor": "red",
        "x": 1030,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "d871d736.d19838",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "1f543c3859db0ffb",
        "name": "",
        "links": [
            "772b0560.6b8bcc"
        ],
        "x": 235,
        "y": 160,
        "wires": [
            [
                "fe7d3938.a5fd88"
            ]
        ]
    },
    {
        "id": "84abded8.462ac",
        "type": "link in",
        "z": "61f713462b422a81",
        "g": "1f543c3859db0ffb",
        "name": "",
        "links": [
            "47763aff.5ff334"
        ],
        "x": 235,
        "y": 200,
        "wires": [
            [
                "f4cc46fb.79d698"
            ]
        ]
    },
    {
        "id": "f4cc46fb.79d698",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "1f543c3859db0ffb",
        "name": "Karina",
        "rules": [
            {
                "t": "set",
                "p": "Karina",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 200,
        "wires": [
            [
                "5f74b04523ff3784"
            ]
        ]
    },
    {
        "id": "fe7d3938.a5fd88",
        "type": "change",
        "z": "61f713462b422a81",
        "g": "1f543c3859db0ffb",
        "name": "Øivind",
        "rules": [
            {
                "t": "set",
                "p": "oivheg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 160,
        "wires": [
            [
                "d80abf17ba04b0a2"
            ]
        ]
    },
    {
        "id": "5f74b04523ff3784",
        "type": "ui-switch",
        "z": "61f713462b422a81",
        "g": "1f543c3859db0ffb",
        "name": "Karina",
        "label": "Karina",
        "group": "3f286b473c9966df",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "account",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "account",
        "offcolor": "orange",
        "x": 510,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d80abf17ba04b0a2",
        "type": "ui-switch",
        "z": "61f713462b422a81",
        "g": "1f543c3859db0ffb",
        "name": "Øivind",
        "label": "Øivind",
        "group": "3f286b473c9966df",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "account",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "account",
        "offcolor": "orange",
        "x": 510,
        "y": 160,
        "wires": [
            []
        ]
    }
]