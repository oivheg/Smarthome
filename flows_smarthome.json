[
    {
        "id": "1c11632f.f206fd",
        "type": "tab",
        "label": "Google Home",
        "disabled": false,
        "info": "# Node-RED Flow Description\r\n\r\nThis document provides a textual representation of a Node-RED flow for converting text to Google Format and sending it to various Google Home devices using the Castv2 protocol.\r\n\r\n## Flow Overview\r\n\r\nThe Node-RED flow consists of multiple components, including subflows, functions, and Castv2 sender nodes. The primary purpose of this flow is to convert text into a format suitable for Google Home devices and then send it to specific devices.\r\n\r\n### Subflow: Convert Text to GoogleFormat\r\n\r\nThis subflow converts text into a format compatible with Google Home devices. It takes an input message containing text and transforms it into a message with the required format. The resulting message includes information such as the application, type, text content, speed, language, and metadata.\r\n\r\n### Main Flow\r\n\r\nThe main flow involves several Castv2 sender nodes connected to different Google Home devices. Each Castv2 sender node is associated with a specific Google Home device and is responsible for sending the formatted text to that device.\r\n\r\n## Flow Diagram\r\n\r\nThe following sequence diagram illustrates the flow of messages in this Node-RED flow:\r\n\r\n```mermaid\r\nsequenceDiagram\r\n    participant User\r\n    participant ConvertText\r\n    participant GoogleHomeDevice\r\n\r\n    User->>ConvertText: Input Text Message\r\n    ConvertText->>ConvertText: Convert Text to GoogleFormat\r\n    ConvertText-->>GoogleHomeDevice: Send Formatted Message"
    },
    {
        "id": "aa0ae7ae.75d228",
        "type": "tab",
        "label": "Lys",
        "disabled": false,
        "info": ""
    },
    {
        "id": "34fc4e1d.243ef2",
        "type": "tab",
        "label": "Dashboard GUI",
        "disabled": false,
        "info": "Error: Request failed with status code 401"
    },
    {
        "id": "bc3b2c68.b35f6",
        "type": "tab",
        "label": "Garbage Collector",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8b99f8fe.7b27b8",
        "type": "tab",
        "label": "Smarthome_MODE",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1b14ec1b.20ab54",
        "type": "tab",
        "label": "Happy",
        "disabled": false,
        "info": ""
    },
    {
        "id": "605ae98f.8a9998",
        "type": "tab",
        "label": "Bedroom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a7af161f.d5ece8",
        "type": "tab",
        "label": "Deconz Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1c88039c.df631c",
        "type": "tab",
        "label": "Basement",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bd80cf37.f9982",
        "type": "tab",
        "label": "Spotify",
        "disabled": true,
        "info": ""
    },
    {
        "id": "4edd86b6.331768",
        "type": "tab",
        "label": "FH MQTT",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a9a601907d96eb09",
        "type": "tab",
        "label": "Bathroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "021cd6ea3e90db93",
        "type": "tab",
        "label": "Stairs",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6df0226504208616",
        "type": "tab",
        "label": "Temperaturecontroll",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "15652aa.fd5c4d5",
        "type": "tab",
        "label": "Tibber Integrasjon",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c83f14cc3d9b8395",
        "type": "tab",
        "label": "Remote Content",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bd342fd3.e926f",
        "type": "tab",
        "label": "FaceReq",
        "disabled": true,
        "info": ""
    },
    {
        "id": "daf28d0f20b236a4",
        "type": "tab",
        "label": "Robot vacuum",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "55bef9f81591ce2e",
        "type": "tab",
        "label": "Node-Red Controll",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6a77c00f79a19693",
        "type": "tab",
        "label": "Presence Detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "94ff8f0f.02c5a",
        "type": "subflow",
        "name": "Deconz  Movement",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 420,
                "y": 200,
                "wires": [
                    {
                        "id": "a2ca5e419e4f16a4"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1120,
                "y": 200,
                "wires": [
                    {
                        "id": "4b3b19cb6cd314e6",
                        "port": 0
                    },
                    {
                        "id": "a2ca5e419e4f16a4",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "Name",
                "type": "str",
                "value": "default"
            },
            {
                "name": "ETG",
                "type": "str",
                "value": "1"
            },
            {
                "name": "ignore_state",
                "type": "bool",
                "value": "false"
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 640,
            "y": 140,
            "wires": [
                {
                    "id": "94ff8f0f.02c5a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "5bd36af.4ea5494",
        "type": "subflow",
        "name": "Timer",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 180,
                "y": 180,
                "wires": [
                    {
                        "id": "89e42a76.f6f2f8"
                    },
                    {
                        "id": "64d46e65.a7d2e"
                    },
                    {
                        "id": "2603e6d2.f1973a"
                    },
                    {
                        "id": "cdb73747.3ca6b8"
                    },
                    {
                        "id": "d3ba4ca2.8554d"
                    },
                    {
                        "id": "7e546c3.3eb7794"
                    },
                    {
                        "id": "4bded5f5.5e225c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1120,
                "y": 200,
                "wires": [
                    {
                        "id": "c907fe20.72aa6",
                        "port": 0
                    },
                    {
                        "id": "10faff0a.197481",
                        "port": 0
                    },
                    {
                        "id": "14bc3937.ad4257",
                        "port": 0
                    },
                    {
                        "id": "ee0cac1c.3b7c3",
                        "port": 0
                    },
                    {
                        "id": "1732dcca.1a2903",
                        "port": 0
                    },
                    {
                        "id": "acc8dc6a.4246f",
                        "port": 0
                    },
                    {
                        "id": "56324a59.cc82b4",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 1320,
            "y": 240,
            "wires": [
                {
                    "id": "27e86256.4bd24e",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c99beb5f.614cb8",
        "type": "subflow",
        "name": "Light Enabeled",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "d21593f0.281a6"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 80,
                "wires": [
                    {
                        "id": "976640e9.63cfd",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 580,
            "y": 180,
            "wires": [
                {
                    "id": "4fdcf2d1.2bd64c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c8930ccb.6e912",
        "type": "subflow",
        "name": "Subflow 1",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 0
                    }
                ]
            },
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 1
                    }
                ]
            },
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "95167fef.b6134",
        "type": "subflow",
        "name": "Lights",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 140,
                "wires": [
                    {
                        "id": "e7c7e2aa.37a72"
                    },
                    {
                        "id": "ab9063bb.93cdb"
                    },
                    {
                        "id": "e6f595a8.bbe788"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1740,
                "y": 200,
                "wires": [
                    {
                        "id": "998943e2.e0d0f",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "room",
                "type": "str",
                "value": "room"
            },
            {
                "name": "illumenance",
                "type": "num",
                "value": "200"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 1740,
            "y": 520,
            "wires": [
                {
                    "id": "7c2eceab.3f7bf",
                    "port": 0
                },
                {
                    "id": "d40dbe57.f0a9c",
                    "port": 0
                },
                {
                    "id": "12e98816.16dea8",
                    "port": 0
                },
                {
                    "id": "91a7fb27.153388",
                    "port": 0
                },
                {
                    "id": "7619e08.a8fb32",
                    "port": 0
                },
                {
                    "id": "efc9c5a8.94ff98",
                    "port": 0
                },
                {
                    "id": "4e96a6d5.febc48",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "beb2c07c77748830",
        "type": "subflow",
        "name": "Subflow 2",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "3db5fa316d693b26"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "3db5fa316d693b26",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "text",
                "type": "str",
                "value": "Default text"
            }
        ],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "c15399232bac2ca3",
        "type": "subflow",
        "name": "Light Controll",
        "info": "",
        "category": "LightControll",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "5e0d8112.7e4fc"
                    },
                    {
                        "id": "d672dd5902ab9ae0"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1250,
                "y": 80,
                "wires": [
                    {
                        "id": "2543e4c5.28612c",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "room",
                "type": "str",
                "value": "room"
            },
            {
                "name": "LightTreshold",
                "type": "num",
                "value": "110"
            },
            {
                "name": "delay",
                "type": "num",
                "value": "10",
                "ui": {
                    "icon": "font-awesome/fa-times-circle-o",
                    "label": {
                        "en-US": "Delay Minutes"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "num"
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#FFCC66",
        "inputLabels": [
            "Movement"
        ],
        "outputLabels": [
            "set light state"
        ],
        "icon": "node-red/light.svg",
        "status": {
            "x": 1160,
            "y": 340,
            "wires": [
                {
                    "id": "94fa43d7a18c8a2a",
                    "port": 0
                },
                {
                    "id": "5c138fa713ff7c90",
                    "port": 0
                },
                {
                    "id": "d672dd5902ab9ae0",
                    "port": 0
                },
                {
                    "id": "d672dd5902ab9ae0",
                    "port": 1
                },
                {
                    "id": "29f9c1a39ca382a2",
                    "port": 0
                },
                {
                    "id": "853ea5b8d8ea2b6f",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "8c898ad34ef16787",
        "type": "subflow",
        "name": "Subflow 3",
        "info": "",
        "in": [],
        "out": []
    },
    {
        "id": "deda2575970f5ca9",
        "type": "subflow",
        "name": "Convert Text to GoogleFormat",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "3da24c902e74a5dd"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 600,
                "y": 80,
                "wires": [
                    {
                        "id": "949ef7eeffd33778",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#3FADB5"
    },
    {
        "id": "9fbb2608fbbaf87a",
        "type": "subflow",
        "name": "Set btn color",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 320,
                "y": 180,
                "wires": [
                    {
                        "id": "e3d7434244f5dc5c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 780,
                "y": 180,
                "wires": [
                    {
                        "id": "9ce931d26a18e856",
                        "port": 0
                    },
                    {
                        "id": "c33c8265cc4368a5",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "presence",
                "type": "str",
                "value": "B-Presence"
            }
        ],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "e027b81483470f6e",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "Set Global Mode",
        "style": {
            "label": true
        },
        "nodes": [
            "62c6f49a0d557e7c",
            "f80c7b6e933d9c0a",
            "2b3d5935238c0aee",
            "8139c30e4d435db3",
            "1e397062fcfbb0e9",
            "58f6bac2fa5e74b0",
            "bac9e5674db2f1a6",
            "f3d2f0e8d93cd932"
        ],
        "x": 774,
        "y": 39
    },
    {
        "id": "88b8cd3b91daf3ae",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "Set Mode FH",
        "style": {
            "label": true
        },
        "nodes": [
            "bd874529797813e0",
            "845f145271bd8708",
            "3dbb5ab41be489d2",
            "22fcc7e745cde964",
            "bc1904772d51db44",
            "6626af8888151004",
            "14ac8f4a0be280af",
            "ad0eef5605ed22c5",
            "67977af33b66476a"
        ],
        "x": 1494,
        "y": 19
    },
    {
        "id": "b01d69bb34a09e41",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "LIGHTS",
        "style": {
            "label": true
        },
        "nodes": [
            "ed876b6c.e43528",
            "7d505bde.df4254",
            "d0eea84c.b46138",
            "1e4e617e.247a5f",
            "a2adaa8d.513fa8",
            "bfd0dbf0.b44958",
            "1b735eb2.af9271",
            "626ca02b.796b9",
            "02046d58b1fac856",
            "b2659103b136eee6",
            "80e36239586e7edc",
            "b0dc3ddb928b3d38",
            "3ddec9a5bae9d4d3",
            "55bae98b4d5dea93",
            "2fbbab333e453c76"
        ],
        "x": 374,
        "y": 879
    },
    {
        "id": "8cba373d8f4d3966",
        "type": "group",
        "z": "4edd86b6.331768",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3ab68b34.7a79d4",
            "466ec7c3.fe6948",
            "8386f04b.e927a",
            "c8ca9cb76832f227",
            "3e8ea1caee159345",
            "e7fd9780fcb41f6a",
            "2998be5081486cc3",
            "12866398155563a5",
            "d43d955ee16c8bb6"
        ],
        "x": 174,
        "y": 219
    },
    {
        "id": "c4cf42bd22da0e90",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "Change Light State",
        "style": {
            "label": true
        },
        "nodes": [
            "29c85b88.abdbe4",
            "647921f4d9a2d950",
            "5361f5befcd5a5d7",
            "8dba580b98a6ed90",
            "d483447b72658a37",
            "3406c60a489c0597",
            "609827799f3da3b7",
            "bcb4101b90fdf099",
            "be16e854cc354bd1",
            "68b194f85a1ef7a0",
            "c39c0770f61b61c7",
            "462b887551d30bf4",
            "80b9f8ea0180e4ee",
            "76142807ba013dd5",
            "cd50f90b06a6709f",
            "3b3de3175ed44aa8",
            "a51ca0b20d32143c",
            "13a252ff538d8be3",
            "aecda74e6fdd1ac0",
            "042f81d8d844995b",
            "0342c455be2f1e29",
            "61261982c883c502",
            "c446fcab5b684e27"
        ],
        "x": 264,
        "y": 1239
    },
    {
        "id": "4764ba70f833e4a9",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Bedroom",
        "style": {
            "label": true
        },
        "nodes": [
            "50b0d259.df502c",
            "551be057.65bed",
            "18b93929.bea567",
            "876c799e.859a08",
            "6e1a0143.f51f8",
            "a4afb1bbd79c5da6",
            "d3daac16ab6cdf92",
            "c0a924816dea4ee8",
            "4b0510cde2a3bfff"
        ],
        "x": 224,
        "y": 1119,
        "w": 1002,
        "h": 162
    },
    {
        "id": "a7b26502af3b65e3",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Hallway",
        "style": {
            "label": true
        },
        "nodes": [
            "dcf434ce.e89888",
            "b05e450967f5da8d",
            "87d1ce3c19202d34",
            "4ce3539c5f7a0ca7",
            "f9450bda48f83deb",
            "f539323231f77776",
            "b9eed7dde8000c3e",
            "a04e6739528f2eab",
            "0a13e388cbc5a023"
        ],
        "x": 894,
        "y": 559,
        "w": 682,
        "h": 182
    },
    {
        "id": "172b4292bafc68a7",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Basement",
        "style": {
            "label": true
        },
        "nodes": [
            "f66e7e24.aca9d",
            "7a4a01ee.c97e",
            "21c80566.d9201a",
            "183c95c7745f2ea4",
            "6fb6663e779c4bed",
            "7f4dd2f1e5bb0824",
            "bc57e78aaf68965d",
            "0e2324ffdb10fe80"
        ],
        "x": 244,
        "y": 939,
        "w": 822,
        "h": 149.5
    },
    {
        "id": "ff7ca7f8980ed0b1",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Kitchen/Livingroom",
        "style": {
            "label": true
        },
        "nodes": [
            "2cc83436.3fa25c",
            "e2d7c57f5c31b977",
            "be2ad471.d9c448",
            "d17d889454f3d3a1",
            "ca9cda18826d54da",
            "ed863371775575ab",
            "99fed52c6143c053"
        ],
        "x": 224,
        "y": 779,
        "w": 842,
        "h": 142
    },
    {
        "id": "9bb3180dbbe92370",
        "type": "group",
        "z": "021cd6ea3e90db93",
        "name": "Bluetooth group",
        "style": {
            "fill": "#7fb7df",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "23e030a9e19f898b",
            "8981156258330374",
            "711accb21e6923cb",
            "8cd527805b016174",
            "8a70081184fd9d2f",
            "d6258c7d724e2714",
            "915e541148107f9f",
            "7079d27f6152cac0",
            "ae12affc3eb4dc45",
            "1f50ac0d5a21f7ce",
            "277f89239aa44fc7"
        ],
        "x": 474,
        "y": 1339
    },
    {
        "id": "c9556be6f9a1107c",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "Movement",
        "style": {
            "fill": "#c8e7a7",
            "label": true
        },
        "nodes": [
            "20f007f8bd0487de",
            "ff1fc7e44a6ee4fb",
            "cde6e0729ad1a4e1",
            "09e0db159eb1f162",
            "9d532b5d4b314b22",
            "dc179d3a7d67d467",
            "fe2026718ea2802c"
        ],
        "x": 544,
        "y": 639
    },
    {
        "id": "e91b0b088ffed19b",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Office Light",
        "style": {
            "label": true
        },
        "nodes": [
            "28f356670a5a6dc9",
            "f2e0ac31e202a4e3",
            "ca59d875951bc88c",
            "d3afa1ea39895105",
            "d4e988839861fdd7",
            "8360c95b413918e1",
            "1b1b701f2f4d7455"
        ],
        "x": 224,
        "y": 559,
        "w": 622,
        "h": 182
    },
    {
        "id": "de17e98102477bde",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Parameters",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "67361b1114c0fdfe",
            "e97e2897e23ddfe6",
            "4445d551c97a8c33",
            "f401193199a5d246",
            "bc2016b761b16427",
            "38b3f8ab5235eae5",
            "425971ea4db9dc68",
            "886304c986eee280",
            "d61c8ff011a88dbc",
            "30ea5fb10da29ec3",
            "821b39103a91f616",
            "896aa735a80611d5",
            "3b21f19e91b9979f",
            "9a193a329c78ad67",
            "020e359865b706b7",
            "a06c0bc8635acb75",
            "8b7b2563069281bc",
            "28a4fcd44a76c8d1"
        ],
        "x": 274,
        "y": 979
    },
    {
        "id": "1bd93d309e63194e",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Modes",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "2bf80c0dd1a3633a",
            "469534ab7d1a6e67",
            "e5900fb71b890322",
            "ce1254daf9ef9715",
            "7fdee88ae96f836f"
        ],
        "x": 204,
        "y": 399
    },
    {
        "id": "1525f01c13bb1d72",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Schedule",
        "style": {
            "fill": "#dbcbe7",
            "label": true
        },
        "nodes": [
            "e4533adb51b5c363",
            "3f24f1034c760819",
            "1998fd1676fdbd20",
            "d819b5d04aef9a18"
        ],
        "x": 234,
        "y": 219
    },
    {
        "id": "76afa4ece7428050",
        "type": "group",
        "z": "6df0226504208616",
        "name": "Inputs",
        "style": {
            "fill": "#c8e7a7",
            "label": true
        },
        "nodes": [
            "7410ca5f5aabab86",
            "2a5d5b0b8f5f36f6",
            "8a7c196d53d4237a"
        ],
        "x": 894,
        "y": 299
    },
    {
        "id": "21fab955d3f1b60e",
        "type": "group",
        "z": "1c11632f.f206fd",
        "name": "Google Home",
        "style": {
            "fill": "#7fb7df",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "dd227924.f03a78",
            "15d28c99.680783",
            "50a60792.19b3e8",
            "e1a25373.858cb",
            "8a1f0fa2c013ae33",
            "5cfbdbd83670143c",
            "662ff2faf119d193",
            "d3abaa0d9a3b75d3",
            "278706f49dd302bf",
            "7a81f7e1.38f6f8",
            "0474769cb5224aaa",
            "e0341eb15cd222dc",
            "4bd1b046091aabaf",
            "705040e9aa814bf0",
            "a0b5830a5e5ee232",
            "2018f76d019e4576"
        ],
        "x": 134,
        "y": 99,
        "w": 712,
        "h": 382
    },
    {
        "id": "53115130f657b882",
        "type": "group",
        "z": "34fc4e1d.243ef2",
        "name": " Status",
        "style": {
            "label": true
        },
        "nodes": [
            "0259d792f5b75f52",
            "9eea7aeb43d074a3",
            "b8d1aea9ca80ad0d",
            "8456ad2c.7b492",
            "2b18f71498965dd7",
            "42dcb01a8a2dd3b0",
            "631efbfdf57fe8fc",
            "4f54a064b422c37c"
        ],
        "x": 664,
        "y": 119
    },
    {
        "id": "10af9586a4a889ef",
        "type": "group",
        "z": "55bef9f81591ce2e",
        "name": "Restart Node-Red",
        "style": {
            "label": true
        },
        "nodes": [
            "817f1df1.c5f98",
            "aecb8d48.af66f"
        ],
        "x": 34,
        "y": 51.5
    },
    {
        "id": "1f543c3859db0ffb",
        "type": "group",
        "z": "34fc4e1d.243ef2",
        "name": "Person Status",
        "style": {
            "fill": "#bfc7d7",
            "label": true
        },
        "nodes": [
            "8c8af9368e8f41fc",
            "74c6f834be0eaf96",
            "fb53dc37e43697dd",
            "e7dd079f8ffb9ceb",
            "d871d736.d19838",
            "84abded8.462ac",
            "f4cc46fb.79d698",
            "fe7d3938.a5fd88",
            "5f74b04523ff3784",
            "d80abf17ba04b0a2"
        ],
        "x": 214,
        "y": 139
    },
    {
        "id": "cb50c720a3cedf84",
        "type": "group",
        "z": "34fc4e1d.243ef2",
        "name": "LightControll",
        "style": {
            "fill": "#ffff7f",
            "label": true
        },
        "nodes": [
            "95811a33.4d7d18",
            "c6724f39.53f47",
            "a19e493b.49cd68",
            "3e444ebc.b3a102",
            "92091a2e.df6988",
            "a88b9898.287c38",
            "539565975c8a6a54",
            "c2a6540cf2006146",
            "3e07a9b8db351d48",
            "b5b4e683f02ca9f3",
            "ee3e825fcad82993",
            "cc174d77b5907f86",
            "c8d35c2375c9aeee"
        ],
        "x": 1134,
        "y": 119
    },
    {
        "id": "f7a1eb10d62e848e",
        "type": "group",
        "z": "34fc4e1d.243ef2",
        "name": "Tv Status",
        "style": {
            "fill": "#dbcbe7",
            "label": true
        },
        "nodes": [
            "ef7a18c8.b37818",
            "54c12383.3b8e7c",
            "4bc4e08c.7d0a9",
            "9fcc84da.3f61b8",
            "6075171d.f0db08"
        ],
        "x": 214,
        "y": 379
    },
    {
        "id": "56ae36d1f333f9cc",
        "type": "group",
        "z": "34fc4e1d.243ef2",
        "name": "Movement",
        "style": {
            "fill": "#3f93cf",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "567755e9f6d5914d",
            "d58c58151e606c9c",
            "462b0ce386932b99",
            "d7fd489965c175ac",
            "9ac436922540aab1",
            "73d5a60daa5ab7b8",
            "0065961ffb430f90",
            "144253238ba7a897",
            "6369e9bb58069b62",
            "ea8cc87cb1b47544",
            "01a23ab5c396b9f9",
            "82d9de3a908e24ad",
            "6bf56bf7e4ed9699",
            "7053a795c90d0dea",
            "7cc0bf4f935ca8d2",
            "c6762d2dd6c6a5c4",
            "10c0dda10a619e6f"
        ],
        "x": 214,
        "y": 539
    },
    {
        "id": "f51f78b911174f21",
        "type": "group",
        "z": "34fc4e1d.243ef2",
        "name": "Button LIght Controll",
        "style": {
            "fill": "#ffdf7f",
            "label": true
        },
        "nodes": [
            "57ba7f31.9cd56",
            "ed7a3ab.c4f31c8",
            "d2142d17.21a64",
            "7f7ea747.fb10a8",
            "71871582.621a2c",
            "8cc2264a.376548",
            "80ef18fb.d3bc48",
            "6987ca2e.892e94",
            "ff979eb7.893f3",
            "2899fe6e.4401a2",
            "65f5a4f8.7de8fc",
            "d2e37f4b.df0e9",
            "fb14610a.ba0cf",
            "216a5566.53b0aa",
            "d9e85afd.05fb38",
            "1d4bef5d.bd33a1",
            "790d26f6.d423a8",
            "2b70efb5.d5416",
            "34407a70.7715c6",
            "6e6f2eda.8a5af",
            "32131fe0.68d4c",
            "c71338d4.ce73c8",
            "87af81c4.c910b",
            "c720f0cc.65429",
            "f8670f96ca7cf391",
            "6cb2cc4ff6ec201b",
            "0f1b2af7a06e3505",
            "c54c5e1a8630175a",
            "bb0314f944be1623"
        ],
        "x": 1134,
        "y": 539
    },
    {
        "id": "5e9ef91ad1457c49",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Set Off Delay",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "ed122137.eed21",
            "bd26ed9a.5daa7",
            "69f4a103.cfabb",
            "8d389ebc.22cbb",
            "e578725c1a2aec32",
            "a0e66a252b3dae2e"
        ],
        "x": 254,
        "y": 19,
        "w": 472,
        "h": 202
    },
    {
        "id": "750228718f0f7746",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Movement Controll",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "bc75f603ad1027db",
            "d37dfc8b7c95236c",
            "17c5a7b3f229590b",
            "5f73d02a6b8a85e6",
            "13197968d43b0e56",
            "df8e9adb3c8eb378",
            "5fc2b4ddf5b94b9e",
            "ac728ff70c911726",
            "7284606e.34aff",
            "0ab1d40d25d12428",
            "e17d0a43.b0e048",
            "56a9a0de058b39ee"
        ],
        "x": 764,
        "y": 19,
        "w": 432,
        "h": 202
    },
    {
        "id": "dabbbe0f6cfeecac",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Presence",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "99ed1ce4.90a0c",
            "c825f67d.b5dba8",
            "76c860b3.3a25c",
            "9253d22c.17587",
            "d7f5cfb64ad22ad0",
            "885fc820467d8739"
        ],
        "x": 254,
        "y": 299,
        "w": 352,
        "h": 162
    },
    {
        "id": "8da8f3a9a56fc7ee",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Allow/Block Lights",
        "style": {
            "label": true,
            "fill": "#ff7f7f"
        },
        "nodes": [
            "7c9078bb.3bd958",
            "fabdb6a9.b22598",
            "429f76d8.f44498",
            "56d97603.6cdfe8",
            "952977f1.2f4798",
            "ff0e4529.8db608",
            "f2786c6b.d98eb",
            "ef6b84bd.139bb8",
            "f7029354.44404",
            "e54806fb.80a248",
            "1aceef23.4fc291",
            "641555a3.3a90ec",
            "3ceb6365.4b21bc",
            "99bb192c.9613d8",
            "7c376eb857a4e46f",
            "b6d05acd6b922f83"
        ],
        "x": 764,
        "y": 299,
        "w": 882,
        "h": 202
    },
    {
        "id": "c10ebffd064adbf1",
        "type": "group",
        "z": "6df0226504208616",
        "name": "HeatPump current Temp",
        "style": {
            "fill": "#ffdf7f",
            "label": true
        },
        "nodes": [
            "326ebb822b97e7c9",
            "b6a91a79ebe2ca38",
            "847b679456e779b9",
            "26e40d73162656c1",
            "0085aa5b7ff9cc46",
            "c4d9e0754c0f8049",
            "86da7f4cca9fd763",
            "fc50ae84c99bcba5",
            "dfca049e398fd340",
            "673856754ec6c9ae",
            "6966249f29d70d2e",
            "a112b0b45b20197a",
            "32073bdf643cc299",
            "d7b5c9af4c98242d"
        ],
        "x": 264,
        "y": 679
    },
    {
        "id": "58a01d02b4619b46",
        "type": "group",
        "z": "6a77c00f79a19693",
        "name": "ID Lock",
        "style": {
            "fill": "#7fb7df",
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "b0f298334b1bcc58",
            "06a40700c474d84f",
            "38519274c0551bb7",
            "ed4c1dbd7e3c8218",
            "d8cc8d6cd6ac5ca8",
            "77e202e1f7cb4c98",
            "99e34fb7e0972e1e",
            "e4188f47293e43df",
            "6504b75c810f8995",
            "9ab71bb708f19c1b",
            "79de92216dfa5568",
            "3fc79d5f33bafedc",
            "9ca94a94ccdaf724"
        ],
        "x": 134,
        "y": 219,
        "w": 1372,
        "h": 282
    },
    {
        "id": "2e7006b6bbb0568e",
        "type": "junction",
        "z": "a9a601907d96eb09",
        "x": 1240,
        "y": 440,
        "wires": [
            [
                "5ba4b6c089aaea41"
            ]
        ]
    },
    {
        "id": "bb0314f944be1623",
        "type": "junction",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "x": 1740,
        "y": 880,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "3d5b775ff4f2f150",
        "type": "junction",
        "z": "6df0226504208616",
        "x": 1980,
        "y": 740,
        "wires": [
            [
                "6aca6fa3e58469b9"
            ]
        ]
    },
    {
        "id": "6e32bf19c51ed3a4",
        "type": "junction",
        "z": "6df0226504208616",
        "x": 1280,
        "y": 500,
        "wires": [
            [
                "88f762e6368aa7c0"
            ]
        ]
    },
    {
        "id": "aaf5b9532af1fbac",
        "type": "junction",
        "z": "8b99f8fe.7b27b8",
        "x": 1800,
        "y": 300,
        "wires": [
            [
                "fc4fe81e.444628",
                "4241a94a84740929"
            ]
        ]
    },
    {
        "id": "d13df963babc7388",
        "type": "junction",
        "z": "8b99f8fe.7b27b8",
        "x": 1800,
        "y": 240,
        "wires": [
            [
                "247260f.c82dca",
                "29d24b09.012634",
                "8ebc2701b1ba1795"
            ]
        ]
    },
    {
        "id": "530528aa.2006c8",
        "type": "pushbullet-config",
        "name": "Øivind"
    },
    {
        "id": "12895ae7.9c6bf5",
        "type": "deconz-server",
        "name": "Zigbee",
        "config_version": 1,
        "ip": "192.168.1.103",
        "port": "80",
        "ws_port": "8088",
        "secure": false,
        "polling": "15"
    },
    {
        "id": "374dd77b.cadc38",
        "type": "ui_group",
        "name": "Happy",
        "tab": "98e325c0.ffee08",
        "order": 11,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "862863a9.265f3",
        "type": "castv2-connection",
        "name": "Entry",
        "target": "Entryway speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "639afec7.a73a3",
        "type": "castv2-connection",
        "name": "",
        "target": "music",
        "host": "",
        "port": "8009"
    },
    {
        "id": "1744610e.18ab3f",
        "type": "castv2-connection",
        "name": "",
        "target": "Stue",
        "host": "",
        "port": "8009"
    },
    {
        "id": "98e325c0.ffee08",
        "type": "ui_tab",
        "name": "Dashboard",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "69a63d21.a935c4",
        "type": "ui_group",
        "name": "HOUSE",
        "tab": "98e325c0.ffee08",
        "order": 1,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "927bb6cc.493638",
        "type": "ui_group",
        "name": "Kjøkken",
        "tab": "98e325c0.ffee08",
        "order": 2,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "231b0632.0e84ca",
        "type": "ui_group",
        "name": "Kjellerstue",
        "tab": "98e325c0.ffee08",
        "order": 3,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "a8deaee7.c8dff",
        "type": "ui_group",
        "name": "Soverom",
        "tab": "98e325c0.ffee08",
        "order": 4,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "e25fe03d.94a6a",
        "type": "ui_group",
        "name": "Office",
        "tab": "98e325c0.ffee08",
        "order": 5,
        "disp": true,
        "width": 2,
        "collapse": false
    },
    {
        "id": "3be8a4e3.dba93c",
        "type": "ui_group",
        "name": "K-Office",
        "tab": "98e325c0.ffee08",
        "order": 6,
        "disp": true,
        "width": 2,
        "collapse": false
    },
    {
        "id": "70ca41b6.c8208",
        "type": "ui_group",
        "name": "Gang",
        "tab": "98e325c0.ffee08",
        "order": 7,
        "disp": true,
        "width": 2,
        "collapse": false
    },
    {
        "id": "41e681f.e420d8",
        "type": "mqtt-broker",
        "name": "FutureHomeHub",
        "broker": "cube.local",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "4dd42f71.91823",
        "type": "castv2-connection",
        "name": "Kjeller",
        "target": "Basement speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "[YOUR CONFIG]",
        "type": "mqtt-broker",
        "name": "Remote Broker",
        "broker": "localhost",
        "port": "1888",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "compatmode": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "4c99ccf8.ce4ef4",
        "type": "ui_group",
        "name": "Spotify",
        "tab": "4007f45b.b0a3cc",
        "order": 1,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "4007f45b.b0a3cc",
        "type": "ui_tab",
        "name": "Spotify",
        "icon": "my_library_music",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "95e63b8.37a01c8",
        "type": "spotify-auth",
        "name": "Spotify OAuth2",
        "scope": "app-remote-control\nuser-read-recently-played\nuser-modify-playback-state\nuser-read-currently-playing\nplaylist-read-private\nstreaming\n"
    },
    {
        "id": "fa370de0.93e89",
        "type": "mqtt-broker",
        "name": "Smarthub",
        "broker": "cube.local",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "9f7c23e0bf86f5c3",
        "type": "ui_group",
        "name": "Bathroom",
        "tab": "98e325c0.ffee08",
        "order": 8,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "71d3b8ea0b115e6e",
        "type": "ui_group",
        "name": "Vakserom",
        "tab": "98e325c0.ffee08",
        "order": 9,
        "disp": true,
        "width": 2,
        "collapse": false,
        "className": ""
    },
    {
        "id": "5fbbc12a986329c4",
        "type": "ui_group",
        "name": "Closet",
        "tab": "98e325c0.ffee08",
        "order": 10,
        "disp": true,
        "width": 2,
        "collapse": false,
        "className": ""
    },
    {
        "id": "5d47569e31e42f22",
        "type": "mqtt-broker",
        "name": "arduino",
        "broker": "localhost",
        "port": "1884",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "090451f5a0dc1c5c",
        "type": "spotify-auth",
        "name": "Spotify acces",
        "scope": "user-read-playback-state\nuser-modify-playback-state\nuser-read-currently-playing\nstreaming\napp-remote-control"
    },
    {
        "id": "36091c060c8a72d5",
        "type": "castv2-connection",
        "name": "Office",
        "target": "Office speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "71281e9bfdd6e828",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "3d2f09b6c7faaec7",
        "type": "tibber-api-endpoint",
        "queryUrl": "https://api.tibber.com/v1-beta/gql",
        "feedTimeout": "60",
        "name": "Heggland"
    },
    {
        "id": "b257c3b61872d5b6",
        "type": "light-scheduler-settings",
        "name": "Home",
        "latitude": "58.8713",
        "longitude": " 5.7168"
    },
    {
        "id": "f8a9cdbf31cc2082",
        "type": "miio-roborock-server",
        "name": "Roborock S7",
        "ip": "192.168.1.188",
        "token": "6e4447635453797766334e624f597566",
        "polling": "30"
    },
    {
        "id": "490ac6e2a74abc7d",
        "type": "global-config",
        "name": "global-config",
        "env": []
    },
    {
        "id": "0852d48c6486f04f",
        "type": "ui_spacer",
        "z": "34fc4e1d.243ef2",
        "name": "spacer",
        "group": "69a63d21.a935c4",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "f6d0c8c1702cd064",
        "type": "ui_spacer",
        "z": "34fc4e1d.243ef2",
        "name": "spacer",
        "group": "69a63d21.a935c4",
        "order": 6,
        "width": 2,
        "height": 1
    },
    {
        "id": "b3a25f8ace38f987",
        "type": "ui_spacer",
        "z": "34fc4e1d.243ef2",
        "name": "spacer",
        "group": "69a63d21.a935c4",
        "order": 15,
        "width": 1,
        "height": 1
    },
    {
        "id": "e0fd2291d1090242",
        "type": "ui_spacer",
        "z": "34fc4e1d.243ef2",
        "name": "spacer",
        "group": "927bb6cc.493638",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "7cadb723b6a0f823",
        "type": "ui_spacer",
        "z": "34fc4e1d.243ef2",
        "name": "spacer",
        "group": "231b0632.0e84ca",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "a02eb0dcdc56571a",
        "type": "ui_spacer",
        "z": "34fc4e1d.243ef2",
        "name": "spacer",
        "group": "a8deaee7.c8dff",
        "order": 2,
        "width": 2,
        "height": 1
    },
    {
        "id": "7f0c45a9432dc256",
        "type": "ui-base",
        "name": "UI Base",
        "path": "/dashboard"
    },
    {
        "id": "1553eff60e2d48b2",
        "type": "ui-theme",
        "name": "Default Theme",
        "colors": {
            "surface": "#ffffff",
            "primary": "#0094ce",
            "bgPage": "#eeeeee",
            "groupBg": "#ffffff",
            "groupOutline": "#cccccc"
        }
    },
    {
        "id": "e923f74a24d7782a",
        "type": "ui-page",
        "name": "Dashboard",
        "ui": "7f0c45a9432dc256",
        "path": "/",
        "layout": "grid",
        "theme": "1553eff60e2d48b2",
        "order": -1,
        "className": ""
    },
    {
        "id": "3f286b473c9966df",
        "type": "ui-group",
        "name": "House",
        "page": "e923f74a24d7782a",
        "width": "6",
        "height": "1",
        "order": -1,
        "className": ""
    },
    {
        "id": "4d021bd33834978e",
        "type": "castv2-connection",
        "name": "SHIELD",
        "target": "",
        "host": "192.168.1.61",
        "port": "8009"
    },
    {
        "id": "4fc724fc06c8dc88",
        "type": "noraf-config",
        "name": "nora config",
        "group": "",
        "twofactor": "off",
        "twofactorpin": "",
        "localexecution": true,
        "structure": "Hegglunds",
        "storeStateInContext": true,
        "disableValidationErrors": false,
        "sendDeviceNameAndLocation": false
    },
    {
        "id": "0b617d79931e935c",
        "type": "ambi-config",
        "clientId": "c52c175d-8388-4974-be6e-2db7abf90818",
        "clientSecret": "8046ff33-2c02-4aa7-95d5-cb71848032dd",
        "username": "oivheg@gmail.com",
        "password": "y4mHub&PcsW0%p!I"
    },
    {
        "id": "4b3b19cb6cd314e6",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "Gusetmode",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 970,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "92a5af52a7d9680d",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 810,
        "y": 240,
        "wires": [
            [
                "4b3b19cb6cd314e6"
            ]
        ]
    },
    {
        "id": "a2ca5e419e4f16a4",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "ignore_state",
        "property": "ignore_state",
        "propertyType": "env",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 200,
        "wires": [
            [],
            [
                "92a5af52a7d9680d"
            ]
        ]
    },
    {
        "id": "e5f5aa31.81fff8",
        "type": "function",
        "z": "94ff8f0f.02c5a",
        "name": "Convert",
        "func": "  var mvmnt = {};\n        mvmnt.name = env.get(\"Name\");\n        mvmnt.topic = mvmnt.name;\n       mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = env.get(\"ETG\");\n       mvmnt.id = msg.payload.devices[0].id;\n       mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.payload = payload_raw.state.presence; // presence\n        mvmnt.dark = msg.payload.dark;\nreturn mvmnt;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "2603e6d2.f1973a",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "14bc3937.ad4257"
            ],
            []
        ]
    },
    {
        "id": "cdb73747.3ca6b8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "19:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 240,
        "wires": [
            [
                "ee0cac1c.3b7c3"
            ],
            []
        ]
    },
    {
        "id": "d3ba4ca2.8554d",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "19:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 280,
        "wires": [
            [
                "1732dcca.1a2903"
            ],
            []
        ]
    },
    {
        "id": "89e42a76.f6f2f8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 440,
        "y": 120,
        "wires": [
            [
                "c907fe20.72aa6"
            ],
            []
        ]
    },
    {
        "id": "64d46e65.a7d2e",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 420,
        "y": 160,
        "wires": [
            [
                "10faff0a.197481"
            ],
            []
        ]
    },
    {
        "id": "c907fe20.72aa6",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 120,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "1732dcca.1a2903",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 280,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "ee0cac1c.3b7c3",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 240,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "14bc3937.ad4257",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 200,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "10faff0a.197481",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000 ",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 160,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "27e86256.4bd24e",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "7e546c3.3eb7794",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 320,
        "wires": [
            [
                "acc8dc6a.4246f"
            ],
            []
        ]
    },
    {
        "id": "acc8dc6a.4246f",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 320,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "4bded5f5.5e225c",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "23:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 360,
        "wires": [
            [
                "56324a59.cc82b4"
            ],
            []
        ]
    },
    {
        "id": "56324a59.cc82b4",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 360,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "d21593f0.281a6",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "Light Enabelde",
        "property": "Enabeled",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "976640e9.63cfd"
            ],
            [
                "728e655.258b19c"
            ]
        ]
    },
    {
        "id": "976640e9.63cfd",
        "type": "subflow:5bd36af.4ea5494",
        "z": "c99beb5f.614cb8",
        "name": "TID",
        "env": [],
        "x": 410,
        "y": 80,
        "wires": [
            [
                "4fdcf2d1.2bd64c"
            ]
        ]
    },
    {
        "id": "728e655.258b19c",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "false",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 120,
        "wires": [
            [
                "976640e9.63cfd"
            ]
        ]
    },
    {
        "id": "4fdcf2d1.2bd64c",
        "type": "function",
        "z": "c99beb5f.614cb8",
        "name": "",
        "func": "msg.payload = \"Light:\"+ msg.Enabeled +\"  Time:\"+ msg.topic+\"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "dbfcd776.f2b518",
        "type": "function",
        "z": "c8930ccb.6e912",
        "name": "",
        "func": "let green = {\"background\": \"lightgreen\"};\nlet orange = {\"background\": \"orange\"};\nlet grey = {\"background\": \"grey\"};\nlet red = {\"background\": \"Crimson\"};\nswitch(msg.payload) {\n  case true:\n    return [green, grey,grey];\n    \n  case false:\n     return [grey, red,grey];\n   \n   default:\n     return [grey, grey, orange];\n}\n\nreturn msg;",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 200,
        "y": 80,
        "wires": [
            [],
            [],
            []
        ],
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "26870d78.89b472",
        "type": "traffic",
        "z": "95167fef.b6134",
        "name": "Block Light",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 450,
        "y": 180,
        "wires": [
            [
                "13778892.2a0ed7"
            ]
        ]
    },
    {
        "id": "a11a91da.5ad24",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 100,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8",
                "91a7fb27.153388"
            ]
        ]
    },
    {
        "id": "938ec30b.4297f",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "ON",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1250,
        "y": 200,
        "wires": [
            [
                "a85cb1de.b2ab"
            ]
        ]
    },
    {
        "id": "fb3a9993.6269b8",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": true,
        "units": "s",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1270,
        "y": 240,
        "wires": [
            [
                "50aa8aad.14fbf4"
            ]
        ]
    },
    {
        "id": "998943e2.e0d0f",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "room",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d9c60a4a.f09e68",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 400,
        "wires": [
            [
                "26699996.18eb86"
            ],
            [
                "6893d036.80a4c"
            ]
        ]
    },
    {
        "id": "6893d036.80a4c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "20:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 710,
        "y": 440,
        "wires": [
            [
                "983ec0ae.1da1d"
            ],
            [
                "1409254b.a545db",
                "983ec0ae.1da1d"
            ]
        ]
    },
    {
        "id": "1409254b.a545db",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "20:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 480,
        "wires": [
            [
                "74c885f8.41bd8c"
            ],
            [
                "c1a57d04.02dd2",
                "73c4a487.cd543c"
            ]
        ]
    },
    {
        "id": "b2a9199c.b4fc38",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 700,
        "y": 320,
        "wires": [
            [
                "ba2cd27b.bb893"
            ],
            [
                "353f5328.0939bc"
            ]
        ]
    },
    {
        "id": "353f5328.0939bc",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 720,
        "y": 360,
        "wires": [
            [
                "160da951.9f50e7"
            ],
            [
                "d9c60a4a.f09e68"
            ]
        ]
    },
    {
        "id": "ba2cd27b.bb893",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "74c885f8.41bd8c",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "983ec0ae.1da1d",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 460,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "26699996.18eb86",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 420,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "160da951.9f50e7",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000 ",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 380,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "73c4a487.cd543c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 520,
        "wires": [
            [
                "e147de11.45dc6"
            ],
            []
        ]
    },
    {
        "id": "e147de11.45dc6",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 580,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "c1a57d04.02dd2",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 560,
        "wires": [
            [
                "9a4c1b75.c30428"
            ],
            [
                "e147de11.45dc6"
            ]
        ]
    },
    {
        "id": "9a4c1b75.c30428",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "3000",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 540,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "13778892.2a0ed7",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "Status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 180,
        "wires": [
            [
                "1320f8a5.4784c7"
            ],
            [
                "49d59fdb.c8f13"
            ]
        ]
    },
    {
        "id": "7c2eceab.3f7bf",
        "type": "function",
        "z": "95167fef.b6134",
        "name": "Status",
        "func": "msg.payload = (msg.delay/60000) + \"Mins\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "e7c7e2aa.37a72",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 120,
        "wires": [
            [
                "a11a91da.5ad24"
            ],
            [
                "56f4f77c.b52a78"
            ]
        ]
    },
    {
        "id": "56f4f77c.b52a78",
        "type": "link out",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "d40dbe57.f0a9c"
        ],
        "x": 495,
        "y": 120,
        "wires": []
    },
    {
        "id": "d40dbe57.f0a9c",
        "type": "link in",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "56f4f77c.b52a78"
        ],
        "x": 1455,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "12e98816.16dea8",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "91a7fb27.153388",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Reset",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "ON",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "93125ad8.268fd8",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "illumenance",
        "property": "illumenance",
        "propertyType": "flow",
        "rules": [
            {
                "t": "lt",
                "v": "illumenance",
                "vt": "env"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 160,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8",
                "12e98816.16dea8"
            ],
            [
                "efc9c5a8.94ff98"
            ]
        ]
    },
    {
        "id": "ab9063bb.93cdb",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "set illumenance",
        "rules": [
            {
                "t": "set",
                "p": "illumenance",
                "pt": "flow",
                "to": "illumenance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 180,
        "wires": [
            [
                "26870d78.89b472"
            ]
        ]
    },
    {
        "id": "e6f595a8.bbe788",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "reset",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 80,
        "wires": [
            [
                "a11a91da.5ad24"
            ]
        ]
    },
    {
        "id": "49d59fdb.c8f13",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "21:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 160,
        "wires": [
            [
                "93125ad8.268fd8"
            ],
            [
                "7619e08.a8fb32",
                "fb3a9993.6269b8"
            ]
        ]
    },
    {
        "id": "7619e08.a8fb32",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "NightTime",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "efc9c5a8.94ff98",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "BRIGHT",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TO Bright",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1580,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a85cb1de.b2ab",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "998943e2.e0d0f"
            ]
        ]
    },
    {
        "id": "50aa8aad.14fbf4",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 240,
        "wires": [
            [
                "998943e2.e0d0f",
                "4e96a6d5.febc48"
            ]
        ]
    },
    {
        "id": "4e96a6d5.febc48",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "1320f8a5.4784c7",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "status",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 280,
        "wires": [
            [
                "b2a9199c.b4fc38",
                "938ec30b.4297f"
            ],
            [
                "b2a9199c.b4fc38",
                "938ec30b.4297f"
            ]
        ]
    },
    {
        "id": "3db5fa316d693b26",
        "type": "function",
        "z": "beb2c07c77748830",
        "name": "Connected",
        "func": "\n  \n  \n  \n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: env.get(\"text\"),\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "2543e4c5.28612c",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "b7abb1c033a236e9",
        "type": "trigger",
        "z": "c15399232bac2ca3",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "15",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 140,
        "wires": [
            [
                "2543e4c5.28612c",
                "853ea5b8d8ea2b6f"
            ]
        ]
    },
    {
        "id": "8d2467ba32ba6f8d",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 80,
        "wires": [
            [
                "adc5b3cc5fb3acb9"
            ],
            [
                "5c138fa713ff7c90",
                "25b0ce2a287f7a88"
            ]
        ]
    },
    {
        "id": "5e0d8112.7e4fc",
        "type": "traffic",
        "z": "c15399232bac2ca3",
        "name": "btn_block",
        "property_allow": "payload",
        "filter_allow": "go",
        "ignore_case_allow": true,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "8d2467ba32ba6f8d"
            ]
        ]
    },
    {
        "id": "94fa43d7a18c8a2a",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "5c138fa713ff7c90",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state OFF Countdown",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF Countdown",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d672dd5902ab9ae0",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "096fc2a5f95b7fe3"
            ],
            [
                "096fc2a5f95b7fe3"
            ]
        ]
    },
    {
        "id": "096fc2a5f95b7fe3",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 140,
        "wires": [
            [
                "b7abb1c033a236e9"
            ]
        ]
    },
    {
        "id": "adc5b3cc5fb3acb9",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "LightTreshold ",
        "property": "LightTreshold",
        "propertyType": "env",
        "rules": [
            {
                "t": "eq",
                "v": "ignore",
                "vt": "str"
            },
            {
                "t": "gte",
                "v": "illum",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 560,
        "y": 80,
        "wires": [
            [
                "4b6cb34a2d363e76",
                "096fc2a5f95b7fe3",
                "94fa43d7a18c8a2a"
            ],
            [
                "94fa43d7a18c8a2a",
                "4b6cb34a2d363e76",
                "096fc2a5f95b7fe3"
            ],
            [
                "b7abb1c033a236e9",
                "29f9c1a39ca382a2"
            ]
        ]
    },
    {
        "id": "29f9c1a39ca382a2",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state Bright",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "To Bright",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 220,
        "wires": [
            [
                "1e32fe94992e22fa"
            ]
        ]
    },
    {
        "id": "853ea5b8d8ea2b6f",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "25b0ce2a287f7a88",
        "type": "function",
        "z": "c15399232bac2ca3",
        "name": "delay",
        "func": "msg.delay = env.get(\"delay\") * 60000\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 180,
        "wires": [
            [
                "b7abb1c033a236e9"
            ]
        ]
    },
    {
        "id": "4b6cb34a2d363e76",
        "type": "delay",
        "z": "c15399232bac2ca3",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 860,
        "y": 80,
        "wires": [
            [
                "2543e4c5.28612c"
            ]
        ]
    },
    {
        "id": "1e32fe94992e22fa",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 180,
        "wires": [
            [
                "2543e4c5.28612c"
            ]
        ]
    },
    {
        "id": "949ef7eeffd33778",
        "type": "delay",
        "z": "deda2575970f5ca9",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 440,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3da24c902e74a5dd",
        "type": "function",
        "z": "deda2575970f5ca9",
        "name": "converter",
        "func": "\n  \n  \n  \n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: msg.text,\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 80,
        "wires": [
            [
                "949ef7eeffd33778"
            ]
        ]
    },
    {
        "id": "9ce931d26a18e856",
        "type": "change",
        "z": "9fbb2608fbbaf87a",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "c33c8265cc4368a5",
        "type": "change",
        "z": "9fbb2608fbbaf87a",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "e3d7434244f5dc5c",
        "type": "switch",
        "z": "9fbb2608fbbaf87a",
        "name": "Is Presence",
        "property": "${presence}",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 180,
        "wires": [
            [
                "9ce931d26a18e856"
            ],
            [
                "c33c8265cc4368a5"
            ]
        ]
    },
    {
        "id": "dd227924.f03a78",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "ALLE",
        "connection": "639afec7.a73a3",
        "x": 750,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "15d28c99.680783",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "GH: Stue: ENG",
        "links": [
            "7db434df.a3db2c",
            "976db23e.1f8ba",
            "a16f5c34.ba508"
        ],
        "x": 175,
        "y": 140,
        "wires": [
            [
                "dd227924.f03a78"
            ]
        ]
    },
    {
        "id": "50a60792.19b3e8",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "d": true,
        "g": "21fab955d3f1b60e",
        "name": "OFFICE",
        "connection": "36091c060c8a72d5",
        "x": 760,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "e1a25373.858cb",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "OFFICE",
        "links": [
            "dc33a268.a0933",
            "b423eb89f2883a20",
            "1a0e8a5610faf0f6",
            "4e6013de2aa5c07f",
            "800fa39afa4a1bde",
            "2e45bd4a7ce7164c",
            "19242790ba73e3ef",
            "1321914e9e67a6f0"
        ],
        "x": 175,
        "y": 320,
        "wires": [
            [
                "4bd1b046091aabaf"
            ]
        ]
    },
    {
        "id": "8a1f0fa2c013ae33",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Stue",
        "connection": "1744610e.18ab3f",
        "x": 770,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "5cfbdbd83670143c",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "GH-STUE-EN",
        "links": [
            "858b8605826bec63",
            "e0f4bc77f36c022a",
            "4cf9b6efdbba67fa"
        ],
        "x": 175,
        "y": 380,
        "wires": [
            [
                "705040e9aa814bf0"
            ]
        ]
    },
    {
        "id": "662ff2faf119d193",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "ALL GH",
        "links": [
            "a84ac6f3a352ff80",
            "f803dc8c9371fd5f",
            "9c907e1d118e1133"
        ],
        "x": 175,
        "y": 200,
        "wires": [
            [
                "0474769cb5224aaa"
            ]
        ]
    },
    {
        "id": "d3abaa0d9a3b75d3",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "ENTRY",
        "connection": "862863a9.265f3",
        "x": 760,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "278706f49dd302bf",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Entry",
        "links": [
            "357cd3912cb4b9bf"
        ],
        "x": 175,
        "y": 260,
        "wires": [
            [
                "e0341eb15cd222dc"
            ]
        ]
    },
    {
        "id": "7a81f7e1.38f6f8",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Kjeller",
        "connection": "4dd42f71.91823",
        "x": 770,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "0474769cb5224aaa",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 200,
        "wires": [
            [
                "dd227924.f03a78"
            ]
        ]
    },
    {
        "id": "e0341eb15cd222dc",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 260,
        "wires": [
            [
                "d3abaa0d9a3b75d3"
            ]
        ]
    },
    {
        "id": "4bd1b046091aabaf",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 320,
        "wires": [
            [
                "50a60792.19b3e8"
            ]
        ]
    },
    {
        "id": "705040e9aa814bf0",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 380,
        "wires": [
            [
                "8a1f0fa2c013ae33"
            ]
        ]
    },
    {
        "id": "a0b5830a5e5ee232",
        "type": "subflow:deda2575970f5ca9",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "Convert Text to GoogleFormat",
        "x": 450,
        "y": 440,
        "wires": [
            [
                "7a81f7e1.38f6f8"
            ]
        ]
    },
    {
        "id": "2018f76d019e4576",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "21fab955d3f1b60e",
        "name": "GH-Kjeller-EN",
        "links": [],
        "x": 175,
        "y": 440,
        "wires": [
            [
                "a0b5830a5e5ee232"
            ]
        ]
    },
    {
        "id": "caf6dfc4d944251a",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "",
        "info": "# Node-RED Flow Description\n\nThis document provides a textual representation of a Node-RED flow for converting text to Google Format and sending it to various Google Home devices using the Castv2 protocol.\n\n## Flow Overview\n\nThe Node-RED flow consists of multiple components, including subflows, functions, and Castv2 sender nodes. The primary purpose of this flow is to convert text into a format suitable for Google Home devices and then send it to specific devices.\n\n### Subflow: Convert Text to GoogleFormat\n\nThis subflow converts text into a format compatible with Google Home devices. It takes an input message containing text and transforms it into a message with the required format. The resulting message includes information such as the application, type, text content, speed, language, and metadata.\n\n### Main Flow\n\nThe main flow involves several Castv2 sender nodes connected to different Google Home devices. Each Castv2 sender node is associated with a specific Google Home device and is responsible for sending the formatted text to that device.\n\n## Flow Diagram\n\nThe following sequence diagram illustrates the flow of messages in this Node-RED flow:\n\n```mermaid\nsequenceDiagram\n    participant User\n    participant ConvertText\n    participant GoogleHomeDevice\n\n    User->>ConvertText: Input Text Message\n    ConvertText->>ConvertText: Convert Text to GoogleFormat\n    ConvertText-->>GoogleHomeDevice: Send Formatted Message",
        "x": 550,
        "y": 780,
        "wires": []
    },
    {
        "id": "6e1a0143.f51f8",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee",
            "df8e9adb3c8eb378"
        ],
        "x": 1185,
        "y": 1160,
        "wires": []
    },
    {
        "id": "dcf434ce.e89888",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "Movement Hall",
        "links": [
            "328ec247.9e5eee"
        ],
        "x": 935,
        "y": 640,
        "wires": [
            [
                "f539323231f77776",
                "b05e450967f5da8d"
            ]
        ]
    },
    {
        "id": "f66e7e24.aca9d",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "Movement Nede",
        "links": [
            "dc179d3a7d67d467",
            "dc7a9dbe.e7065"
        ],
        "x": 285,
        "y": 1040,
        "wires": [
            [
                "6fb6663e779c4bed"
            ]
        ]
    },
    {
        "id": "99ed1ce4.90a0c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "Set Upstairs lights ",
        "links": [
            "39e053b3d2fb7ed8"
        ],
        "x": 295,
        "y": 340,
        "wires": [
            [
                "9253d22c.17587"
            ]
        ]
    },
    {
        "id": "c825f67d.b5dba8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "set-downstaris lights",
        "links": [
            "9a820556.4df458"
        ],
        "x": 295,
        "y": 380,
        "wires": [
            [
                "76c860b3.3a25c"
            ]
        ]
    },
    {
        "id": "7c9078bb.3bd958",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Basemet Reset",
        "links": [
            "7a4a01ee.c97e",
            "53b58e5523c9ded6"
        ],
        "x": 1605,
        "y": 420,
        "wires": []
    },
    {
        "id": "fabdb6a9.b22598",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "btn_upstairs",
        "links": [
            "6987ca2e.892e94",
            "e006dbe1d20f09b1"
        ],
        "x": 805,
        "y": 380,
        "wires": [
            [
                "952977f1.2f4798"
            ]
        ]
    },
    {
        "id": "429f76d8.f44498",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Command",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 420,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "99bb192c.9613d8"
            ]
        ]
    },
    {
        "id": "56d97603.6cdfe8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "btn_downstairs",
        "links": [
            "ff979eb7.893f3",
            "f3d2f0e8d93cd932",
            "918c945a6df6d903"
        ],
        "x": 805,
        "y": 420,
        "wires": [
            [
                "ff0e4529.8db608"
            ]
        ]
    },
    {
        "id": "76c860b3.3a25c",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "B_illumenance",
                "pt": "flow",
                "to": "payload.illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "952977f1.2f4798",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "upstairs",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "KJØKKEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 380,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "ff0e4529.8db608",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "K-LYS",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 420,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "f2786c6b.d98eb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "GO",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 380,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "ef6b84bd.139bb8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 460,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "50b0d259.df502c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Movement Soverom",
        "links": [
            "9ace10c4.4ce8f"
        ],
        "x": 265,
        "y": 1160,
        "wires": [
            [
                "551be057.65bed"
            ]
        ]
    },
    {
        "id": "f7029354.44404",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Bedroom Reset",
        "links": [
            "27734f04.1bd46",
            "939d1d44.2632e",
            "7c6e26c.c6758d8",
            "19489cd49c8e05e3"
        ],
        "x": 1605,
        "y": 460,
        "wires": []
    },
    {
        "id": "e54806fb.80a248",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "S-LYS",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 460,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "1aceef23.4fc291",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "btn_Bedroom",
        "links": [
            "fb14610a.ba0cf"
        ],
        "x": 805,
        "y": 460,
        "wires": [
            [
                "e54806fb.80a248"
            ]
        ]
    },
    {
        "id": "641555a3.3a90ec",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Upstairs block",
        "links": [
            "2cc83436.3fa25c"
        ],
        "x": 1605,
        "y": 380,
        "wires": []
    },
    {
        "id": "3ceb6365.4b21bc",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "KJØKKEN",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "K-LYS",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "S-LYS",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 3,
        "x": 1430,
        "y": 420,
        "wires": [
            [
                "641555a3.3a90ec"
            ],
            [
                "7c9078bb.3bd958"
            ],
            [
                "f7029354.44404"
            ]
        ]
    },
    {
        "id": "e17d0a43.b0e048",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "RESET lights",
        "links": [
            "247260f.c82dca",
            "fc4fe81e.444628",
            "a0e66a252b3dae2e"
        ],
        "x": 805,
        "y": 140,
        "wires": [
            [
                "7284606e.34aff"
            ]
        ]
    },
    {
        "id": "551be057.65bed",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 1160,
        "wires": [
            [
                "876c799e.859a08"
            ]
        ]
    },
    {
        "id": "9253d22c.17587",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "U_illumenance",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "18b93929.bea567",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 1240,
        "wires": [
            [
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "876c799e.859a08",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "20:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 520,
        "y": 1160,
        "wires": [
            [
                "a4afb1bbd79c5da6",
                "c0a924816dea4ee8"
            ],
            [
                "4b0510cde2a3bfff"
            ]
        ]
    },
    {
        "id": "7284606e.34aff",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 140,
        "wires": [
            [
                "ac728ff70c911726"
            ]
        ]
    },
    {
        "id": "21c80566.d9201a",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee",
            "df8e9adb3c8eb378",
            "09acdfabbb87d227"
        ],
        "x": 1025,
        "y": 1040,
        "wires": []
    },
    {
        "id": "7a4a01ee.c97e",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "btn:block D",
        "links": [
            "7c9078bb.3bd958"
        ],
        "x": 795,
        "y": 980,
        "wires": [
            [
                "183c95c7745f2ea4"
            ]
        ]
    },
    {
        "id": "99bb192c.9613d8",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee"
        ],
        "x": 1245,
        "y": 420,
        "wires": []
    },
    {
        "id": "b05e450967f5da8d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "HA-Presence",
        "rules": [
            {
                "t": "set",
                "p": "HA-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 640,
        "wires": [
            [
                "a04e6739528f2eab"
            ]
        ]
    },
    {
        "id": "4d0ae664b9906d7d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3090,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "87d1ce3c19202d34",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee",
            "df8e9adb3c8eb378"
        ],
        "x": 1535,
        "y": 640,
        "wires": []
    },
    {
        "id": "2cc83436.3fa25c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "links": [
            "641555a3.3a90ec"
        ],
        "x": 635,
        "y": 820,
        "wires": [
            [
                "d17d889454f3d3a1"
            ]
        ]
    },
    {
        "id": "e2d7c57f5c31b977",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee",
            "5fc2b4ddf5b94b9e",
            "c5997d499b14048a"
        ],
        "x": 1025,
        "y": 880,
        "wires": []
    },
    {
        "id": "be2ad471.d9c448",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Movement oppe",
        "links": [
            "328ec247.9e5eee",
            "63e9f9b.1d13608",
            "b9eed7dde8000c3e",
            "e92f253c.11b9b8",
            "bc76c6da083bdd3b"
        ],
        "x": 265,
        "y": 880,
        "wires": [
            [
                "ed863371775575ab"
            ]
        ]
    },
    {
        "id": "d17d889454f3d3a1",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "KJØKKEN",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "100",
                "type": "num"
            },
            {
                "name": "delay",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 890,
        "y": 880,
        "wires": [
            [
                "e2d7c57f5c31b977"
            ]
        ]
    },
    {
        "id": "ca9cda18826d54da",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "illum",
                "pt": "msg",
                "to": "U_illumenance",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 880,
        "wires": [
            [
                "99fed52c6143c053"
            ]
        ]
    },
    {
        "id": "ed863371775575ab",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "ST-presence",
        "rules": [
            {
                "t": "set",
                "p": "ST-presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 880,
        "wires": [
            [
                "ca9cda18826d54da"
            ]
        ]
    },
    {
        "id": "183c95c7745f2ea4",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "K-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 920,
        "y": 1040,
        "wires": [
            [
                "21c80566.d9201a"
            ]
        ]
    },
    {
        "id": "4ce3539c5f7a0ca7",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "G-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "6",
                "type": "num"
            }
        ],
        "x": 1410,
        "y": 640,
        "wires": [
            [
                "87d1ce3c19202d34"
            ]
        ]
    },
    {
        "id": "a4afb1bbd79c5da6",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "S-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "30",
                "type": "num"
            }
        ],
        "x": 1040,
        "y": 1160,
        "wires": [
            [
                "6e1a0143.f51f8"
            ]
        ]
    },
    {
        "id": "d3daac16ab6cdf92",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "ONCE",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 840,
        "y": 1240,
        "wires": [
            [
                "18b93929.bea567",
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "c0a924816dea4ee8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "START",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1220,
        "wires": [
            [
                "d3daac16ab6cdf92",
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "f9450bda48f83deb",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "is away",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1200,
        "y": 700,
        "wires": [
            [
                "b9eed7dde8000c3e"
            ]
        ]
    },
    {
        "id": "f539323231f77776",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "Movement",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1050,
        "y": 700,
        "wires": [
            [
                "f9450bda48f83deb"
            ]
        ]
    },
    {
        "id": "b9eed7dde8000c3e",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "mode": "link",
        "links": [
            "be2ad471.d9c448"
        ],
        "x": 1305,
        "y": 700,
        "wires": []
    },
    {
        "id": "7c376eb857a4e46f",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "BasementBlock",
        "links": [
            "8a0ab10e55653060",
            "ac728ff70c911726"
        ],
        "x": 1455,
        "y": 380,
        "wires": [
            [
                "7c9078bb.3bd958"
            ]
        ]
    },
    {
        "id": "28f356670a5a6dc9",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "O-LYS",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "movement",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "change",
                "p": "movement",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "on",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "movement",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 600,
        "wires": [
            [
                "d3afa1ea39895105"
            ]
        ]
    },
    {
        "id": "f2e0ac31e202a4e3",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-LYS",
        "env": [
            {
                "name": "room",
                "value": "O-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "20",
                "type": "num"
            }
        ],
        "x": 410,
        "y": 600,
        "wires": [
            [
                "28f356670a5a6dc9"
            ]
        ]
    },
    {
        "id": "ca59d875951bc88c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-LYS",
        "links": [
            "b526ea173bec8f67"
        ],
        "x": 265,
        "y": 600,
        "wires": [
            [
                "f2e0ac31e202a4e3",
                "d4e988839861fdd7"
            ]
        ]
    },
    {
        "id": "d3afa1ea39895105",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-LYS",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee"
        ],
        "x": 805,
        "y": 600,
        "wires": []
    },
    {
        "id": "d4e988839861fdd7",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 680,
        "wires": [
            [
                "8360c95b413918e1"
            ],
            [
                "1b1b701f2f4d7455"
            ]
        ]
    },
    {
        "id": "8360c95b413918e1",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-presence:T",
        "rules": [
            {
                "t": "set",
                "p": "O-presence",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "1b1b701f2f4d7455",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "e91b0b088ffed19b",
        "name": "O-presence:F",
        "rules": [
            {
                "t": "set",
                "p": "O-presence",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "4b0510cde2a3bfff",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "20:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 680,
        "y": 1180,
        "wires": [
            [
                "d3daac16ab6cdf92"
            ],
            []
        ]
    },
    {
        "id": "6fb6663e779c4bed",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "is basement",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "m_basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "m_basement_stairs",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Bathroom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 400,
        "y": 1040,
        "wires": [
            [
                "7f4dd2f1e5bb0824"
            ],
            [
                "7f4dd2f1e5bb0824"
            ],
            [
                "7f4dd2f1e5bb0824"
            ]
        ]
    },
    {
        "id": "0a13e388cbc5a023",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "btn:block D",
        "links": [],
        "x": 1245,
        "y": 600,
        "wires": [
            [
                "4ce3539c5f7a0ca7"
            ]
        ]
    },
    {
        "id": "a04e6739528f2eab",
        "type": "rbe",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 1210,
        "y": 640,
        "wires": [
            [
                "4ce3539c5f7a0ca7"
            ]
        ]
    },
    {
        "id": "7f4dd2f1e5bb0824",
        "type": "rbe",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 580,
        "y": 1040,
        "wires": [
            [
                "bc57e78aaf68965d",
                "0e2324ffdb10fe80"
            ]
        ]
    },
    {
        "id": "0ab1d40d25d12428",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 180,
        "wires": [
            [
                "ac728ff70c911726"
            ]
        ]
    },
    {
        "id": "56a9a0de058b39ee",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "d": true,
        "g": "750228718f0f7746",
        "name": "Block LIght",
        "links": [
            "c9b7d9c6.2c46e8"
        ],
        "x": 805,
        "y": 180,
        "wires": [
            [
                "0ab1d40d25d12428"
            ]
        ]
    },
    {
        "id": "bc75f603ad1027db",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "True",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 100,
        "wires": [
            [
                "5f73d02a6b8a85e6"
            ]
        ]
    },
    {
        "id": "d37dfc8b7c95236c",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 60,
        "wires": [
            [
                "17c5a7b3f229590b"
            ]
        ]
    },
    {
        "id": "b6d05acd6b922f83",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "8da8f3a9a56fc7ee",
        "name": "Upstairs_block:controll",
        "links": [
            "13197968d43b0e56",
            "ac728ff70c911726"
        ],
        "x": 1455,
        "y": 340,
        "wires": [
            [
                "641555a3.3a90ec"
            ]
        ]
    },
    {
        "id": "17c5a7b3f229590b",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 60,
        "wires": [
            [
                "13197968d43b0e56"
            ]
        ]
    },
    {
        "id": "5f73d02a6b8a85e6",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 100,
        "wires": [
            [
                "13197968d43b0e56"
            ]
        ]
    },
    {
        "id": "13197968d43b0e56",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "b6d05acd6b922f83"
        ],
        "x": 1155,
        "y": 80,
        "wires": []
    },
    {
        "id": "df8e9adb3c8eb378",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "d": true,
        "g": "750228718f0f7746",
        "name": "Release_Usptairs",
        "links": [
            "0e2324ffdb10fe80",
            "21c80566.d9201a",
            "6e1a0143.f51f8",
            "87d1ce3c19202d34",
            "8bc1a1a00cecc7a6",
            "1deeab2413b7a99b"
        ],
        "x": 805,
        "y": 60,
        "wires": [
            [
                "d37dfc8b7c95236c"
            ]
        ]
    },
    {
        "id": "d7f5cfb64ad22ad0",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "KO-presence:T",
        "rules": [
            {
                "t": "set",
                "p": "KO-presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "885fc820467d8739",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "dabbbe0f6cfeecac",
        "name": "Karina OF HUE",
        "links": [
            "2998be5081486cc3"
        ],
        "x": 295,
        "y": 420,
        "wires": [
            [
                "d7f5cfb64ad22ad0"
            ]
        ]
    },
    {
        "id": "ed122137.eed21",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "MORNING",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "60",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 370,
        "y": 60,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "bd26ed9a.5daa7",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "NIGHT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "35",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 20 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "300000",
        "payloadType": "num",
        "x": 360,
        "y": 140,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "69f4a103.cfabb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "Set offdelay",
        "rules": [
            {
                "t": "set",
                "p": "offdelay",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "ondimm",
                "pt": "flow",
                "to": "ondimm",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 120,
        "wires": [
            [
                "a0e66a252b3dae2e"
            ]
        ]
    },
    {
        "id": "8d389ebc.22cbb",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "NOON",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 360,
        "y": 100,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "e578725c1a2aec32",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "STARTUP",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "20",
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "bc57e78aaf68965d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "B-Presence",
        "rules": [
            {
                "t": "set",
                "p": "B-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 1040,
        "wires": [
            [
                "183c95c7745f2ea4"
            ]
        ]
    },
    {
        "id": "5fc2b4ddf5b94b9e",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "d": true,
        "g": "750228718f0f7746",
        "name": "link in 2",
        "links": [
            "e2d7c57f5c31b977"
        ],
        "x": 805,
        "y": 100,
        "wires": [
            [
                "bc75f603ad1027db"
            ]
        ]
    },
    {
        "id": "a0e66a252b3dae2e",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "5e9ef91ad1457c49",
        "name": "link out 7",
        "mode": "link",
        "links": [
            "e17d0a43.b0e048"
        ],
        "x": 685,
        "y": 120,
        "wires": []
    },
    {
        "id": "ac728ff70c911726",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "750228718f0f7746",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "b6d05acd6b922f83",
            "7c376eb857a4e46f"
        ],
        "x": 1155,
        "y": 160,
        "wires": []
    },
    {
        "id": "09acdfabbb87d227",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "link in 3",
        "links": [
            "21c80566.d9201a",
            "e4bdaedd613068e7"
        ],
        "x": 1085,
        "y": 920,
        "wires": [
            [
                "705a701972babe5b"
            ]
        ]
    },
    {
        "id": "6ccd3c1606f4db37",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:30",
        "endTime": "06:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1290,
        "y": 920,
        "wires": [
            [
                "7f64c9cae71deb33"
            ],
            []
        ]
    },
    {
        "id": "705a701972babe5b",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1180,
        "y": 920,
        "wires": [
            [
                "6ccd3c1606f4db37"
            ]
        ]
    },
    {
        "id": "7f64c9cae71deb33",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 920,
        "wires": [
            [
                "918c945a6df6d903"
            ]
        ]
    },
    {
        "id": "918c945a6df6d903",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "56d97603.6cdfe8"
        ],
        "x": 1505,
        "y": 820,
        "wires": []
    },
    {
        "id": "0e2324ffdb10fe80",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "mode": "link",
        "links": [
            "df8e9adb3c8eb378"
        ],
        "x": 705,
        "y": 980,
        "wires": []
    },
    {
        "id": "99fed52c6143c053",
        "type": "function",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Correct",
        "func": "let cor = flow.get(\"corrected\") || 0;\nmsg.illum += cor;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 880,
        "wires": [
            [
                "d17d889454f3d3a1"
            ]
        ]
    },
    {
        "id": "c9f6ce06caec36b8",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1370,
        "y": 160,
        "wires": [
            [
                "a8d23d30edc15f76"
            ],
            [
                "b1012bd7f657e0bb"
            ]
        ]
    },
    {
        "id": "a8d23d30edc15f76",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "corrected",
                "pt": "flow",
                "to": "-80",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "b1012bd7f657e0bb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "corrected",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "c5997d499b14048a",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "link in 4",
        "links": [
            "e2d7c57f5c31b977"
        ],
        "x": 1275,
        "y": 160,
        "wires": [
            [
                "c9f6ce06caec36b8"
            ]
        ]
    },
    {
        "id": "a322e5db270d2e0b",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "laundry",
        "links": [
            "5cb449a017a68b38"
        ],
        "x": 235,
        "y": 1340,
        "wires": [
            [
                "8144b7c822b84b76"
            ]
        ]
    },
    {
        "id": "8144b7c822b84b76",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "name": "laundry",
        "env": [
            {
                "name": "room",
                "value": "laundry",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 360,
        "y": 1340,
        "wires": [
            [
                "8bc1a1a00cecc7a6"
            ]
        ]
    },
    {
        "id": "8bc1a1a00cecc7a6",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee",
            "df8e9adb3c8eb378"
        ],
        "x": 525,
        "y": 1340,
        "wires": []
    },
    {
        "id": "8e5562ea8e31b7b3",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "name": "walkingCloset",
        "env": [
            {
                "name": "room",
                "value": "walkingCloset",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 380,
        "y": 1400,
        "wires": [
            [
                "1deeab2413b7a99b"
            ]
        ]
    },
    {
        "id": "89ad14e36c74d6f8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "walkingCloset",
        "links": [
            "5db3412dac700df1"
        ],
        "x": 235,
        "y": 1400,
        "wires": [
            [
                "8e5562ea8e31b7b3"
            ]
        ]
    },
    {
        "id": "1deeab2413b7a99b",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee",
            "df8e9adb3c8eb378"
        ],
        "x": 525,
        "y": 1400,
        "wires": []
    },
    {
        "id": "95811a33.4d7d18",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "KJØKKEN",
        "group": "927bb6cc.493638",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "KJØKKEN",
        "topicType": "str",
        "x": 1790,
        "y": 480,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "ef7a18c8.b37818",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f7a1eb10d62e848e",
        "name": "TV",
        "group": "231b0632.0e84ca",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "fa-television",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 650,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "c6724f39.53f47",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "O-LYS",
        "group": "e25fe03d.94a6a",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "true",
        "payloadType": "bool",
        "topic": "O-LYS",
        "topicType": "str",
        "x": 1770,
        "y": 160,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "a19e493b.49cd68",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "K-LYS",
        "group": "231b0632.0e84ca",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "K-LYS",
        "topicType": "str",
        "x": 1770,
        "y": 320,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "3e444ebc.b3a102",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "S-LYS",
        "group": "a8deaee7.c8dff",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "S-LYS",
        "topicType": "str",
        "x": 1770,
        "y": 280,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "54c12383.3b8e7c",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "g": "f7a1eb10d62e848e",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 440,
        "wires": [
            [
                "9fcc84da.3f61b8"
            ],
            [
                "4bc4e08c.7d0a9"
            ]
        ]
    },
    {
        "id": "4bc4e08c.7d0a9",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "f7a1eb10d62e848e",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 460,
        "wires": [
            [
                "ef7a18c8.b37818"
            ]
        ]
    },
    {
        "id": "9fcc84da.3f61b8",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "f7a1eb10d62e848e",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "black",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 420,
        "wires": [
            [
                "ef7a18c8.b37818"
            ]
        ]
    },
    {
        "id": "92091a2e.df6988",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "G-LYS",
        "group": "70ca41b6.c8208",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "G-LYS",
        "topicType": "str",
        "x": 1770,
        "y": 200,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "a88b9898.287c38",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "K-O-LYS",
        "group": "3be8a4e3.dba93c",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "K-O-LYS",
        "topicType": "str",
        "x": 1780,
        "y": 400,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "6075171d.f0db08",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f7a1eb10d62e848e",
        "name": "SHIELD",
        "links": [
            "5e8d3398.55375c"
        ],
        "x": 255,
        "y": 440,
        "wires": [
            [
                "54c12383.3b8e7c"
            ]
        ]
    },
    {
        "id": "567755e9f6d5914d",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "B-PRES",
        "group": "231b0632.0e84ca",
        "order": 3,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "basement",
        "topicType": "str",
        "x": 740,
        "y": 580,
        "wires": [
            [
                "a91cc6b6d632c60e"
            ]
        ]
    },
    {
        "id": "d1dd0b4c718650f7",
        "type": "ui_template",
        "z": "34fc4e1d.243ef2",
        "group": "",
        "name": "icon style",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .bigIcon{\n        font-size:2em;\n        transition: 1s;\n    }\n    .bigIcon.red{\n        color:red;\n    }\n    \n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "global",
        "className": "",
        "x": 280,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "d58c58151e606c9c",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "KJ-PRES",
        "group": "927bb6cc.493638",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "kitchn",
        "topicType": "str",
        "x": 740,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "462b0ce386932b99",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "O-PRESS",
        "group": "e25fe03d.94a6a",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "Office",
        "topicType": "str",
        "x": 740,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "d7fd489965c175ac",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "K-O-PRESS",
        "group": "3be8a4e3.dba93c",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "Karina_OFFICE",
        "topicType": "str",
        "x": 750,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "9ac436922540aab1",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "G-PRESS",
        "group": "70ca41b6.c8208",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "hall",
        "topicType": "str",
        "x": 740,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "73d5a60daa5ab7b8",
        "type": "inject",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 720,
        "wires": [
            [
                "ea8cc87cb1b47544",
                "01a23ab5c396b9f9",
                "82d9de3a908e24ad",
                "6bf56bf7e4ed9699",
                "7053a795c90d0dea",
                "7cc0bf4f935ca8d2",
                "c6762d2dd6c6a5c4",
                "10c0dda10a619e6f"
            ]
        ]
    },
    {
        "id": "0065961ffb430f90",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "BA-PRES",
        "group": "9f7c23e0bf86f5c3",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "bathroom",
        "topicType": "str",
        "x": 740,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "539565975c8a6a54",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "BA-LYS",
        "group": "9f7c23e0bf86f5c3",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "BA-LYS",
        "topicType": "str",
        "x": 1780,
        "y": 360,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "c2a6540cf2006146",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "O-Light",
        "mode": "link",
        "links": [
            "0342c455be2f1e29"
        ],
        "x": 2045,
        "y": 300,
        "wires": []
    },
    {
        "id": "3e07a9b8db351d48",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "Closet",
        "group": "5fbbc12a986329c4",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "Closet",
        "topicType": "str",
        "x": 1770,
        "y": 240,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "b5b4e683f02ca9f3",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "vaskerom",
        "group": "71d3b8ea0b115e6e",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "vaskerom",
        "topicType": "str",
        "x": 1780,
        "y": 440,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "ee3e825fcad82993",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "",
        "links": [
            "80e36239586e7edc",
            "39e1e44e6fdf312b"
        ],
        "x": 1175,
        "y": 280,
        "wires": [
            [
                "cc174d77b5907f86"
            ]
        ]
    },
    {
        "id": "cc174d77b5907f86",
        "type": "function",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "Btn_LIghts",
        "func": "msg.background = \"grey\";\nif (msg.payload.power == \"on\"){\n    msg.background = \"yellow\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 280,
        "wires": [
            [
                "c8d35c2375c9aeee"
            ]
        ]
    },
    {
        "id": "c8d35c2375c9aeee",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "g": "cb50c720a3cedf84",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Office_Light",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Hallway",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bedroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bathroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "karinaoffice",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "laundry",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kjøkken",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 9,
        "x": 1510,
        "y": 280,
        "wires": [
            [
                "c6724f39.53f47"
            ],
            [
                "92091a2e.df6988"
            ],
            [
                "3e07a9b8db351d48"
            ],
            [
                "3e444ebc.b3a102"
            ],
            [
                "a19e493b.49cd68"
            ],
            [
                "539565975c8a6a54"
            ],
            [
                "a88b9898.287c38"
            ],
            [
                "b5b4e683f02ca9f3"
            ],
            [
                "95811a33.4d7d18"
            ]
        ]
    },
    {
        "id": "144253238ba7a897",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "V-PRESS",
        "group": "71d3b8ea0b115e6e",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 740,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "6369e9bb58069b62",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "C-PRESS",
        "group": "5fbbc12a986329c4",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 740,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "8c8af9368e8f41fc",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "d": true,
        "g": "1f543c3859db0ffb",
        "name": "Upstairs",
        "group": "69a63d21.a935c4",
        "order": 9,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "{{people}}  Upstairs",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 540,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "74c6f834be0eaf96",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "d": true,
        "g": "1f543c3859db0ffb",
        "name": "Downstairs",
        "group": "69a63d21.a935c4",
        "order": 8,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "{{people}}  Downstairs",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 550,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "fb53dc37e43697dd",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "Get peopleDownstairs",
        "rules": [
            {
                "t": "set",
                "p": "people",
                "pt": "msg",
                "to": "peopleDownstairs",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 320,
        "wires": [
            [
                "74c6f834be0eaf96"
            ]
        ]
    },
    {
        "id": "e7dd079f8ffb9ceb",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "Get peopleUpstairs",
        "rules": [
            {
                "t": "set",
                "p": "people",
                "pt": "msg",
                "to": "peopleUpstairs",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 280,
        "wires": [
            [
                "8c8af9368e8f41fc"
            ]
        ]
    },
    {
        "id": "8456ad2c.7b492",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "",
        "links": [
            "1e397062fcfbb0e9"
        ],
        "x": 745,
        "y": 280,
        "wires": [
            [
                "2b18f71498965dd7"
            ]
        ]
    },
    {
        "id": "d871d736.d19838",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "",
        "links": [
            "772b0560.6b8bcc"
        ],
        "x": 255,
        "y": 180,
        "wires": [
            [
                "fe7d3938.a5fd88"
            ]
        ]
    },
    {
        "id": "84abded8.462ac",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "",
        "links": [
            "47763aff.5ff334"
        ],
        "x": 255,
        "y": 220,
        "wires": [
            [
                "f4cc46fb.79d698"
            ]
        ]
    },
    {
        "id": "f4cc46fb.79d698",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "Karina",
        "rules": [
            {
                "t": "set",
                "p": "Karina",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 220,
        "wires": [
            [
                "5f74b04523ff3784"
            ]
        ]
    },
    {
        "id": "fe7d3938.a5fd88",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "Øivind",
        "rules": [
            {
                "t": "set",
                "p": "oivheg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 180,
        "wires": [
            [
                "d80abf17ba04b0a2"
            ]
        ]
    },
    {
        "id": "57ba7f31.9cd56",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Off",
        "group": "927bb6cc.493638",
        "order": 6,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "x": 1510,
        "y": 700,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "ed7a3ab.c4f31c8",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "On",
        "group": "927bb6cc.493638",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "x": 1510,
        "y": 660,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "d2142d17.21a64",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Auto",
        "group": "927bb6cc.493638",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 1510,
        "y": 740,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "7f7ea747.fb10a8",
        "type": "inject",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": "2",
        "topic": "Auto",
        "x": 1230,
        "y": 580,
        "wires": [
            [
                "6cb2cc4ff6ec201b"
            ]
        ]
    },
    {
        "id": "71871582.621a2c",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Off",
        "group": "231b0632.0e84ca",
        "order": 7,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "x": 1510,
        "y": 860,
        "wires": [
            [
                "bb0314f944be1623"
            ]
        ]
    },
    {
        "id": "8cc2264a.376548",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "On",
        "group": "231b0632.0e84ca",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "x": 1510,
        "y": 820,
        "wires": [
            [
                "bb0314f944be1623"
            ]
        ]
    },
    {
        "id": "80ef18fb.d3bc48",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Auto",
        "group": "231b0632.0e84ca",
        "order": 6,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 1510,
        "y": 900,
        "wires": [
            [
                "bb0314f944be1623"
            ]
        ]
    },
    {
        "id": "6987ca2e.892e94",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "btn_upstairs",
        "links": [
            "6e6f2eda.8a5af",
            "fabdb6a9.b22598"
        ],
        "x": 1755,
        "y": 680,
        "wires": []
    },
    {
        "id": "ff979eb7.893f3",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "btn_downstairs",
        "links": [
            "34407a70.7715c6",
            "56d97603.6cdfe8"
        ],
        "x": 2005,
        "y": 880,
        "wires": []
    },
    {
        "id": "2899fe6e.4401a2",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "d": true,
        "g": "f51f78b911174f21",
        "name": "FILM",
        "group": "231b0632.0e84ca",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "{{payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "block",
        "topicType": "str",
        "x": 1510,
        "y": 940,
        "wires": [
            [
                "bb0314f944be1623"
            ]
        ]
    },
    {
        "id": "65f5a4f8.7de8fc",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "S-Off",
        "group": "a8deaee7.c8dff",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "x": 1510,
        "y": 1040,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "d2e37f4b.df0e9",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "S-On",
        "group": "a8deaee7.c8dff",
        "order": 3,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "x": 1510,
        "y": 1000,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "fb14610a.ba0cf",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "btn_Bedroom",
        "links": [
            "1aceef23.4fc291",
            "d9e85afd.05fb38"
        ],
        "x": 2005,
        "y": 1060,
        "wires": []
    },
    {
        "id": "216a5566.53b0aa",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "S-Auto",
        "group": "a8deaee7.c8dff",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 1510,
        "y": 1080,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "d9e85afd.05fb38",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "btn_Color",
        "links": [
            "fb14610a.ba0cf"
        ],
        "x": 1175,
        "y": 1040,
        "wires": [
            [
                "1d4bef5d.bd33a1"
            ]
        ]
    },
    {
        "id": "1d4bef5d.bd33a1",
        "type": "subflow:c8930ccb.6e912",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Bedroom",
        "env": [],
        "x": 1320,
        "y": 1040,
        "wires": [
            [
                "d2e37f4b.df0e9"
            ],
            [
                "65f5a4f8.7de8fc"
            ],
            [
                "216a5566.53b0aa"
            ]
        ]
    },
    {
        "id": "790d26f6.d423a8",
        "type": "subflow:c8930ccb.6e912",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Basement",
        "env": [],
        "x": 1320,
        "y": 860,
        "wires": [
            [
                "8cc2264a.376548"
            ],
            [
                "71871582.621a2c"
            ],
            [
                "80ef18fb.d3bc48"
            ]
        ]
    },
    {
        "id": "2b70efb5.d5416",
        "type": "subflow:c8930ccb.6e912",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Upstairs",
        "env": [],
        "x": 1320,
        "y": 700,
        "wires": [
            [
                "ed7a3ab.c4f31c8"
            ],
            [
                "57ba7f31.9cd56"
            ],
            [
                "d2142d17.21a64"
            ]
        ]
    },
    {
        "id": "34407a70.7715c6",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "btn_B-Color",
        "links": [
            "ff979eb7.893f3"
        ],
        "x": 1175,
        "y": 860,
        "wires": [
            [
                "790d26f6.d423a8"
            ]
        ]
    },
    {
        "id": "6e6f2eda.8a5af",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "btn_U-Color",
        "links": [
            "6987ca2e.892e94"
        ],
        "x": 1175,
        "y": 700,
        "wires": [
            [
                "2b70efb5.d5416"
            ]
        ]
    },
    {
        "id": "32131fe0.68d4c",
        "type": "time-range-switch",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1890,
        "y": 620,
        "wires": [
            [
                "ff979eb7.893f3",
                "0f1b2af7a06e3505"
            ],
            []
        ]
    },
    {
        "id": "c71338d4.ce73c8",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "SHIELD STATUS",
        "links": [
            "5e8d3398.55375c"
        ],
        "x": 1285,
        "y": 940,
        "wires": [
            [
                "2899fe6e.4401a2"
            ]
        ]
    },
    {
        "id": "87af81c4.c910b",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Decons_Upstairs",
        "links": [
            "fbd30b58.0dc988"
        ],
        "x": 1535,
        "y": 620,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "c720f0cc.65429",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "DEcons_Downstairs",
        "links": [
            "63220a70.24ebb4"
        ],
        "x": 1545,
        "y": 780,
        "wires": [
            [
                "bb0314f944be1623"
            ]
        ]
    },
    {
        "id": "f8670f96ca7cf391",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "set Auto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 580,
        "wires": [
            [
                "6987ca2e.892e94",
                "ff979eb7.893f3",
                "32131fe0.68d4c",
                "0f1b2af7a06e3505"
            ]
        ]
    },
    {
        "id": "6cb2cc4ff6ec201b",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "Nightmode OFF",
        "rules": [
            {
                "t": "set",
                "p": "Nightmode",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 580,
        "wires": [
            [
                "f8670f96ca7cf391"
            ]
        ]
    },
    {
        "id": "0259d792f5b75f52",
        "type": "inject",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "night",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 21 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "night",
        "payloadType": "str",
        "x": 790,
        "y": 160,
        "wires": [
            [
                "9eea7aeb43d074a3"
            ]
        ]
    },
    {
        "id": "9eea7aeb43d074a3",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "b8d1aea9ca80ad0d",
        "type": "inject",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "day",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "day",
        "payloadType": "str",
        "x": 790,
        "y": 220,
        "wires": [
            [
                "9eea7aeb43d074a3"
            ]
        ]
    },
    {
        "id": "ea8cc87cb1b47544",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "B-Presence",
        "x": 570,
        "y": 580,
        "wires": [
            [
                "567755e9f6d5914d"
            ]
        ]
    },
    {
        "id": "01a23ab5c396b9f9",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "BA-Presence",
        "env": [
            {
                "name": "presence",
                "value": "BA-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 620,
        "wires": [
            [
                "0065961ffb430f90"
            ]
        ]
    },
    {
        "id": "82d9de3a908e24ad",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "ST-presence",
        "env": [
            {
                "name": "presence",
                "value": "ST-presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 660,
        "wires": [
            [
                "d58c58151e606c9c"
            ]
        ]
    },
    {
        "id": "6bf56bf7e4ed9699",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "HA-Presence",
        "env": [
            {
                "name": "presence",
                "value": "HA-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 700,
        "wires": [
            [
                "9ac436922540aab1"
            ]
        ]
    },
    {
        "id": "7053a795c90d0dea",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "KO-presence",
        "env": [
            {
                "name": "presence",
                "value": "KO-presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 740,
        "wires": [
            [
                "d7fd489965c175ac"
            ]
        ]
    },
    {
        "id": "7cc0bf4f935ca8d2",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "O-presence",
        "env": [
            {
                "name": "presence",
                "value": "O-presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 780,
        "wires": [
            [
                "462b0ce386932b99"
            ]
        ]
    },
    {
        "id": "c6762d2dd6c6a5c4",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "C-Presence",
        "env": [
            {
                "name": "presence",
                "value": "C-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 820,
        "wires": [
            [
                "6369e9bb58069b62"
            ]
        ]
    },
    {
        "id": "10c0dda10a619e6f",
        "type": "subflow:9fbb2608fbbaf87a",
        "z": "34fc4e1d.243ef2",
        "g": "56ae36d1f333f9cc",
        "name": "V-Presence",
        "env": [
            {
                "name": "presence",
                "value": "V-Presence",
                "type": "str"
            }
        ],
        "x": 570,
        "y": 860,
        "wires": [
            [
                "144253238ba7a897"
            ]
        ]
    },
    {
        "id": "0f1b2af7a06e3505",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "c54c5e1a8630175a"
        ],
        "x": 1995,
        "y": 580,
        "wires": []
    },
    {
        "id": "c54c5e1a8630175a",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "g": "f51f78b911174f21",
        "name": "link in 1",
        "links": [
            "0f1b2af7a06e3505"
        ],
        "x": 1765,
        "y": 980,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "2b18f71498965dd7",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "Set Values",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "{\"topic\":\"ui-property:<property>\",\"payload\":\"value\"}",
                "tot": "json",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Mode",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 280,
        "wires": [
            [
                "631efbfdf57fe8fc"
            ]
        ]
    },
    {
        "id": "42dcb01a8a2dd3b0",
        "type": "inject",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 780,
        "y": 320,
        "wires": [
            [
                "2b18f71498965dd7"
            ]
        ]
    },
    {
        "id": "5f74b04523ff3784",
        "type": "ui-switch",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "Karina",
        "label": "Karina",
        "group": "3f286b473c9966df",
        "order": 0,
        "width": "1",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "account",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "account",
        "offcolor": "orange",
        "x": 530,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "d80abf17ba04b0a2",
        "type": "ui-switch",
        "z": "34fc4e1d.243ef2",
        "g": "1f543c3859db0ffb",
        "name": "Øivind",
        "label": "Øivind",
        "group": "3f286b473c9966df",
        "order": 0,
        "width": "1",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "account",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "account",
        "offcolor": "orange",
        "x": 530,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "631efbfdf57fe8fc",
        "type": "ui-switch",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "Home Status",
        "label": "Home Status",
        "group": "3f286b473c9966df",
        "order": 0,
        "width": "1",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "home",
        "onvalueType": "str",
        "onicon": "home",
        "oncolor": "green",
        "offvalue": "away",
        "offvalueType": "str",
        "officon": "home-off",
        "offcolor": "red",
        "x": 1030,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "4f54a064b422c37c",
        "type": "debug",
        "z": "34fc4e1d.243ef2",
        "g": "53115130f657b882",
        "name": "debug 42",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 220,
        "wires": []
    },
    {
        "id": "a91cc6b6d632c60e",
        "type": "ui-button",
        "z": "34fc4e1d.243ef2",
        "group": "3f286b473c9966df",
        "name": "",
        "label": "fa-eye bigIcon",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 960,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "9c18ec5f.f9594",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "INFORM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 140,
        "wires": [
            [
                "6a421ae3.f71ae4",
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "ae47dd19.04f86",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "GO",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "GO",
        "payloadType": "str",
        "x": 230,
        "y": 60,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "38b19a16.a4b306",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "STOP",
        "payloadType": "str",
        "x": 230,
        "y": 100,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "3b05335c.ab790c",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 140,
        "wires": [
            [
                "7db434df.a3db2c"
            ]
        ]
    },
    {
        "id": "9430e52f.746a78",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.topic = \"Remember Garbage\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 100,
        "wires": [
            [
                "c0005e0c.a1014"
            ]
        ]
    },
    {
        "id": "37115d31.12a892",
        "type": "switch",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 180,
        "wires": [
            [
                "584db3f7.80672c"
            ],
            [
                "757cb634.cb61d8"
            ]
        ]
    },
    {
        "id": "584db3f7.80672c",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 160,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "757cb634.cb61d8",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 200,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "28f59771.b88068",
        "type": "ui_button",
        "z": "bc3b2c68.b35f6",
        "name": "Søppel",
        "group": "69a63d21.a935c4",
        "order": 14,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Søppel",
        "tooltip": "Trykk når søppel tatt ut",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "STOP",
        "payloadType": "str",
        "topic": "FALSE",
        "topicType": "str",
        "x": 230,
        "y": 20,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "e24d6f6a.515a6",
        "type": "ui_toast",
        "z": "bc3b2c68.b35f6",
        "position": "top right",
        "displayTime": "10",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "Husk Søppel",
        "name": "Husk Søppel",
        "x": 970,
        "y": 60,
        "wires": []
    },
    {
        "id": "6a421ae3.f71ae4",
        "type": "bigtimer",
        "z": "bc3b2c68.b35f6",
        "outtopic": "",
        "outpayload1": "",
        "outpayload2": "",
        "name": "Big Timer",
        "comment": "",
        "lat": "58.851299",
        "lon": "5.748830",
        "starttime": "1035",
        "endtime": "1320",
        "starttime2": 0,
        "endtime2": 0,
        "startoff": 0,
        "endoff": 0,
        "startoff2": 0,
        "endoff2": 0,
        "offs": 0,
        "outtext1": "GO",
        "outtext2": "STOP",
        "timeout": 1440,
        "sun": false,
        "mon": false,
        "tue": true,
        "wed": false,
        "thu": false,
        "fri": false,
        "sat": false,
        "jan": true,
        "feb": false,
        "mar": false,
        "apr": false,
        "may": true,
        "jun": false,
        "jul": false,
        "aug": false,
        "sep": true,
        "oct": false,
        "nov": false,
        "dec": false,
        "day1": 0,
        "month1": 0,
        "day2": 0,
        "month2": 0,
        "day3": 0,
        "month3": 0,
        "day4": 0,
        "month4": 0,
        "day5": 0,
        "month5": 0,
        "day6": 0,
        "month6": 0,
        "day7": "",
        "month7": "",
        "day8": "",
        "month8": "",
        "day9": "",
        "month9": "",
        "day10": "",
        "month10": "",
        "day11": "",
        "month11": "",
        "day12": "",
        "month12": "",
        "d1": 0,
        "w1": 0,
        "d2": 0,
        "w2": 0,
        "d3": 0,
        "w3": 0,
        "d4": 0,
        "w4": 0,
        "d5": 0,
        "w5": 0,
        "d6": 0,
        "w6": 0,
        "xday1": 0,
        "xmonth1": 0,
        "xday2": 0,
        "xmonth2": 0,
        "xday3": 0,
        "xmonth3": 0,
        "xday4": 0,
        "xmonth4": 0,
        "xday5": 0,
        "xmonth5": 0,
        "xday6": 0,
        "xmonth6": 0,
        "xday7": "",
        "xmonth7": "",
        "xday8": "",
        "xmonth8": "",
        "xday9": "",
        "xmonth9": "",
        "xday10": "",
        "xmonth10": "",
        "xday11": "",
        "xmonth11": "",
        "xday12": "",
        "xmonth12": "",
        "xd1": 0,
        "xw1": 0,
        "xd2": 0,
        "xw2": 0,
        "xd3": 0,
        "xw3": 0,
        "xd4": 0,
        "xw4": 0,
        "xd5": 0,
        "xw5": 0,
        "xd6": 0,
        "xw6": 0,
        "suspend": false,
        "random": false,
        "randon1": false,
        "randoff1": false,
        "randon2": false,
        "randoff2": false,
        "repeat": false,
        "atstart": true,
        "odd": false,
        "even": false,
        "x": 360,
        "y": 180,
        "wires": [
            [
                "47a496d1.bcac18"
            ],
            [
                "47a496d1.bcac18",
                "37115d31.12a892"
            ],
            []
        ]
    },
    {
        "id": "47a496d1.bcac18",
        "type": "traffic",
        "z": "bc3b2c68.b35f6",
        "name": "Traffic sample",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 700,
        "y": 80,
        "wires": [
            [
                "e24d6f6a.515a6",
                "9430e52f.746a78",
                "3b05335c.ab790c",
                "b5be7475.8e3328"
            ]
        ]
    },
    {
        "id": "7db434df.a3db2c",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "links": [
            "15d28c99.680783",
            "fee9f406.ef48d8"
        ],
        "x": 1095,
        "y": 140,
        "wires": []
    },
    {
        "id": "c0005e0c.a1014",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "SÃ¸ppel_Push",
        "links": [],
        "x": 1095,
        "y": 100,
        "wires": []
    },
    {
        "id": "b5be7475.8e3328",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Please Remember to Take out the TRASH\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 180,
        "wires": [
            [
                "a16f5c34.ba508"
            ]
        ]
    },
    {
        "id": "a16f5c34.ba508",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "Garbage out",
        "links": [
            "15d28c99.680783"
        ],
        "x": 1095,
        "y": 180,
        "wires": []
    },
    {
        "id": "10016b07.ab9885",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Presence",
        "info": "",
        "x": 120,
        "y": 100,
        "wires": []
    },
    {
        "id": "1329b56.bea634b",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "Night mode",
        "links": [
            "328ec247.9e5eee",
            "455faa8d.6c9aa4",
            "63e9f9b.1d13608",
            "9ace10c4.4ce8f",
            "dc179d3a7d67d467",
            "e92f253c.11b9b8",
            "cf3797c1e0b5c101"
        ],
        "x": 255,
        "y": 620,
        "wires": [
            [
                "e823eed6908bda03"
            ]
        ]
    },
    {
        "id": "55a1471c.7ca3e8",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "20",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 460,
        "wires": [
            [
                "d1068875.e54d18"
            ]
        ]
    },
    {
        "id": "61ee7057.5df1f",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "22:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 460,
        "wires": [
            [],
            [
                "ebfc5adc.7672f8"
            ]
        ]
    },
    {
        "id": "fdbf838e.f9e58",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 520,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "ebfc5adc.7672f8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 460,
        "wires": [
            [
                "5ca10b6218e10f1a"
            ]
        ]
    },
    {
        "id": "247260f.c82dca",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: HOME",
        "mode": "link",
        "links": [
            "14ac8f4a0be280af",
            "bb323297a8af6244",
            "dd907ae5e8f3fab4",
            "e17d0a43.b0e048"
        ],
        "x": 1925,
        "y": 100,
        "wires": []
    },
    {
        "id": "fc4fe81e.444628",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: Away",
        "mode": "link",
        "links": [
            "6626af8888151004",
            "6c1d6758.428808",
            "810548cd17705360",
            "e17d0a43.b0e048"
        ],
        "x": 1935,
        "y": 440,
        "wires": []
    },
    {
        "id": "e1dcab5a.66f5f8",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "11:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 560,
        "wires": [
            [
                "2e0d79f5.69a796"
            ],
            []
        ]
    },
    {
        "id": "2e0d79f5.69a796",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Movement Morning",
        "links": [
            "1d2eacde.d050c3"
        ],
        "x": 555,
        "y": 560,
        "wires": []
    },
    {
        "id": "1d2eacde.d050c3",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Home Mode",
        "links": [
            "2e0d79f5.69a796"
        ],
        "x": 1555,
        "y": 160,
        "wires": [
            [
                "3e6914e6.deefec"
            ]
        ]
    },
    {
        "id": "3e6914e6.deefec",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1650,
        "y": 160,
        "wires": [
            [],
            [
                "d13df963babc7388"
            ]
        ]
    },
    {
        "id": "d1068875.e54d18",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Sleep",
        "func": "msg.payload = {\"mode\":\"sleep\"};\nglobal.set(\"Mode\", \"sleep\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1250,
        "y": 520,
        "wires": [
            [
                "c9b7d9c6.2c46e8"
            ]
        ]
    },
    {
        "id": "c9b7d9c6.2c46e8",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "sh-SLeep",
        "mode": "link",
        "links": [
            "469534ab7d1a6e67",
            "56a9a0de058b39ee",
            "ad0eef5605ed22c5"
        ],
        "x": 1395,
        "y": 520,
        "wires": []
    },
    {
        "id": "52999902.dc1b78",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Set Sleep status",
        "info": "",
        "x": 140,
        "y": 400,
        "wires": []
    },
    {
        "id": "c7ee4eb5.5141c",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "d": true,
        "config": "530528aa.2006c8",
        "pushtype": "note",
        "title": "Nattmodus",
        "chan": "",
        "name": "Nattmodus",
        "x": 1430,
        "y": 680,
        "wires": []
    },
    {
        "id": "412d28c0.b59968",
        "type": "pushbullet in",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "name": "",
        "x": 620,
        "y": 640,
        "wires": [
            [
                "7483e98c.d64388"
            ]
        ]
    },
    {
        "id": "7483e98c.d64388",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Nattmodus",
        "property": "data.title",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Nattmodus",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 770,
        "y": 640,
        "wires": [
            [
                "31e59f17.de62b"
            ]
        ]
    },
    {
        "id": "31e59f17.de62b",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Dismissed?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Push dismissed",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 930,
        "y": 640,
        "wires": [
            [
                "2571016f.0085ee"
            ]
        ]
    },
    {
        "id": "a731240e.5da298",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "delayNattmodus",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "2571016f.0085ee",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 640,
        "wires": [
            [
                "a731240e.5da298"
            ]
        ]
    },
    {
        "id": "477666d4.b53928",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 460,
        "wires": [
            [
                "61ee7057.5df1f"
            ],
            [
                "fdbf838e.f9e58",
                "e1dcab5a.66f5f8"
            ]
        ]
    },
    {
        "id": "f67b9d7c.ac75",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "oivheg",
        "property": "oivheg",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 680,
        "wires": [
            [
                "c7ee4eb5.5141c"
            ]
        ]
    },
    {
        "id": "e67e0c77.93b2c",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "guestmode",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "7152deea.25fcb",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "pushtype": "file",
        "title": "Tegneserier",
        "chan": "",
        "name": "Tegneserier",
        "x": 770,
        "y": 840,
        "wires": []
    },
    {
        "id": "45ed298b.458838",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 840,
        "wires": [
            [
                "e090fcff.94f85"
            ]
        ]
    },
    {
        "id": "e090fcff.94f85",
        "type": "fs-file-lister",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "start": "/usr/local/HomeSeer/html/images/Tegneserier",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "files",
        "path": true,
        "single": false,
        "depth": 0,
        "stat": false,
        "showWarnings": true,
        "x": 420,
        "y": 840,
        "wires": [
            [
                "24dfc256.71129e"
            ]
        ]
    },
    {
        "id": "24dfc256.71129e",
        "type": "delay",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "4",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 580,
        "y": 840,
        "wires": [
            [
                "7152deea.25fcb"
            ]
        ]
    },
    {
        "id": "77b78689.5eac68",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "away",
        "op1": "true",
        "op2": "false",
        "op1type": "bool",
        "op2type": "bool",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1510,
        "y": 280,
        "wires": [
            [
                "0f55237f3acf03e4"
            ]
        ]
    },
    {
        "id": "a5d3065e.5a0698",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "home",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1510,
        "y": 240,
        "wires": [
            [
                "d13df963babc7388"
            ]
        ]
    },
    {
        "id": "29d24b09.012634",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1990,
        "y": 200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "dc33a268.a0933",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2155,
        "y": 260,
        "wires": []
    },
    {
        "id": "1e1f56fa524173df",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Present?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1320,
        "y": 240,
        "wires": [
            [
                "a5d3065e.5a0698",
                "77b78689.5eac68"
            ],
            [
                "9ab9f797bec97d04"
            ]
        ]
    },
    {
        "id": "9ab9f797bec97d04",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 320,
        "wires": [
            [
                "77b78689.5eac68"
            ],
            [
                "aaf5b9532af1fbac"
            ]
        ]
    },
    {
        "id": "5ca10b6218e10f1a",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "isStandBy",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 460,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "4241a94a84740929",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "System is AWAY",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "System is AWAY",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2000,
        "y": 280,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "8ebc2701b1ba1795",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "System is HOME",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "System is HOME",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2010,
        "y": 240,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "e823eed6908bda03",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 190,
        "y": 520,
        "wires": [
            [
                "477666d4.b53928"
            ]
        ]
    },
    {
        "id": "050ea7c497a65363",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "35",
        "topic": "",
        "payload": "guestmode",
        "payloadType": "global",
        "x": 300,
        "y": 120,
        "wires": [
            [
                "07c3245eb0c7f6a4"
            ]
        ]
    },
    {
        "id": "f44e1823.867bc8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Guestmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 200,
        "wires": [
            [
                "a4626cbe.2a6a4"
            ]
        ]
    },
    {
        "id": "a4626cbe.2a6a4",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "!vacation",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "vacation",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1000,
        "y": 240,
        "wires": [
            [
                "72a46790.043618"
            ]
        ]
    },
    {
        "id": "72a46790.043618",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "! Sleep",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1180,
        "y": 200,
        "wires": [
            [
                "c31c06424d687cfe"
            ]
        ]
    },
    {
        "id": "c31c06424d687cfe",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "isStandBy",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1180,
        "y": 240,
        "wires": [
            [
                "1e1f56fa524173df"
            ]
        ]
    },
    {
        "id": "60335bf328a8b516",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "set Home",
        "links": [
            "ed4c1dbd7e3c8218",
            "5ad46aeb74ed6636"
        ],
        "x": 1325,
        "y": 160,
        "wires": [
            [
                "a5d3065e.5a0698"
            ]
        ]
    },
    {
        "id": "9e9814a999c69457",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "Set Away",
        "links": [
            "99e34fb7e0972e1e",
            "6b9eeab08f2cdd54"
        ],
        "x": 845,
        "y": 200,
        "wires": [
            [
                "f44e1823.867bc8"
            ]
        ]
    },
    {
        "id": "0f55237f3acf03e4",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1670,
        "y": 280,
        "wires": [
            [
                "a5d3065e.5a0698",
                "aaf5b9532af1fbac"
            ],
            [
                "c61133f02b5c38b9"
            ]
        ]
    },
    {
        "id": "c61133f02b5c38b9",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "System is AWAY",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "5 Minutes Until Away Mode",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2000,
        "y": 360,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "07c3245eb0c7f6a4",
        "type": "ui-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Guestmode",
        "label": "Guestmode",
        "group": "3f286b473c9966df",
        "order": 0,
        "width": "1",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "false",
        "onvalueType": "bool",
        "onicon": "account-plus",
        "oncolor": "red",
        "offvalue": "true",
        "offvalueType": "bool",
        "officon": "account-plus",
        "offcolor": "green",
        "x": 450,
        "y": 100,
        "wires": [
            [
                "e67e0c77.93b2c"
            ]
        ]
    },
    {
        "id": "ddc8b687.374538",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "topic": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Happy sulten : ZHASwitch",
        "outputs": 2,
        "device": "00:15:8d:00:01:4a:08:f7-01-0006",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 80,
        "wires": [
            [
                "933b65ba.415558"
            ],
            []
        ]
    },
    {
        "id": "976db23e.1f8ba",
        "type": "link out",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "mode": "link",
        "links": [
            "15d28c99.680783"
        ],
        "x": 795,
        "y": 80,
        "wires": []
    },
    {
        "id": "eb90ae51.1af18",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "topic": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Happy vil ut : ZHASwitch",
        "outputs": 2,
        "device": "00:15:8d:00:01:9d:e5:2c-01-0006",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 140,
        "wires": [
            [
                "4f048068.a4401",
                "ddeb10c8.abffe"
            ],
            []
        ]
    },
    {
        "id": "4f048068.a4401",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "d": true,
        "name": "Happy hungry",
        "func": "msg.payload = \"Happy is hungry\";\nmsg.emitVolume =50;\n\n\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Eat\",\n        \"description\": \"Happy wants to eat\",\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9ab1a383.0f88b",
        "type": "ui_list",
        "z": "1b14ec1b.20ab54",
        "group": "374dd77b.cadc38",
        "name": "Happy",
        "order": 1,
        "width": 6,
        "height": 2,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Happy",
        "x": 670,
        "y": 100,
        "wires": []
    },
    {
        "id": "ba60c720.f08e38",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "2",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 680,
        "y": 60,
        "wires": [
            [
                "976db23e.1f8ba"
            ]
        ]
    },
    {
        "id": "4324ade3.0032c4",
        "type": "http request",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.154:1880/feed",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 690,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "ddeb10c8.abffe",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 500,
        "y": 140,
        "wires": [
            [
                "4324ade3.0032c4"
            ]
        ]
    },
    {
        "id": "933b65ba.415558",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "name": "Happy Inside",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Happy wants  to go INSIDE\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\n\n\n\n\nlet msg2 = {};\n\n\n\n\n\nmsg2.payload = [ {\n        \"title\": \"Outside\",\n        \"description\": msg.payload.text,\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 80,
        "wires": [
            [
                "ba60c720.f08e38"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "e938238ab245c876",
        "type": "inject",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 20,
        "wires": [
            [
                "933b65ba.415558"
            ]
        ]
    },
    {
        "id": "a4770dbb.04eff",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "button press",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "7002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8002",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 400,
        "wires": [
            [
                "4182b18c.6b705",
                "e7d2603e3e46a973"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "20238790.e84df8",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 440,
        "wires": [
            [
                "1bb57f45.872e71",
                "26caebff.0ab3c4",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "4182b18c.6b705",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "CLOSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 400,
        "wires": [
            [
                "1bb57f45.872e71",
                "112531d1.56298e",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "6c1d6758.428808",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "IK: Sov",
        "links": [
            "fd49ca1d.879ac8",
            "b630d8c.cb7f128",
            "fc4fe81e.444628"
        ],
        "x": 355,
        "y": 360,
        "wires": [
            [
                "6bb5ecbc.1d0e04"
            ]
        ]
    },
    {
        "id": "cec0f8cb.33f1b8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 360,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "74a70908.bd50d8",
        "type": "inject",
        "z": "605ae98f.8a9998",
        "name": "Åpne Gardin 10 00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 10 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 280,
        "y": 300,
        "wires": [
            [
                "8818e486.2765d8"
            ]
        ]
    },
    {
        "id": "bb45bf3b.5ab5f",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "",
        "links": [
            "d8a4e608.f39898"
        ],
        "x": 1315,
        "y": 400,
        "wires": []
    },
    {
        "id": "26caebff.0ab3c4",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "func": "msg.payload = {openPercent : 100};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "112531d1.56298e",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Close",
        "func": "msg.payload = {openPercent : 0};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d6717b22.f0d1e8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload.openPercent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "100",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 770,
        "y": 440,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "1bb57f45.872e71",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "",
        "func": "        msg.payload = {devices:{id: \"id\",name: \"Sov_Gardin\", power: (msg.payload === 0) ? \"off\" : \"on\"}};\n      \n        \n   \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 400,
        "wires": [
            [
                "bb45bf3b.5ab5f"
            ]
        ]
    },
    {
        "id": "2603c373.b06f0c",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 630,
        "y": 320,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "8818e486.2765d8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "sleepLonger",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 320,
        "wires": [
            [
                "2603c373.b06f0c"
            ]
        ]
    },
    {
        "id": "6bb5ecbc.1d0e04",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 360,
        "wires": [
            [
                "d87cbd2e.f854f"
            ]
        ]
    },
    {
        "id": "d87cbd2e.f854f",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 360,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "ad29b802.69fbb8",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "1b253553.66750b"
        ],
        "x": 355,
        "y": 400,
        "wires": [
            [
                "a4770dbb.04eff",
                "1ac26754f1a2b7e2"
            ]
        ]
    },
    {
        "id": "515c9831.0334b8",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "800c441a.1f78d8"
        ],
        "x": 1175,
        "y": 360,
        "wires": []
    },
    {
        "id": "ea518de79d5a401a",
        "type": "inject",
        "z": "605ae98f.8a9998",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 240,
        "wires": [
            [
                "8818e486.2765d8"
            ]
        ]
    },
    {
        "id": "e7d2603e3e46a973",
        "type": "debug",
        "z": "605ae98f.8a9998",
        "name": "debug 53",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 260,
        "wires": []
    },
    {
        "id": "1ac26754f1a2b7e2",
        "type": "debug",
        "z": "605ae98f.8a9998",
        "name": "debug 54",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 520,
        "wires": []
    },
    {
        "id": "6d8cd486.3ac49c",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse StueVtoalett",
        "topic": "StueVtoalett",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:8e:b1:4d-01-0406"
        ],
        "device_name": "1etg: Stue-Gang : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 280,
        "y": 100,
        "wires": [
            [
                "8b7a0dc.31806f"
            ]
        ]
    },
    {
        "id": "e92f253c.11b9b8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Trapp",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "be2ad471.d9c448",
            "77e202e1f7cb4c98"
        ],
        "x": 695,
        "y": 100,
        "wires": []
    },
    {
        "id": "3bfccd97.de6142",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Gangen",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/ec:1b:bd:ff:fe:a2:fd:03-01-0006"
        ],
        "device_name": "Gangen : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 270,
        "y": 160,
        "wires": [
            [
                "84d4238b.16cfe"
            ]
        ]
    },
    {
        "id": "328ec247.9e5eee",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Gang",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "be2ad471.d9c448",
            "dcf434ce.e89888",
            "e22089f94174d570"
        ],
        "x": 695,
        "y": 160,
        "wires": []
    },
    {
        "id": "84cb19d4.d232e8",
        "type": "deconz-output",
        "z": "a7af161f.d5ece8",
        "name": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/cc:cc:cc:ff:fe:02:96:c6-01"
        ],
        "device_name": "Window covering device 5 : Window covering device",
        "query": "",
        "commands": [
            {
                "arg": {
                    "open": {
                        "type": "keep",
                        "value": ""
                    },
                    "stop": {
                        "type": "keep",
                        "value": ""
                    },
                    "lift": {
                        "type": "msg",
                        "value": "payload"
                    },
                    "tilt": {
                        "type": "num",
                        "value": ""
                    },
                    "retryonerror": {
                        "type": "num",
                        "value": "0"
                    },
                    "aftererror": {
                        "type": "continue",
                        "value": ""
                    }
                },
                "type": "deconz_state",
                "domain": "covers"
            }
        ],
        "specific": {
            "delay": {
                "type": "num",
                "value": "50"
            },
            "result": {
                "type": "at_end",
                "value": ""
            }
        },
        "x": 900,
        "y": 660,
        "wires": [
            [
                "120d071c8824cb06"
            ]
        ]
    },
    {
        "id": "36aeb8a0.824178",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "lights/uniqueid/cc:cc:cc:ff:fe:02:96:c6-01"
        ],
        "device_name": "Window covering device 5 : Window covering device",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 310,
        "y": 660,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1b253553.66750b",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "ad29b802.69fbb8"
        ],
        "x": 1325,
        "y": 540,
        "wires": []
    },
    {
        "id": "800c441a.1f78d8",
        "type": "link in",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "515c9831.0334b8"
        ],
        "x": 615,
        "y": 660,
        "wires": [
            [
                "84cb19d4.d232e8",
                "933194400acc833e"
            ]
        ]
    },
    {
        "id": "84d4238b.16cfe",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Gangen",
                "type": "str"
            },
            {
                "name": "ignore_state",
                "value": "true",
                "type": "bool"
            }
        ],
        "x": 530,
        "y": 160,
        "wires": [
            [
                "328ec247.9e5eee"
            ]
        ]
    },
    {
        "id": "8b7a0dc.31806f",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "StueVtoalett",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 100,
        "wires": [
            [
                "e92f253c.11b9b8"
            ]
        ]
    },
    {
        "id": "780badae.5effd4",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "Bedroom",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/bc:33:ac:ff:fe:18:65:a7-01-0006"
        ],
        "device_name": "Soverom : ZHAPresence",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 290,
        "y": 220,
        "wires": [
            [
                "32a8f67f.ad5fca"
            ],
            []
        ]
    },
    {
        "id": "32a8f67f.ad5fca",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Bedroom",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 220,
        "wires": [
            [
                "9ace10c4.4ce8f"
            ]
        ]
    },
    {
        "id": "9ace10c4.4ce8f",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Soverom",
        "links": [
            "50b0d259.df502c",
            "1329b56.bea634b",
            "77e202e1f7cb4c98"
        ],
        "x": 695,
        "y": 220,
        "wires": []
    },
    {
        "id": "24b6d06c.7e0e6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0406"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 200,
        "y": 560,
        "wires": [
            [
                "d6f2abf4292b46cf",
                "92b321794298fb6e"
            ]
        ]
    },
    {
        "id": "c993abab.7f54d8",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Kjøkken",
                "type": "str"
            }
        ],
        "x": 610,
        "y": 560,
        "wires": [
            [
                "63e9f9b.1d13608"
            ]
        ]
    },
    {
        "id": "63e9f9b.1d13608",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Kjøkken",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "be2ad471.d9c448",
            "77e202e1f7cb4c98"
        ],
        "x": 835,
        "y": 560,
        "wires": []
    },
    {
        "id": "620a790d.f793f8",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bryter",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/60:a4:23:ff:fe:28:37:14-01-1000"
        ],
        "device_name": "Kjeller Bryter : ZHASwitch",
        "query": "{}",
        "outputs": 2,
        "output_rules": [
            {
                "format": "single",
                "type": "state",
                "payload": [
                    "buttonevent"
                ],
                "output": "onupdate",
                "onstart": false,
                "uniqueId": "ui-id-8"
            },
            {
                "type": "homekit",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ],
                "uniqueId": "ui-id-9"
            }
        ],
        "x": 1180,
        "y": 380,
        "wires": [
            [
                "b3936326.9069d",
                "1b253553.66750b",
                "daf07d4d.1f365"
            ],
            []
        ]
    },
    {
        "id": "b3936326.9069d",
        "type": "switch",
        "z": "a7af161f.d5ece8",
        "name": "Upstairs",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1001",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 1520,
        "y": 360,
        "wires": [
            [
                "161bb255.512b1e"
            ],
            [
                "4340bf1e.b870c"
            ],
            [
                "91591da1.3f633"
            ]
        ]
    },
    {
        "id": "161bb255.512b1e",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 340,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "4340bf1e.b870c",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 380,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "fbd30b58.0dc988",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Upstairs",
        "links": [
            "87af81c4.c910b"
        ],
        "x": 1925,
        "y": 380,
        "wires": []
    },
    {
        "id": "91591da1.3f633",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "Auto",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "daf07d4d.1f365",
        "type": "switch",
        "z": "a7af161f.d5ece8",
        "name": "Downstairs",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "3002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3001",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 1520,
        "y": 480,
        "wires": [
            [
                "54177de6.161014"
            ],
            [
                "f15b1d.2b4844e"
            ],
            [
                "c4ac5b4f.39cb38"
            ]
        ]
    },
    {
        "id": "54177de6.161014",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 460,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "f15b1d.2b4844e",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 500,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "63220a70.24ebb4",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Downstairs",
        "links": [
            "c720f0cc.65429"
        ],
        "x": 1805,
        "y": 480,
        "wires": []
    },
    {
        "id": "c4ac5b4f.39cb38",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "Auto",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 540,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "3d5c496e.056dd6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse BAD",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:05:4a:78:00-01-0406"
        ],
        "device_name": "Presence 16 : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 260,
        "y": 820,
        "wires": [
            [
                "da3398b4.aebae8"
            ]
        ]
    },
    {
        "id": "bdda4d7b.253eb",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Dør BAD",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:02:8d:6d:2d-01-0006"
        ],
        "device_name": "Window / Door Sensor : ZHAOpenClose",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "open"
                ]
            }
        ],
        "x": 240,
        "y": 880,
        "wires": [
            [
                "108bf876.9a7808"
            ]
        ]
    },
    {
        "id": "da3398b4.aebae8",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "CleanData",
        "func": "let data = {};\ndata.payload = msg.payload_raw.state.presence;\ndata.topic = \"Bathroom\";\nreturn data;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 820,
        "wires": [
            [
                "455faa8d.6c9aa4"
            ]
        ]
    },
    {
        "id": "108bf876.9a7808",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "CleanData",
        "func": "let data = {};\ndata.payload = msg.payload\ndata.topic = \"Bathroom\";\nreturn data;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 880,
        "wires": [
            [
                "dc7a9dbe.e7065"
            ]
        ]
    },
    {
        "id": "455faa8d.6c9aa4",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bathrrom_Movement",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "c840b6850a9f9370",
            "77e202e1f7cb4c98"
        ],
        "x": 755,
        "y": 820,
        "wires": []
    },
    {
        "id": "dc7a9dbe.e7065",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bathroom_Door",
        "mode": "link",
        "links": [
            "ea645748ca3e406e",
            "f66e7e24.aca9d",
            "598da3c7e27395f1"
        ],
        "x": 775,
        "y": 880,
        "wires": []
    },
    {
        "id": "72d4018db023f810",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Office",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:e5:d3:9c-01-0406"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 230,
        "y": 280,
        "wires": [
            [
                "6fd91fe30a14cff0"
            ]
        ]
    },
    {
        "id": "6fd91fe30a14cff0",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Office",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 280,
        "wires": [
            [
                "b526ea173bec8f67"
            ]
        ]
    },
    {
        "id": "b526ea173bec8f67",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Office",
        "mode": "link",
        "links": [
            "77e202e1f7cb4c98",
            "ca59d875951bc88c"
        ],
        "x": 695,
        "y": 280,
        "wires": []
    },
    {
        "id": "18232fd100af2fd6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Kitchen ILLUM",
        "topic": "StueVtoalett",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0400"
        ],
        "device_name": "1etg: Stue-Gang : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onupdate",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 180,
        "y": 480,
        "wires": [
            [
                "3bb8b86054a6a31d",
                "223ac6ee70ce6b7c"
            ]
        ]
    },
    {
        "id": "3bb8b86054a6a31d",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "state",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.lux",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 480,
        "wires": [
            [
                "39e053b3d2fb7ed8",
                "aab97842d83bf3b5"
            ]
        ]
    },
    {
        "id": "39e053b3d2fb7ed8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "KITCHEN LIGHT",
        "mode": "link",
        "links": [
            "99ed1ce4.90a0c"
        ],
        "x": 825,
        "y": 480,
        "wires": []
    },
    {
        "id": "76be70cd39633cd1",
        "type": "deconz-get",
        "z": "a7af161f.d5ece8",
        "name": "",
        "config_version": 1,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0400"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 600,
        "y": 520,
        "wires": [
            [
                "3bb8b86054a6a31d"
            ]
        ]
    },
    {
        "id": "d6f2abf4292b46cf",
        "type": "delay",
        "z": "a7af161f.d5ece8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 430,
        "y": 560,
        "wires": [
            [
                "c993abab.7f54d8"
            ]
        ]
    },
    {
        "id": "92b321794298fb6e",
        "type": "trigger",
        "z": "a7af161f.d5ece8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "15",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 430,
        "y": 520,
        "wires": [
            [
                "76be70cd39633cd1"
            ]
        ]
    },
    {
        "id": "470c19a873498faf",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "WalkingCloset",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/ec:1b:bd:ff:fe:3f:85:d8-01-0006"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 250,
        "y": 340,
        "wires": [
            [
                "aebceaf8045c24f5"
            ]
        ]
    },
    {
        "id": "aebceaf8045c24f5",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "walkingcloset",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 340,
        "wires": [
            [
                "5db3412dac700df1"
            ]
        ]
    },
    {
        "id": "5db3412dac700df1",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "walkingCloset",
        "mode": "link",
        "links": [
            "89ad14e36c74d6f8"
        ],
        "x": 695,
        "y": 340,
        "wires": []
    },
    {
        "id": "c1e26f4bdb8d5101",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Laundry",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/bc:33:ac:ff:fe:16:8f:b1-01-0006"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "presence"
                ]
            }
        ],
        "x": 240,
        "y": 400,
        "wires": [
            [
                "34fc36da289d8a4c"
            ]
        ]
    },
    {
        "id": "34fc36da289d8a4c",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "laundry",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 400,
        "wires": [
            [
                "5cb449a017a68b38"
            ]
        ]
    },
    {
        "id": "5cb449a017a68b38",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "laundry",
        "mode": "link",
        "links": [
            "a322e5db270d2e0b"
        ],
        "x": 695,
        "y": 400,
        "wires": []
    },
    {
        "id": "223ac6ee70ce6b7c",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "debug 43",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 460,
        "wires": []
    },
    {
        "id": "aab97842d83bf3b5",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "debug 44",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 400,
        "wires": []
    },
    {
        "id": "1fcb8d7b813d9380",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "payload",
        "statustext_type": "msg",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/cc:86:ec:ff:fe:ac:a8:84-01-1000"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "buttonevent"
                ]
            }
        ],
        "x": 1080,
        "y": 460,
        "wires": [
            [
                "5665132c2e015edc"
            ]
        ]
    },
    {
        "id": "11e0b06db6413602",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "debug 52",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 560,
        "wires": []
    },
    {
        "id": "5665132c2e015edc",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1002",
                "fromt": "num",
                "to": "7002",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "2002",
                "fromt": "num",
                "to": "8002",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 500,
        "wires": [
            [
                "11e0b06db6413602",
                "1b253553.66750b"
            ]
        ]
    },
    {
        "id": "120d071c8824cb06",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "debug 55",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 760,
        "wires": []
    },
    {
        "id": "933194400acc833e",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "debug 56",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 720,
        "wires": []
    },
    {
        "id": "81af6cca.e9c66",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "payload.playerState",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "PLAYING",
                "vt": "str"
            },
            {
                "t": "nempty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 240,
        "wires": [
            [
                "68d9f69.9352e08"
            ],
            [
                "ff0f6df7.5a918"
            ]
        ]
    },
    {
        "id": "99eeb7d8.8caeb8",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "FH_Kjeller",
        "links": [
            "3b978634.3ed85a"
        ],
        "x": 1155,
        "y": 240,
        "wires": []
    },
    {
        "id": "e141ad77.43517",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 200,
        "wires": [
            [
                "9c8ff821.d99f48"
            ]
        ]
    },
    {
        "id": "ff0f6df7.5a918",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 280,
        "wires": [
            [
                "99eeb7d8.8caeb8",
                "df254ac2.220318"
            ]
        ]
    },
    {
        "id": "68d9f69.9352e08",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "payload.media.duration",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "5400",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 200,
        "wires": [
            [
                "e141ad77.43517"
            ]
        ]
    },
    {
        "id": "ee4bdb8e.0c68a8",
        "type": "castv2-sender",
        "z": "1c88039c.df631c",
        "name": "SHIELD",
        "connection": "4d021bd33834978e",
        "x": 320,
        "y": 580,
        "wires": [
            [
                "81af6cca.e9c66",
                "5206dfdb12e6a2dc",
                "3ecbdbdc32d7e425"
            ]
        ]
    },
    {
        "id": "e9bb9204.50585",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 580,
        "wires": [
            [
                "a1111ae.032f9e8",
                "e926d9379abd724f"
            ],
            [
                "352c4db3.c00bc2",
                "7207e65ef67dab2d",
                "9d2af7af886c38df"
            ]
        ]
    },
    {
        "id": "352c4db3.c00bc2",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Ser på TV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 600,
        "wires": [
            [
                "5e8d3398.55375c"
            ]
        ]
    },
    {
        "id": "a1111ae.032f9e8",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "black",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TV er AV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 560,
        "wires": [
            [
                "5e8d3398.55375c"
            ]
        ]
    },
    {
        "id": "b50c3d14.adf0e",
        "type": "inject",
        "z": "1c88039c.df631c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "c1704d628dc827c6"
            ]
        ]
    },
    {
        "id": "5e8d3398.55375c",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "SHIELD",
        "links": [
            "c71338d4.ce73c8",
            "6075171d.f0db08",
            "f5405a5b1a414228"
        ],
        "x": 1125,
        "y": 580,
        "wires": []
    },
    {
        "id": "9c8ff821.d99f48",
        "type": "trigger",
        "z": "1c88039c.df631c",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1030,
        "y": 220,
        "wires": [
            [
                "99eeb7d8.8caeb8"
            ]
        ]
    },
    {
        "id": "df254ac2.220318",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 240,
        "wires": [
            [
                "9c8ff821.d99f48"
            ]
        ]
    },
    {
        "id": "89d0b2b7.ea426",
        "type": "switch",
        "z": "1c88039c.df631c",
        "d": true,
        "name": "",
        "property": "platform.applications[0].statusText",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Youtube",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Plex",
                "vt": "str"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 570,
        "y": 340,
        "wires": [
            [
                "49d893b7.f4e99c"
            ],
            [
                "28e6418d.dfba6e"
            ],
            []
        ]
    },
    {
        "id": "49d893b7.f4e99c",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Youtube",
        "func": "msg.text = \"You are watching Youtube\";\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 320,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "28e6418d.dfba6e",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Plex",
        "func": "msg.text = \"You are watching Plex\";\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "1484b9d6.aaa5c6",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "Shield app",
        "links": [
            "c9b1af2b.75dac"
        ],
        "x": 965,
        "y": 340,
        "wires": []
    },
    {
        "id": "dfb84673.fd6598",
        "type": "switch",
        "z": "1c88039c.df631c",
        "d": true,
        "name": "",
        "property": "platform.applications[0].statusText",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 400,
        "wires": [
            [
                "2cac3554.e5dc5a"
            ]
        ]
    },
    {
        "id": "347b2f4c.11cd",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Youtube",
        "func": "msg.text = \"You are watching\" + msg.platform.applications[0].statusText;\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 400,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "2cac3554.e5dc5a",
        "type": "delay",
        "z": "1c88039c.df631c",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 600,
        "y": 400,
        "wires": [
            [
                "347b2f4c.11cd"
            ]
        ]
    },
    {
        "id": "7207e65ef67dab2d",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "B-Presence",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "e926d9379abd724f",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "GO",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 520,
        "wires": [
            [
                "9a7761d2480db8ae"
            ]
        ]
    },
    {
        "id": "9d2af7af886c38df",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 680,
        "wires": [
            [
                "9a7761d2480db8ae"
            ]
        ]
    },
    {
        "id": "8a0ab10e55653060",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "block light",
        "mode": "link",
        "links": [
            "7c376eb857a4e46f"
        ],
        "x": 1395,
        "y": 600,
        "wires": []
    },
    {
        "id": "c1704d628dc827c6",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "isStandBy",
        "rules": [
            {
                "t": "set",
                "p": "isStandBy",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 640,
        "wires": [
            [
                "ee4bdb8e.0c68a8"
            ]
        ]
    },
    {
        "id": "3ecbdbdc32d7e425",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "set isStandBy",
        "rules": [
            {
                "t": "set",
                "p": "isStandBy",
                "pt": "global",
                "to": "platform.isStandBy",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 580,
        "wires": [
            [
                "e9bb9204.50585"
            ]
        ]
    },
    {
        "id": "9a7761d2480db8ae",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1290,
        "y": 600,
        "wires": [
            [
                "8a0ab10e55653060"
            ]
        ]
    },
    {
        "id": "db9dfe061ca64dcb",
        "type": "debug",
        "z": "1c88039c.df631c",
        "name": "debug 41",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 460,
        "wires": []
    },
    {
        "id": "5206dfdb12e6a2dc",
        "type": "rbe",
        "z": "1c88039c.df631c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "platform.isActiveInput",
        "topi": "topic",
        "x": 450,
        "y": 640,
        "wires": [
            [
                "3ecbdbdc32d7e425",
                "db9dfe061ca64dcb"
            ]
        ]
    },
    {
        "id": "e821612e.e3cf4",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "1s/1s",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "c2c469db.580898"
            ]
        ]
    },
    {
        "id": "2618401a.d4a3",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 670,
        "y": 40,
        "wires": []
    },
    {
        "id": "663ee350.a90bfc",
        "type": "mqtt out",
        "z": "bd80cf37.f9982",
        "name": "",
        "topic": "spotify",
        "qos": "",
        "retain": "",
        "broker": "[YOUR CONFIG]",
        "x": 850,
        "y": 80,
        "wires": []
    },
    {
        "id": "d89db731.9dcb28",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.item.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 80,
        "wires": [
            [
                "663ee350.a90bfc"
            ]
        ]
    },
    {
        "id": "158b6d57.3b4133",
        "type": "ui_text",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Track",
        "format": "{{msg.payload.item.name}}",
        "layout": "col-center",
        "x": 650,
        "y": 120,
        "wires": []
    },
    {
        "id": "41887616.7d8738",
        "type": "ui_button",
        "z": "bd80cf37.f9982",
        "name": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 1,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Previous",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "skip_previous",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 120,
        "y": 260,
        "wires": [
            [
                "346d2e57.3f7082"
            ]
        ]
    },
    {
        "id": "c15e8169.b6692",
        "type": "ui_button",
        "z": "bd80cf37.f9982",
        "name": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 3,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Next",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "skip_next",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "5edcb928.352ed8"
            ]
        ]
    },
    {
        "id": "7a73ed1f.05fd24",
        "type": "mqtt in",
        "z": "bd80cf37.f9982",
        "name": "",
        "topic": "spotify.next",
        "qos": "2",
        "datatype": "auto",
        "broker": "[YOUR CONFIG]",
        "inputs": 0,
        "x": 120,
        "y": 100,
        "wires": [
            [
                "5edcb928.352ed8"
            ]
        ]
    },
    {
        "id": "c5dea8fe.215358",
        "type": "mqtt in",
        "z": "bd80cf37.f9982",
        "name": "",
        "topic": "spotify.prev",
        "qos": "2",
        "datatype": "auto",
        "broker": "[YOUR CONFIG]",
        "inputs": 0,
        "x": 120,
        "y": 300,
        "wires": [
            [
                "346d2e57.3f7082"
            ]
        ]
    },
    {
        "id": "64962fb7.11d53",
        "type": "ui_template",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "name": "Album Pic",
        "order": 5,
        "width": "12",
        "height": "6",
        "format": "<div height=\"{{msg.payload.item.album.images[1].height}}\" align=\"center\">\n<IMG ng-src=\"{{msg.payload.item.album.images[1].url}}\"></IMG>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 660,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "22da8308.01cf5c",
        "type": "ui_switch",
        "z": "bd80cf37.f9982",
        "name": "Paly/Pause",
        "label": "",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 2,
        "width": "4",
        "height": "1",
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "play_circle_outline",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "pause_circle_outline",
        "offcolor": "red",
        "x": 670,
        "y": 280,
        "wires": [
            [
                "1774f4d0.a4739b"
            ]
        ]
    },
    {
        "id": "ec129954.d01af8",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.is_playing",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 220,
        "wires": [
            [
                "22da8308.01cf5c"
            ]
        ]
    },
    {
        "id": "54f46f35.233",
        "type": "switch",
        "z": "bd80cf37.f9982",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 380,
        "wires": [
            [
                "e497a2b8.fd79d"
            ],
            [
                "943e9a49.25e0f8"
            ]
        ]
    },
    {
        "id": "1774f4d0.a4739b",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 810,
        "y": 280,
        "wires": [
            [
                "54f46f35.233"
            ]
        ]
    },
    {
        "id": "79a3657f.878c5c",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 650,
        "y": 420,
        "wires": [
            [
                "943e9a49.25e0f8"
            ]
        ]
    },
    {
        "id": "c1699696.1dc128",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 650,
        "y": 340,
        "wires": [
            [
                "e497a2b8.fd79d"
            ]
        ]
    },
    {
        "id": "a22e150b.756278",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "Next",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 180,
        "wires": [
            [
                "5edcb928.352ed8"
            ]
        ]
    },
    {
        "id": "86b64b52.ec27b8",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "Prev",
        "props": [
            {
                "p": "payload",
                "v": "true",
                "vt": "bool"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 220,
        "wires": [
            [
                "346d2e57.3f7082"
            ]
        ]
    },
    {
        "id": "6832171f.b21738",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 750,
        "y": 540,
        "wires": []
    },
    {
        "id": "df71ed65.9b56d",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 530,
        "y": 480,
        "wires": [
            [
                "2ce1a0e9.0f532"
            ]
        ]
    },
    {
        "id": "401fa237.e6689c",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "params",
        "targetType": "msg",
        "x": 750,
        "y": 580,
        "wires": []
    },
    {
        "id": "2ce1a0e9.0f532",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "[payload]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 580,
        "wires": [
            [
                "5e6aa81e.236958"
            ]
        ]
    },
    {
        "id": "7bc62009.3278a",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.progress_ms",
                "pt": "msg",
                "to": "progress",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 640,
        "wires": [
            [
                "3b445fef.e2239",
                "c330a77b.500f58",
                "35569d3c09710713"
            ]
        ]
    },
    {
        "id": "edd7f8d.22b6f08",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.duration_ms",
                "pt": "msg",
                "to": "duration",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 680,
        "wires": [
            [
                "fa925eeb.d8ada",
                "c330a77b.500f58"
            ]
        ]
    },
    {
        "id": "332f05a0.74111a",
        "type": "ui_numeric",
        "z": "bd80cf37.f9982",
        "d": true,
        "name": "",
        "label": "progress",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 6,
        "width": 0,
        "height": 0,
        "wrap": true,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 780,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "3b445fef.e2239",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "progress/1000",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 640,
        "wires": [
            [
                "332f05a0.74111a",
                "f1ffcbe7.256788",
                "35569d3c09710713"
            ]
        ],
        "outputLabels": [
            "seconds"
        ]
    },
    {
        "id": "fa925eeb.d8ada",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "duration/1000",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 680,
        "wires": [
            [
                "3c13b288.116c7e",
                "19eb810.cf58c7f",
                "35569d3c09710713"
            ]
        ],
        "outputLabels": [
            "seconds"
        ]
    },
    {
        "id": "3c13b288.116c7e",
        "type": "ui_numeric",
        "z": "bd80cf37.f9982",
        "d": true,
        "name": "",
        "label": "duration",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 7,
        "width": 0,
        "height": 0,
        "wrap": true,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 780,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "511f99e0.c089b8",
        "type": "ui_slider",
        "z": "bd80cf37.f9982",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 9,
        "width": "8",
        "height": "1",
        "passthru": false,
        "outs": "end",
        "topic": "",
        "topicType": "str",
        "min": 0,
        "max": 10,
        "step": 1,
        "className": "",
        "x": 370,
        "y": 760,
        "wires": [
            [
                "cede39fd.b940e8"
            ]
        ]
    },
    {
        "id": "c330a77b.500f58",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ui_control",
                "pt": "msg",
                "to": "{\"min\":1,\"max\":$.duration}",
                "tot": "jsonata"
            },
            {
                "t": "move",
                "p": "progress",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 760,
        "wires": [
            [
                "511f99e0.c089b8"
            ]
        ]
    },
    {
        "id": "e86a673c.c09fa8",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "[payload]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 840,
        "wires": [
            [
                "d908d76d.5667d8"
            ]
        ]
    },
    {
        "id": "cede39fd.b940e8",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "deadband",
        "gap": "3000",
        "start": "",
        "inout": "in",
        "property": "payload",
        "x": 540,
        "y": 760,
        "wires": [
            [
                "7bafa715.11bc28"
            ]
        ]
    },
    {
        "id": "4240c7f2.ebbae8",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.item.id",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 480,
        "wires": [
            [
                "df71ed65.9b56d"
            ]
        ]
    },
    {
        "id": "7bafa715.11bc28",
        "type": "trigger",
        "z": "bd80cf37.f9982",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "1000",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 200,
        "y": 840,
        "wires": [
            [
                "6d55f578.603afc"
            ]
        ]
    },
    {
        "id": "6d55f578.603afc",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 390,
        "y": 840,
        "wires": [
            [
                "e86a673c.c09fa8"
            ]
        ]
    },
    {
        "id": "19eb810.cf58c7f",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "minutes",
                "pt": "msg",
                "to": "(payload/60)-((payload/60)%1)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "seconds",
                "pt": "msg",
                "to": "(payload%60)",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "params",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 940,
        "wires": [
            [
                "fa04b5d9.0f1728"
            ]
        ]
    },
    {
        "id": "fa04b5d9.0f1728",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "minutes",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "seconds",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 940,
        "wires": [
            [
                "d7f74681.e827d8"
            ]
        ]
    },
    {
        "id": "229a5d9.b0261a2",
        "type": "ui_text",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "order": 10,
        "width": "2",
        "height": "1",
        "name": "total",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 790,
        "y": 940,
        "wires": []
    },
    {
        "id": "f1ffcbe7.256788",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "minutes",
                "pt": "msg",
                "to": "(payload/60)-((payload/60)%1)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "seconds",
                "pt": "msg",
                "to": "(payload%60)",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "params",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 1000,
        "wires": [
            [
                "958bbb69.850008"
            ]
        ]
    },
    {
        "id": "958bbb69.850008",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "minutes",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "seconds",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1000,
        "wires": [
            [
                "53842c0a.bbc1d4"
            ]
        ]
    },
    {
        "id": "959827e4.4332b8",
        "type": "ui_text",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "order": 8,
        "width": "2",
        "height": "1",
        "name": "current",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 790,
        "y": 1000,
        "wires": []
    },
    {
        "id": "53842c0a.bbc1d4",
        "type": "range",
        "z": "bd80cf37.f9982",
        "minin": "0",
        "maxin": "60",
        "minout": "0",
        "maxout": "60",
        "action": "scale",
        "round": true,
        "property": "payload[1]",
        "name": "",
        "x": 630,
        "y": 1000,
        "wires": [
            [
                "959827e4.4332b8"
            ]
        ]
    },
    {
        "id": "d7f74681.e827d8",
        "type": "range",
        "z": "bd80cf37.f9982",
        "minin": "0",
        "maxin": "60",
        "minout": "0",
        "maxout": "60",
        "action": "scale",
        "round": true,
        "property": "payload[1]",
        "name": "",
        "x": 630,
        "y": 940,
        "wires": [
            [
                "229a5d9.b0261a2"
            ]
        ]
    },
    {
        "id": "c2c469db.580898",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "getMyCurrentPlayingTrack",
        "x": 380,
        "y": 60,
        "wires": [
            [
                "c4acbc909915956e"
            ]
        ]
    },
    {
        "id": "5edcb928.352ed8",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "skipToNext",
        "x": 330,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "346d2e57.3f7082",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "skipToPrevious",
        "x": 340,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e497a2b8.fd79d",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "play",
        "x": 810,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "943e9a49.25e0f8",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "pause",
        "x": 810,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "5e6aa81e.236958",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "getTrack",
        "x": 520,
        "y": 580,
        "wires": [
            [
                "6832171f.b21738",
                "401fa237.e6689c",
                "edd7f8d.22b6f08"
            ]
        ]
    },
    {
        "id": "d908d76d.5667d8",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "seek",
        "x": 790,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "35569d3c09710713",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 720,
        "wires": []
    },
    {
        "id": "2426f307fdbeb0b8",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "is_playing",
        "rules": [
            {
                "t": "set",
                "p": "is_playing",
                "pt": "global",
                "to": "payload.is_playing",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "dff687824fe5363c",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "090451f5a0dc1c5c",
        "api": "transferMyPlayback",
        "x": 1470,
        "y": 660,
        "wires": [
            [
                "0444cb8f5918d217"
            ]
        ]
    },
    {
        "id": "0a6db96785d8607c",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "",
        "props": [
            {
                "p": "deviceid",
                "v": "ac4e797d0144b75b94483eedab43b38aa8180755",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1110,
        "y": 660,
        "wires": [
            [
                "fc1ab8488d4cef8f"
            ]
        ]
    },
    {
        "id": "0444cb8f5918d217",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1700,
        "y": 640,
        "wires": []
    },
    {
        "id": "fabea83bdb4e8ec9",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "090451f5a0dc1c5c",
        "api": "getUserPlaylists",
        "x": 1460,
        "y": 560,
        "wires": [
            [
                "154d0ffc5b36780c",
                "368ce1c5966273a2"
            ]
        ]
    },
    {
        "id": "278e5d73fb7ec739",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1240,
        "y": 560,
        "wires": [
            [
                "fabea83bdb4e8ec9"
            ]
        ]
    },
    {
        "id": "154d0ffc5b36780c",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1700,
        "y": 540,
        "wires": []
    },
    {
        "id": "fc1ab8488d4cef8f",
        "type": "function",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "msg.params = [\n    [msg.deviceid],\n    { play: 'true' }\n\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 660,
        "wires": [
            [
                "dff687824fe5363c"
            ]
        ]
    },
    {
        "id": "368ce1c5966273a2",
        "type": "function",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "let list = [];\n\n\nfor (let device in msg.payload.devices) {\n    if (msg.payload.devices.hasOwnProperty( device)) {\n        list[device] = { \"id\": msg.payload.devices[device].id, \"name\": msg.payload.devices[device].name}\n        node.warn(msg.payload.devices[device]);\n    }\n}\n\nflow.set(\"SpotifyList\", list)\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1650,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d59e65898b48c995",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "office",
        "props": [
            {
                "p": "deviceid",
                "v": "db950fb6cfd7f794339966cf73385c83",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1110,
        "y": 720,
        "wires": [
            [
                "fc1ab8488d4cef8f"
            ]
        ]
    },
    {
        "id": "4721c4e790059fd9",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "090451f5a0dc1c5c",
        "api": "getMyDevices",
        "x": 1480,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "c4acbc909915956e",
        "type": "switch",
        "z": "bd80cf37.f9982",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 570,
        "y": 60,
        "wires": [
            [
                "2618401a.d4a3",
                "d89db731.9dcb28",
                "158b6d57.3b4133",
                "64962fb7.11d53",
                "ec129954.d01af8",
                "7bc62009.3278a",
                "4240c7f2.ebbae8",
                "2426f307fdbeb0b8"
            ]
        ]
    },
    {
        "id": "4927a1719cbfbf8f",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"type\":\"PLAY\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "197707bc2e8e45a7",
        "type": "ui_button",
        "z": "bd80cf37.f9982",
        "name": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFFICE",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1340,
        "y": 140,
        "wires": [
            [
                "4927a1719cbfbf8f"
            ]
        ]
    },
    {
        "id": "c561b2e7944121c0",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"type\":\"PLAY\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "3e8a48efe736708b",
        "type": "ui_button",
        "z": "bd80cf37.f9982",
        "name": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "STUE",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1330,
        "y": 180,
        "wires": [
            [
                "c561b2e7944121c0"
            ]
        ]
    },
    {
        "id": "5f1a0c4f2601d7fb",
        "type": "castv2-sender",
        "z": "bd80cf37.f9982",
        "name": "",
        "connection": "4dd42f71.91823",
        "x": 1610,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "ea82c33770946271",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1290,
        "y": 280,
        "wires": [
            [
                "5f1a0c4f2601d7fb"
            ]
        ]
    },
    {
        "id": "ed876b6c.e43528",
        "type": "Thing Setup",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "thingType": "FH_Light",
        "things": [
            {
                "name": "Hallway",
                "id": "21",
                "props": {
                    "address": 2,
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "Office_Light",
                "id": "5",
                "props": {
                    "address": 6,
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "kjøkken",
                "id": "10",
                "props": {
                    "address": "3",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "stue",
                "id": "11",
                "props": {
                    "address": "14",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "bathroom",
                "id": "46",
                "props": {
                    "address": "37",
                    "sv": "out_lvl_switch",
                    "dimable": true
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "closet",
                "id": "9",
                "props": {
                    "address": "12",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "laundry",
                "id": "15",
                "props": {
                    "address": 9,
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "basement",
                "id": "17",
                "props": {
                    "address": "18",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "bedroom",
                "id": "20",
                "props": {
                    "address": "22",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "karinaoffice",
                "id": "27",
                "props": {
                    "adress": "27",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "office",
                "id": "26",
                "props": {
                    "address": "l4",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            }
        ],
        "state": [
            {
                "key": "power",
                "value": false
            }
        ],
        "commands": [],
        "statusFunction": "if (state.power === undefined) return null\nlet text = state.power == \"on\" ? 'On' : 'Off'\nif (state.hasOwnProperty('brightness') && state.on){\n     text += ` ${state.brightness < 1 ? state.brightness * 100 : state.brightness}%`\n}\n   \n    \nreturn {\n    fill: state.power == \"on\" ? 'yellow' : 'grey',\n    shape: 'dot',\n    text\n}",
        "debug": false,
        "x": 1260,
        "y": 940,
        "wires": []
    },
    {
        "id": "7d505bde.df4254",
        "type": "Thing Update",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "nodeName": "",
        "name": "",
        "thingType": "FH_Light",
        "debug": true,
        "updates": [
            {
                "key": "power",
                "type": "msg",
                "val": "payload.val.changes.power"
            },
            {
                "key": "dimlevel",
                "type": "msg",
                "val": "payload.val.param.param.dimValue"
            }
        ],
        "x": 760,
        "y": 1000,
        "wires": []
    },
    {
        "id": "d0eea84c.b46138",
        "type": "Thing Process",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "nodeName": "",
        "thingType": "FH_Light",
        "topic": "$id",
        "debug": false,
        "x": 580,
        "y": 940,
        "wires": [
            [
                "3ddec9a5bae9d4d3"
            ]
        ]
    },
    {
        "id": "1e4e617e.247a5f",
        "type": "debug",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "TO FLOWS: FH_LIght Changed ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1250,
        "y": 1100,
        "wires": []
    },
    {
        "id": "29c85b88.abdbe4",
        "type": "Thing Command",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "nodeName": "Set LIght",
        "name": "",
        "command": "",
        "commandType": "msg",
        "debug": false,
        "x": 1920,
        "y": 1460,
        "wires": []
    },
    {
        "id": "3ab68b34.7a79d4",
        "type": "comment",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "Futurehome MQTT communication ",
        "info": "This example uses the Lifx platform. The Lifx node works well with the thing nodes, as it requires no initization to receive inbound messages. And the Lifx node already uses the MAC address as the message topic, so the Lifx Things are setup with the MAC address as their ID.",
        "x": 340,
        "y": 260,
        "wires": []
    },
    {
        "id": "faab8b45.892218",
        "type": "Thing Setup",
        "z": "4edd86b6.331768",
        "thingType": "DC_Light",
        "things": [],
        "state": [],
        "commands": [],
        "statusFunction": "if (state.on === undefined) return null\nlet text = state.on ? 'On' : 'Off'\nif (state.hasOwnProperty('brightness') && state.on)\n    text += ` ${state.brightness < 1 ? state.brightness * 100 : state.brightness}%`\nreturn {\n    fill: state.on ? 'yellow' : 'grey',\n    shape: 'dot',\n    text\n}",
        "debug": false,
        "x": 600,
        "y": 60,
        "wires": []
    },
    {
        "id": "a2adaa8d.513fa8",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "Light ID",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload.val.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1000,
        "wires": [
            [
                "7d505bde.df4254"
            ]
        ]
    },
    {
        "id": "bfd0dbf0.b44958",
        "type": "debug",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "TO FH HUB",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1490,
        "y": 960,
        "wires": []
    },
    {
        "id": "1b735eb2.af9271",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "\"pt:j1/mt:cmd/rt:dev/rn:zw/ad:1/sv:\"& thing.props.sv & \"/ad:\"& thing.props.address & \"_0\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"type\": thing.props.type,\t    \"serv\": thing.props.sv,\t    \"val_t\": thing.props.val_t,\t    \"val\": payload,\t    \"tags\": null,\t    \"props\": {},\t    \"ver\": \"1\",\t    \"corid\": \"\",\t    \"src\": \"node-red\",\t    \"ctime\": \"\",\t    \"uid\": \"\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 1000,
        "wires": [
            [
                "bfd0dbf0.b44958",
                "626ca02b.796b9"
            ]
        ]
    },
    {
        "id": "626ca02b.796b9",
        "type": "mqtt out",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "FH_MQTT",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "41e681f.e420d8",
        "x": 1490,
        "y": 1000,
        "wires": []
    },
    {
        "id": "466ec7c3.fe6948",
        "type": "mqtt in",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:app/rn:vinculum/ad:1",
        "qos": "2",
        "datatype": "json",
        "broker": "fa370de0.93e89",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 280,
        "y": 320,
        "wires": [
            [
                "8386f04b.e927a",
                "3e8ea1caee159345"
            ]
        ]
    },
    {
        "id": "8386f04b.e927a",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "FH functionality",
        "property": "payload.val.param.functionality",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "lighting",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 480,
        "y": 320,
        "wires": [
            [
                "d43d955ee16c8bb6",
                "c8ca9cb76832f227"
            ],
            [
                "12866398155563a5"
            ]
        ]
    },
    {
        "id": "02046d58b1fac856",
        "type": "Thing Trigger",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "nodeName": "",
        "triggerThing": {
            "path": "type",
            "type": "str",
            "value": "FH_Light"
        },
        "triggerState": null,
        "triggerTest": null,
        "ignoreInit": false,
        "payload": {
            "type": "state",
            "value": ""
        },
        "x": 770,
        "y": 1060,
        "wires": [
            [
                "1e4e617e.247a5f",
                "b0dc3ddb928b3d38"
            ]
        ]
    },
    {
        "id": "62c6f49a0d557e7c",
        "type": "mqtt in",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:app/rn:vinculum/ad:1",
        "qos": "0",
        "datatype": "json",
        "broker": "fa370de0.93e89",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 860,
        "y": 80,
        "wires": [
            [
                "f80c7b6e933d9c0a"
            ]
        ]
    },
    {
        "id": "f80c7b6e933d9c0a",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "property": "payload.val.component",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "hub",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 80,
        "wires": [
            [
                "2b3d5935238c0aee"
            ]
        ]
    },
    {
        "id": "2b3d5935238c0aee",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "property": "payload.val.param.current",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Mode",
                "vt": "global"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 80,
        "wires": [
            [
                "8139c30e4d435db3"
            ]
        ]
    },
    {
        "id": "8139c30e4d435db3",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Mode",
                "pt": "global",
                "to": "payload.val.param.current",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 80,
        "wires": [
            [
                "1e397062fcfbb0e9",
                "67977af33b66476a",
                "58f6bac2fa5e74b0"
            ]
        ]
    },
    {
        "id": "bd874529797813e0",
        "type": "mqtt out",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set Mode",
        "topic": "pt:j1/mt:cmd/rt:app/rn:vinculum/ad:1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "41e681f.e420d8",
        "x": 1960,
        "y": 100,
        "wires": []
    },
    {
        "id": "845f145271bd8708",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set Mode",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"ctime\": \"2019-09-04 17:36:31 +0200\",\t   \"props\": {},\t   \"resp_to\": \"pt:j1/mt:rsp/rt:app/rn:node-red/ad:flow1\",\t   \"serv\": \"vinculum\",\t   \"src\": \"node-red\",\t   \"tags\": [],\t   \"type\": \"cmd.pd7.request\",\t   \"uid\": \"09936904-8ec8-4280-9285-945d77bd0a74\",\t   \"val\": {\t       \"cmd\": \"set\",\t       \"component\": \"mode\",\t       \"id\": mode,\t       \"param\": {},\t       \"requestId\": 1\t    },\t   \"val_t\": \"object\",\t   \"ver\": \"1\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 100,
        "wires": [
            [
                "bd874529797813e0"
            ]
        ]
    },
    {
        "id": "3dbb5ab41be489d2",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "away",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "away",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 60,
        "wires": [
            [
                "845f145271bd8708"
            ]
        ]
    },
    {
        "id": "22fcc7e745cde964",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "home",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "home",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 100,
        "wires": [
            [
                "845f145271bd8708"
            ]
        ]
    },
    {
        "id": "bc1904772d51db44",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "sleep",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "sleep",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 140,
        "wires": [
            [
                "845f145271bd8708"
            ]
        ]
    },
    {
        "id": "6626af8888151004",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set AWAY",
        "links": [
            "fc4fe81e.444628"
        ],
        "x": 1535,
        "y": 60,
        "wires": [
            [
                "3dbb5ab41be489d2"
            ]
        ]
    },
    {
        "id": "14ac8f4a0be280af",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set HOME",
        "links": [
            "247260f.c82dca"
        ],
        "x": 1535,
        "y": 100,
        "wires": [
            [
                "22fcc7e745cde964"
            ]
        ]
    },
    {
        "id": "ad0eef5605ed22c5",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set SLEEP",
        "links": [
            "c9b7d9c6.2c46e8"
        ],
        "x": 1535,
        "y": 140,
        "wires": [
            [
                "bc1904772d51db44"
            ]
        ]
    },
    {
        "id": "c8ca9cb76832f227",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "FH_Lights",
        "mode": "link",
        "links": [
            "b2659103b136eee6",
            "067ea8171678abb3"
        ],
        "x": 805,
        "y": 320,
        "wires": []
    },
    {
        "id": "b2659103b136eee6",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "FH_Lights",
        "links": [
            "c8ca9cb76832f227"
        ],
        "x": 415,
        "y": 1000,
        "wires": [
            [
                "a2adaa8d.513fa8"
            ]
        ]
    },
    {
        "id": "1e397062fcfbb0e9",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "FH_Mode_Set",
        "mode": "link",
        "links": [
            "8456ad2c.7b492"
        ],
        "x": 1415,
        "y": 80,
        "wires": []
    },
    {
        "id": "647921f4d9a2d950",
        "type": "Thing Get",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "nodeName": "Get Ligth Status",
        "name": "",
        "props": [
            {
                "msgProp": "payload",
                "thingProp": "state",
                "path": "power"
            }
        ],
        "x": 1180,
        "y": 1500,
        "wires": [
            [
                "aecda74e6fdd1ac0"
            ]
        ]
    },
    {
        "id": "5361f5befcd5a5d7",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Office_Light",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Office_Light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1600,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "8dba580b98a6ed90",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Hallway",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Hallway",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1400,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "d483447b72658a37",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "kjøkken",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kjøkken",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1360,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "3406c60a489c0597",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "stue",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "stue",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1320,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "609827799f3da3b7",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "bathroom",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "bathroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1480,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "bcb4101b90fdf099",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "closet",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "closet",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 1280,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "be16e854cc354bd1",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "laundry",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "laundry",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1560,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "68b194f85a1ef7a0",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1520,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "c39c0770f61b61c7",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "bedroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1440,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "462b887551d30bf4",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "karinaoffice",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "karinaoffice",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1640,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "80b9f8ea0180e4ee",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Set_Lights",
        "links": [
            "d3afa1ea39895105",
            "87d1ce3c19202d34",
            "21c80566.d9201a",
            "e2d7c57f5c31b977",
            "6e1a0143.f51f8",
            "4c1858d290c94d44",
            "99bb192c.9613d8",
            "e4bdaedd613068e7",
            "8bc1a1a00cecc7a6",
            "1deeab2413b7a99b"
        ],
        "x": 305,
        "y": 1440,
        "wires": [
            [
                "13a252ff538d8be3"
            ]
        ]
    },
    {
        "id": "76142807ba013dd5",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "walkingCloset",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "KJØKKEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "S-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "BA-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "K-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "laundry",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "O-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "K-O-LYS",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 9,
        "x": 710,
        "y": 1440,
        "wires": [
            [
                "bcb4101b90fdf099"
            ],
            [
                "d483447b72658a37",
                "3406c60a489c0597"
            ],
            [
                "8dba580b98a6ed90"
            ],
            [
                "c39c0770f61b61c7"
            ],
            [
                "609827799f3da3b7"
            ],
            [
                "68b194f85a1ef7a0"
            ],
            [
                "be16e854cc354bd1"
            ],
            [
                "5361f5befcd5a5d7"
            ],
            [
                "462b887551d30bf4"
            ]
        ]
    },
    {
        "id": "80e36239586e7edc",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "Light_Changed",
        "mode": "link",
        "links": [
            "d8c7329f354642ba",
            "ee3e825fcad82993"
        ],
        "x": 1375,
        "y": 1060,
        "wires": []
    },
    {
        "id": "b0dc3ddb928b3d38",
        "type": "delay",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "",
        "pauseType": "timed",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1010,
        "y": 1060,
        "wires": [
            [
                "80e36239586e7edc"
            ]
        ]
    },
    {
        "id": "3e8ea1caee159345",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "External FH ( HUE)",
        "property": "payload.val.param.type.subtype",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "presence",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 480,
        "y": 380,
        "wires": [
            [
                "e7fd9780fcb41f6a"
            ]
        ]
    },
    {
        "id": "e7fd9780fcb41f6a",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.val.param.param.presence",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 420,
        "wires": [
            [
                "2998be5081486cc3"
            ]
        ]
    },
    {
        "id": "2998be5081486cc3",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "HUE PRESENCE",
        "mode": "link",
        "links": [
            "77e202e1f7cb4c98",
            "885fc820467d8739"
        ],
        "x": 625,
        "y": 420,
        "wires": []
    },
    {
        "id": "67977af33b66476a",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "",
        "mode": "link",
        "links": [
            "469534ab7d1a6e67"
        ],
        "x": 1885,
        "y": 160,
        "wires": []
    },
    {
        "id": "cd50f90b06a6709f",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "has state",
        "property": "state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "nnull"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 1500,
        "wires": [
            [
                "042f81d8d844995b"
            ],
            [
                "3b3de3175ed44aa8",
                "a51ca0b20d32143c"
            ]
        ]
    },
    {
        "id": "3b3de3175ed44aa8",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "diff?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "state",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "a51ca0b20d32143c",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Set State",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1760,
        "y": 1500,
        "wires": [
            [
                "29c85b88.abdbe4"
            ]
        ]
    },
    {
        "id": "12866398155563a5",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "",
        "property": "payload.val.param.type.subtype",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "presence",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "20f007f8bd0487de",
        "type": "mqtt in",
        "z": "4edd86b6.331768",
        "g": "c9556be6f9a1107c",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:dev/rn:zw/ad:1/sv:sensor_presence/#",
        "qos": "2",
        "datatype": "json",
        "broker": "fa370de0.93e89",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 660,
        "y": 680,
        "wires": [
            [
                "cde6e0729ad1a4e1"
            ]
        ]
    },
    {
        "id": "ff1fc7e44a6ee4fb",
        "type": "Thing Update",
        "z": "4edd86b6.331768",
        "g": "c9556be6f9a1107c",
        "nodeName": "",
        "name": "",
        "thingType": "FH_movement",
        "debug": true,
        "updates": [
            {
                "key": "movement",
                "type": "msg",
                "val": "payload.val"
            }
        ],
        "x": 1020,
        "y": 680,
        "wires": []
    },
    {
        "id": "cde6e0729ad1a4e1",
        "type": "string",
        "z": "4edd86b6.331768",
        "g": "c9556be6f9a1107c",
        "name": "",
        "methods": [
            {
                "name": "getRightMost",
                "params": [
                    {
                        "type": "str",
                        "value": ":"
                    }
                ]
            },
            {
                "name": "getLeftMost",
                "params": [
                    {
                        "type": "str",
                        "value": "_"
                    }
                ]
            }
        ],
        "prop": "topic",
        "propout": "topic",
        "object": "msg",
        "objectout": "msg",
        "x": 810,
        "y": 680,
        "wires": [
            [
                "ff1fc7e44a6ee4fb"
            ]
        ]
    },
    {
        "id": "09e0db159eb1f162",
        "type": "Thing Setup",
        "z": "4edd86b6.331768",
        "g": "c9556be6f9a1107c",
        "thingType": "FH_movement",
        "things": [
            {
                "name": "m_basement",
                "id": "20",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "m_basement_stairs",
                "id": "36",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "m_wardrobe",
                "id": "4",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "m_basement2",
                "id": "16",
                "props": {},
                "state": [],
                "commands": [],
                "children": []
            }
        ],
        "state": [
            {
                "key": "movement",
                "value": false
            }
        ],
        "commands": [],
        "statusFunction": "if (state.movement === undefined) return null\r\n\r\n\r\nreturn {\r\n    fill: state.movement == true ? 'blue' : 'grey',\r\n    shape: 'dot'\r\n}",
        "debug": false,
        "x": 1240,
        "y": 680,
        "wires": []
    },
    {
        "id": "9d532b5d4b314b22",
        "type": "Thing Trigger",
        "z": "4edd86b6.331768",
        "g": "c9556be6f9a1107c",
        "nodeName": "FH_movement",
        "triggerThing": {
            "path": "type",
            "type": "str",
            "value": "FH_movement"
        },
        "triggerState": "state.movement",
        "triggerTest": null,
        "ignoreInit": true,
        "payload": {
            "type": "state",
            "value": "movement"
        },
        "x": 640,
        "y": 760,
        "wires": [
            [
                "fe2026718ea2802c"
            ]
        ]
    },
    {
        "id": "dc179d3a7d67d467",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "c9556be6f9a1107c",
        "name": "FH_Movement",
        "mode": "link",
        "links": [
            "f66e7e24.aca9d",
            "1329b56.bea634b",
            "598da3c7e27395f1"
        ],
        "x": 935,
        "y": 760,
        "wires": []
    },
    {
        "id": "13a252ff538d8be3",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 1440,
        "wires": [
            [
                "c446fcab5b684e27"
            ]
        ]
    },
    {
        "id": "aecda74e6fdd1ac0",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "cnvrt",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 1500,
        "wires": [
            [
                "cd50f90b06a6709f"
            ]
        ]
    },
    {
        "id": "042f81d8d844995b",
        "type": "function",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "invert",
        "func": "msg.payload = !msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1630,
        "y": 1460,
        "wires": [
            [
                "29c85b88.abdbe4"
            ]
        ]
    },
    {
        "id": "0342c455be2f1e29",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "set_Lights_buypass",
        "links": [
            "c2a6540cf2006146"
        ],
        "x": 325,
        "y": 1360,
        "wires": [
            [
                "61261982c883c502"
            ]
        ]
    },
    {
        "id": "61261982c883c502",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1360,
        "wires": [
            [
                "76142807ba013dd5"
            ]
        ]
    },
    {
        "id": "d43d955ee16c8bb6",
        "type": "debug",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "debug 10",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 280,
        "wires": []
    },
    {
        "id": "c446fcab5b684e27",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 1440,
        "wires": [
            [
                "76142807ba013dd5"
            ]
        ]
    },
    {
        "id": "49bd244405597acf",
        "type": "debug",
        "z": "4edd86b6.331768",
        "name": "debug 20",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1420,
        "y": 420,
        "wires": []
    },
    {
        "id": "41243c435575588e",
        "type": "catch",
        "z": "4edd86b6.331768",
        "name": "Unknown Things",
        "scope": null,
        "uncaught": false,
        "x": 1190,
        "y": 460,
        "wires": [
            [
                "1cbabb18dbf7c7e7",
                "49bd244405597acf"
            ]
        ]
    },
    {
        "id": "1cbabb18dbf7c7e7",
        "type": "function",
        "z": "4edd86b6.331768",
        "name": "save unknown for later check",
        "func": "\n\nvar id = msg.topic;\nflow.set([\"unknown\"+id], msg)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1470,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "bac9e5674db2f1a6",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 140,
        "wires": [
            [
                "f3d2f0e8d93cd932"
            ]
        ]
    },
    {
        "id": "f3d2f0e8d93cd932",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "link out 9",
        "mode": "link",
        "links": [
            "56d97603.6cdfe8"
        ],
        "x": 1415,
        "y": 140,
        "wires": []
    },
    {
        "id": "58f6bac2fa5e74b0",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 140,
        "wires": [
            [
                "bac9e5674db2f1a6"
            ]
        ]
    },
    {
        "id": "fe2026718ea2802c",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "c9556be6f9a1107c",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 830,
        "y": 760,
        "wires": [
            [
                "dc179d3a7d67d467"
            ]
        ]
    },
    {
        "id": "170b32ac93df9d1d",
        "type": "mqtt in",
        "z": "4edd86b6.331768",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:cmd/rt:dev/rn:zw/ad:1/#",
        "qos": "2",
        "datatype": "json",
        "broker": "fa370de0.93e89",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 1520,
        "y": 320,
        "wires": [
            [
                "8e03b187d7d7eacc"
            ]
        ]
    },
    {
        "id": "8e03b187d7d7eacc",
        "type": "debug",
        "z": "4edd86b6.331768",
        "name": "debug 33",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1750,
        "y": 300,
        "wires": []
    },
    {
        "id": "3ddec9a5bae9d4d3",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "is val_t !null",
        "property": "thing.props.dimable",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 940,
        "wires": [
            [
                "2fbbab333e453c76"
            ],
            [
                "55bae98b4d5dea93"
            ]
        ]
    },
    {
        "id": "55bae98b4d5dea93",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "set bool",
        "rules": [
            {
                "t": "set",
                "p": "thing.props.val_t",
                "pt": "msg",
                "to": "bool",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "thing.props.type",
                "pt": "msg",
                "to": "cmd.binary.set",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 980,
        "wires": [
            [
                "1b735eb2.af9271"
            ]
        ]
    },
    {
        "id": "2fbbab333e453c76",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "set int",
        "rules": [
            {
                "t": "set",
                "p": "thing.props.val_t",
                "pt": "msg",
                "to": "int",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "thing.props.type",
                "pt": "msg",
                "to": "cmd.lvl.set",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 920,
        "wires": [
            [
                "1b735eb2.af9271"
            ]
        ]
    },
    {
        "id": "33023509d0315b45",
        "type": "function",
        "z": "4edd86b6.331768",
        "name": "function 3",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "4c1858d290c94d44",
        "type": "link out",
        "z": "a9a601907d96eb09",
        "name": "",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee"
        ],
        "x": 1985,
        "y": 340,
        "wires": []
    },
    {
        "id": "19489cd49c8e05e3",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "RESET Soverom",
        "links": [
            "f7029354.44404",
            "02a8522e3dc7b70e"
        ],
        "x": 1225,
        "y": 400,
        "wires": [
            [
                "5ba4b6c089aaea41"
            ]
        ]
    },
    {
        "id": "e1e3a6e5d53d0bbb",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "s",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1450,
        "y": 380,
        "wires": [
            [
                "5ba4b6c089aaea41",
                "694353d781c790bc"
            ]
        ]
    },
    {
        "id": "c840b6850a9f9370",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "Batroom_Movement",
        "links": [
            "455faa8d.6c9aa4"
        ],
        "x": 375,
        "y": 460,
        "wires": [
            [
                "2cd7beb6601eb278"
            ]
        ]
    },
    {
        "id": "ea645748ca3e406e",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "Bathroom_Door",
        "links": [
            "dc7a9dbe.e7065"
        ],
        "x": 445,
        "y": 240,
        "wires": [
            [
                "047237403aaab33f"
            ]
        ]
    },
    {
        "id": "5ba4b6c089aaea41",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 420,
        "wires": [
            [
                "e1e3a6e5d53d0bbb",
                "746a150af438e496"
            ]
        ]
    },
    {
        "id": "857363e3950966cd",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "IsMovement",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 380,
        "wires": [
            [
                "2e7006b6bbb0568e",
                "38557f4408523618",
                "746a150af438e496"
            ],
            []
        ]
    },
    {
        "id": "2ebf80ed57b96fc3",
        "type": "time-range-switch",
        "z": "a9a601907d96eb09",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1190,
        "y": 140,
        "wires": [
            [
                "e06c1ce2758c7f85"
            ],
            [
                "f6c1c04e41814de2"
            ]
        ]
    },
    {
        "id": "f6c1c04e41814de2",
        "type": "time-range-switch",
        "z": "a9a601907d96eb09",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1190,
        "y": 100,
        "wires": [
            [
                "431b24da5c1cf8a9"
            ],
            [
                "6e23ce00bcce09a8"
            ]
        ]
    },
    {
        "id": "e06c1ce2758c7f85",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Day",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 160,
        "wires": [
            [
                "dd476929bdbf7621"
            ]
        ]
    },
    {
        "id": "431b24da5c1cf8a9",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Evening",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "50",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 80,
        "wires": [
            [
                "dd476929bdbf7621"
            ]
        ]
    },
    {
        "id": "6e23ce00bcce09a8",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Night",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "20",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 120,
        "wires": [
            [
                "dd476929bdbf7621"
            ]
        ]
    },
    {
        "id": "dd476929bdbf7621",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1290,
        "y": 320,
        "wires": [
            [
                "b6eaa4d60d5e1787",
                "5ba4b6c089aaea41"
            ],
            [
                "e1e3a6e5d53d0bbb"
            ]
        ]
    },
    {
        "id": "2cd7beb6601eb278",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "BA-Presence",
        "rules": [
            {
                "t": "set",
                "p": "BA-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 458,
        "wires": [
            [
                "857363e3950966cd"
            ]
        ]
    },
    {
        "id": "047237403aaab33f",
        "type": "ui_switch",
        "z": "a9a601907d96eb09",
        "name": "BAD",
        "label": "DOOR",
        "tooltip": "",
        "group": "9f7c23e0bf86f5c3",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-unlock",
        "oncolor": "red",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-lock",
        "offcolor": "green",
        "animate": true,
        "className": "",
        "x": 610,
        "y": 240,
        "wires": [
            [
                "b18f28142ec94046",
                "fdeff345ea20f26a"
            ]
        ]
    },
    {
        "id": "38557f4408523618",
        "type": "delay",
        "z": "a9a601907d96eb09",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "15",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 2,
        "x": 880,
        "y": 298,
        "wires": [
            [
                "8f0dc47beeedb402"
            ],
            [
                "e383b1b84bc9dbd0",
                "5ba4b6c089aaea41"
            ]
        ]
    },
    {
        "id": "e383b1b84bc9dbd0",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "isOpen",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 900,
        "y": 260,
        "wires": [
            [
                "8f0dc47beeedb402"
            ],
            [
                "dd476929bdbf7621"
            ]
        ]
    },
    {
        "id": "b18f28142ec94046",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "dor_open",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "b6eaa4d60d5e1787",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "set percent",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "percent_bathroom",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 320,
        "wires": [
            [
                "02a8522e3dc7b70e",
                "759977ced6b96acf"
            ]
        ]
    },
    {
        "id": "02a8522e3dc7b70e",
        "type": "link out",
        "z": "a9a601907d96eb09",
        "name": "Reset",
        "mode": "link",
        "links": [
            "19489cd49c8e05e3"
        ],
        "x": 1656,
        "y": 282,
        "wires": []
    },
    {
        "id": "759977ced6b96acf",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "bathroom ON",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "BA-LYS",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "percent_bathroom",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 340,
        "wires": [
            [
                "4c1858d290c94d44"
            ]
        ]
    },
    {
        "id": "694353d781c790bc",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "bathroom OFF",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "BA-LYS",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 380,
        "wires": [
            [
                "4c1858d290c94d44"
            ]
        ]
    },
    {
        "id": "3c9fa09a91e97b50",
        "type": "inject",
        "z": "a9a601907d96eb09",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 1200,
        "y": 60,
        "wires": [
            [
                "431b24da5c1cf8a9"
            ]
        ]
    },
    {
        "id": "cd274e19cc986be4",
        "type": "Thing List",
        "z": "a9a601907d96eb09",
        "nodeName": "Basement",
        "outputType": "individual",
        "outputValue": "thing",
        "property": "payload",
        "discardInput": false,
        "rules": [
            {
                "compare": "eq",
                "thingProp": "name",
                "value": "bathroom",
                "type": "str"
            }
        ],
        "x": 940,
        "y": 120,
        "wires": [
            [
                "3b6d53496769a8fe"
            ]
        ]
    },
    {
        "id": "3b6d53496769a8fe",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "percent_bathroom",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "payload.state.dimlevel",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "isOn",
                "pt": "msg",
                "to": "payload.state.power",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "storeState",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 160,
        "wires": [
            [
                "86fd75a304fb4b9a"
            ]
        ]
    },
    {
        "id": "86fd75a304fb4b9a",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "isOn",
        "property": "isOn",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1150,
        "y": 200,
        "wires": [
            [
                "dd476929bdbf7621"
            ],
            [
                "2ebf80ed57b96fc3"
            ]
        ]
    },
    {
        "id": "8f0dc47beeedb402",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "storeState",
        "rules": [
            {
                "t": "set",
                "p": "storeState",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 80,
        "wires": [
            [
                "cd274e19cc986be4"
            ]
        ]
    },
    {
        "id": "8bc54f2204919c5d",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "!BA-Presence",
        "property": "BA-Presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1060,
        "y": 500,
        "wires": [
            [
                "38557f4408523618"
            ],
            [
                "746a150af438e496"
            ]
        ]
    },
    {
        "id": "746a150af438e496",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1050,
        "y": 560,
        "wires": [
            [
                "8bc54f2204919c5d"
            ]
        ]
    },
    {
        "id": "b9871d60b2403b80",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "ON/OFF",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 820,
        "y": 500,
        "wires": [
            [
                "746a150af438e496",
                "857363e3950966cd"
            ],
            [
                "8bc54f2204919c5d"
            ]
        ]
    },
    {
        "id": "1b9c3b1cd9cc95a7",
        "type": "inject",
        "z": "a9a601907d96eb09",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 680,
        "y": 600,
        "wires": [
            [
                "b9871d60b2403b80"
            ]
        ]
    },
    {
        "id": "312a63bb802d17ba",
        "type": "inject",
        "z": "a9a601907d96eb09",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 670,
        "y": 660,
        "wires": [
            [
                "b9871d60b2403b80"
            ]
        ]
    },
    {
        "id": "fdeff345ea20f26a",
        "type": "rbe",
        "z": "a9a601907d96eb09",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 570,
        "y": 320,
        "wires": [
            [
                "857363e3950966cd"
            ]
        ]
    },
    {
        "id": "d9f59e6e05f7c5b4",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "link in 6",
        "links": [
            "ca84a21742d3e0cd"
        ],
        "x": 525,
        "y": 500,
        "wires": [
            [
                "b9871d60b2403b80"
            ]
        ]
    },
    {
        "id": "4e6013de2aa5c07f",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 1252,
        "y": 300,
        "wires": []
    },
    {
        "id": "91184b0e10053eeb",
        "type": "aedes broker",
        "z": "021cd6ea3e90db93",
        "name": "Arduino",
        "mqtt_port": "1884",
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "persistence_bind": "memory",
        "dburl": "",
        "usetls": false,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "cc902c65355fc2a0"
            ],
            []
        ]
    },
    {
        "id": "bbb9f86114d07be5",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "stairs/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 340,
        "y": 460,
        "wires": [
            [
                "35663b0957414f64"
            ]
        ]
    },
    {
        "id": "1a0e8a5610faf0f6",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2305,
        "y": 460,
        "wires": []
    },
    {
        "id": "930f669a18eeef18",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "6",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1980,
        "y": 460,
        "wires": [
            [
                "1a0e8a5610faf0f6",
                "1a3156237b63c2bb"
            ]
        ]
    },
    {
        "id": "4cd4b3b209ffa75f",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "lst_value",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 460,
        "wires": [
            [
                "fee5b724a8ccf193"
            ]
        ]
    },
    {
        "id": "fee5b724a8ccf193",
        "type": "trigger",
        "z": "021cd6ea3e90db93",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "3",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1360,
        "y": 460,
        "wires": [
            [
                "a64baee919cee0e6"
            ]
        ]
    },
    {
        "id": "a64baee919cee0e6",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "U || D",
        "property": "lst_value",
        "propertyType": "flow",
        "rules": [
            {
                "t": "btwn",
                "v": "45",
                "vt": "num",
                "v2": "90",
                "v2t": "num"
            },
            {
                "t": "lte",
                "v": "40",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1550,
        "y": 460,
        "wires": [
            [
                "5a875997eb40043b"
            ],
            [
                "ec2b0c7452e7b0f2"
            ]
        ]
    },
    {
        "id": "ff2788661afb21da",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "5a875997eb40043b"
            ]
        ]
    },
    {
        "id": "7678f144c5148af9",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload.client.connected",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 300,
        "wires": [
            [
                "0a16bcbd068a4386"
            ],
            [
                "051636d7f5e1c145"
            ]
        ]
    },
    {
        "id": "cc902c65355fc2a0",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 540,
        "y": 300,
        "wires": [
            [
                "af83160c4353fe50"
            ]
        ]
    },
    {
        "id": "83665e5eeb0c9dd4",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "is between",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "75",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 850,
        "y": 460,
        "wires": [
            [
                "4cd4b3b209ffa75f"
            ]
        ]
    },
    {
        "id": "af83160c4353fe50",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "clientReady",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "clientDisconnect",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 300,
        "wires": [
            [
                "7678f144c5148af9"
            ],
            [
                "7678f144c5148af9"
            ]
        ]
    },
    {
        "id": "0a16bcbd068a4386",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.client.id & \"have been Connected\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 260,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "051636d7f5e1c145",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.client.id & \"have been disconnected\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 300,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "5a875997eb40043b",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "going upstairs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "up",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 440,
        "wires": [
            [
                "930f669a18eeef18"
            ]
        ]
    },
    {
        "id": "ec2b0c7452e7b0f2",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "going upstairs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "up",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 480,
        "wires": [
            [
                "930f669a18eeef18"
            ]
        ]
    },
    {
        "id": "1a3156237b63c2bb",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let up_count = flow.get(\"up_count\") || 0\nlet down_count = flow.get(\"down_count\") || 0\n\nif (msg.up == true) {\n    up_count++\n    down_count--;\n} else {\n    down_count++;\n\n    up_count--\n}\n\nflow.set(\"up_count\", up_count);\nflow.set(\"down_count\", down_count);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2340,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "35663b0957414f64",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let last = context.get(\"last\") | 0;\n\nlet count = parseInt(msg.payload) + parseInt(last);\n\n\nmsg.payload = parseInt(count / 2);\ncontext.set(\"last\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 460,
        "wires": [
            [
                "1630e5498522a364"
            ]
        ]
    },
    {
        "id": "1630e5498522a364",
        "type": "calculate",
        "z": "021cd6ea3e90db93",
        "name": "",
        "pauseType": "timed",
        "calculation": "median",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "x": 680,
        "y": 460,
        "wires": [
            [
                "83665e5eeb0c9dd4"
            ]
        ]
    },
    {
        "id": "b7cae4186e887d19",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "up_count",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1790,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "a1d7f615b671ac4d",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1600,
        "y": 340,
        "wires": [
            [
                "b7cae4186e887d19"
            ]
        ]
    },
    {
        "id": "4b34abe0a4611149",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "up_count",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "b9e501c4f7f1e14b",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1610,
        "y": 300,
        "wires": [
            [
                "4b34abe0a4611149"
            ]
        ]
    },
    {
        "id": "df80adcae9312ebf",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "stairs/debug",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 330,
        "y": 680,
        "wires": [
            [
                "6801af662fb02bd3"
            ]
        ]
    },
    {
        "id": "23e030a9e19f898b",
        "type": "debug",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "DEBUG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.distance",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 1420,
        "wires": []
    },
    {
        "id": "8981156258330374",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "Bluetooth presence",
        "topic": "espresense/rooms/stair",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 590,
        "y": 1420,
        "wires": [
            [
                "711accb21e6923cb"
            ]
        ]
    },
    {
        "id": "711accb21e6923cb",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 770,
        "y": 1420,
        "wires": [
            [
                "8a70081184fd9d2f",
                "d6258c7d724e2714",
                "915e541148107f9f"
            ]
        ]
    },
    {
        "id": "8cd527805b016174",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "func": "\nvar Devices = flow.get(\"Devices\")|| {}\nlet id = msg.payload.id\nDevices[id] = msg.payload.mac\n\n\n      \n\n\n\nflow.set(\"Devices\", Devices)\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "8a70081184fd9d2f",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 1480,
        "wires": [
            [
                "8cd527805b016174"
            ]
        ]
    },
    {
        "id": "d6258c7d724e2714",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "property": "payload.distance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "0.5",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 950,
        "y": 1420,
        "wires": [
            [
                "277f89239aa44fc7"
            ]
        ]
    },
    {
        "id": "915e541148107f9f",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "mac adress",
        "property": "msg.payload.id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "exp:20",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1090,
        "y": 1480,
        "wires": [
            [
                "7079d27f6152cac0",
                "23e030a9e19f898b"
            ]
        ]
    },
    {
        "id": "7079d27f6152cac0",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "Close",
        "property": "payload.distance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 1540,
        "wires": [
            [
                "ae12affc3eb4dc45"
            ]
        ]
    },
    {
        "id": "ae12affc3eb4dc45",
        "type": "trigger",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "op1": "Øivind are in the office",
        "op2": "Øivind are not in the office",
        "op1type": "str",
        "op2type": "str",
        "duration": "15",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1490,
        "y": 1540,
        "wires": [
            [
                "1f50ac0d5a21f7ce",
                "f56836e5626dc00d"
            ]
        ]
    },
    {
        "id": "1f50ac0d5a21f7ce",
        "type": "debug",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "DEBUG",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1480,
        "y": 1480,
        "wires": []
    },
    {
        "id": "19242790ba73e3ef",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2025,
        "y": 1360,
        "wires": []
    },
    {
        "id": "f56836e5626dc00d",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1773,
        "y": 1360,
        "wires": [
            [
                "19242790ba73e3ef",
                "a84ac6f3a352ff80"
            ]
        ]
    },
    {
        "id": "277f89239aa44fc7",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "d": true,
        "g": "9bb3180dbbe92370",
        "name": "",
        "func": "\nvar Devices = flow.get(\"Close\")|| {}\nlet id = msg.payload.id\nDevices[id] = msg.payload.mac\n\n\n      \n\n\n\nflow.set(\"Close\", Devices)\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "6801af662fb02bd3",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "stairs/debug",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "stairs/number/staircounter/state",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 680,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ee9a5ebf536be5a1",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 813,
        "y": 1400,
        "wires": [
            [
                "3d8eb5f097ce5a24"
            ]
        ]
    },
    {
        "id": "db80c49b2d23831b",
        "type": "debug",
        "z": "021cd6ea3e90db93",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1313,
        "y": 1460,
        "wires": []
    },
    {
        "id": "3d8eb5f097ce5a24",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "stairCount",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"There are \" & $flowContext(\"stairCount\") & \"Downstairs\"\t ",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1053,
        "y": 1400,
        "wires": [
            [
                "db80c49b2d23831b",
                "f56836e5626dc00d"
            ]
        ]
    },
    {
        "id": "a84ac6f3a352ff80",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "662ff2faf119d193"
        ],
        "x": 2018,
        "y": 1320,
        "wires": []
    },
    {
        "id": "b526c7e6f3d3f11a",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "hall/debug",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 300,
        "y": 620,
        "wires": [
            [
                "8ba3f0a0c27b8578"
            ]
        ]
    },
    {
        "id": "52b90438422286d4",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "people",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\"there are \" & payload & \"people in the house\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 420,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "54f2cb1467a0b769",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "person",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\"there are \" & payload & \"person in the house\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 380,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "d499806d22f9fbb3",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 940,
        "y": 400,
        "wires": [
            [
                "54f2cb1467a0b769"
            ],
            [
                "52b90438422286d4"
            ]
        ]
    },
    {
        "id": "85874d19114f788d",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "peopleUpstairs",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 840,
        "wires": [
            [
                "c7221f2791289568"
            ]
        ]
    },
    {
        "id": "121bdd895c2f1815",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let value = msg.payload;\nlet upstairs = global.get(\"peopleUpstairs\");\nif(value == true){\n\nupstairs ++;\n\n}else if (value == false){\n    upstairs --;\n}\n\nglobal.set(\"peopleUpstairs\", upstairs);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 840,
        "wires": [
            [
                "85874d19114f788d"
            ]
        ]
    },
    {
        "id": "9d549e13d9b28066",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 920,
        "wires": [
            [
                "85874d19114f788d"
            ]
        ]
    },
    {
        "id": "7af2ddb53f4a4443",
        "type": "link in",
        "z": "021cd6ea3e90db93",
        "name": "PeopleCount",
        "links": [],
        "x": 405,
        "y": 840,
        "wires": [
            [
                "121bdd895c2f1815"
            ]
        ]
    },
    {
        "id": "888d7786eb85ecde",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "state",
        "topic": "hall/number/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 390,
        "y": 980,
        "wires": [
            [
                "9d549e13d9b28066"
            ]
        ]
    },
    {
        "id": "c7221f2791289568",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let down = global.get(\"peopleDownstairs\") || 0 ;\nlet up = global.get(\"peopleUpstairs\");\nlet total = down + up;\n\nif(down == 0){\n    global.set(\"peopleDownstairs\", down)\n}\n\n\nmsg.payload = down;\nmsg.topic = \"mirror/downstairs\";\nnode.send(msg);\n\nmsg.payload = up;\nmsg.topic = \"mirror/upstairs\";\nnode.send(msg);\n\nmsg.payload = total;\nmsg.topic = \"mirror/persons\";\nnode.send(msg);\nvar message = {};\nif(total >2){\n    msg.payload = total -2;\n    msg.topic = \"mirror/guests\";\n    node.send(msg);\n    // message.text = \"There are \" + msg.payload + \" Guests \";\n    if(msg.payload == 1 ){\n        message.text = \"There are \" + msg.payload + \" Guest \";\n    }\n   \n    node.send([null, message]);\n}else{\n    msg.payload = 0;\n    msg.topic = \"mirror/guests\";\n    node.send(msg);\n \n    // message.text = \"There are NO Guests \"\n    // node.send([null, message]);\n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 840,
        "wires": [
            [
                "9732e4475cdba75e"
            ],
            [
                "357cd3912cb4b9bf"
            ]
        ]
    },
    {
        "id": "e22089f94174d570",
        "type": "link in",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "Update Mirror",
        "links": [
            "328ec247.9e5eee"
        ],
        "x": 875,
        "y": 800,
        "wires": [
            [
                "c7221f2791289568"
            ]
        ]
    },
    {
        "id": "9732e4475cdba75e",
        "type": "json",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1190,
        "y": 840,
        "wires": [
            [
                "3947729dea97def1",
                "86b26471abf46099"
            ]
        ]
    },
    {
        "id": "357cd3912cb4b9bf",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "278706f49dd302bf"
        ],
        "x": 1165,
        "y": 900,
        "wires": []
    },
    {
        "id": "8de8993ab6bbc967",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "(\t   $upstairs :=  (\t       $globalContext(\"peopleUpstairs\") + $globalContext(\"peopleDownstairs\") \t   );\t   $upstairs = 1 ? \"there are \" &$upstairs&\t\" Person at Home\" :  $upstairs = 0 ? \"There are no one home\" :  $upstairs > 2 ? \"There are \" &\t   ($upstairs - 2) & \" Guests\":\t\"there are \" & $upstairs &\" Persons at Home\"\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 800,
        "wires": [
            [
                "f803dc8c9371fd5f"
            ]
        ]
    },
    {
        "id": "3947729dea97def1",
        "type": "mqtt out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5d47569e31e42f22",
        "x": 1370,
        "y": 840,
        "wires": []
    },
    {
        "id": "f803dc8c9371fd5f",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "662ff2faf119d193"
        ],
        "x": 1675,
        "y": 800,
        "wires": []
    },
    {
        "id": "ff116dfe744534de",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "hall/number/hallcounter/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 300,
        "y": 920,
        "wires": [
            [
                "9d549e13d9b28066"
            ]
        ]
    },
    {
        "id": "86b26471abf46099",
        "type": "trigger",
        "z": "021cd6ea3e90db93",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "250",
        "extend": true,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1400,
        "y": 800,
        "wires": [
            [
                "8de8993ab6bbc967"
            ]
        ]
    },
    {
        "id": "8ba3f0a0c27b8578",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "function 1",
        "func": "msg.payload = msg.payload.toString()\nlet hallDebug = flow.get(\"hallDebug\") || [];\n\nhallDebug.push(msg.payload);\n\nflow.set(\"hallDebug\", hallDebug);\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "7410ca5f5aabab86",
        "type": "ui_button",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "name": "",
        "group": "69a63d21.a935c4",
        "order": 11,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 970,
        "y": 380,
        "wires": [
            [
                "2a4c81b9f29cdd45"
            ]
        ]
    },
    {
        "id": "c55928ec8bab12af",
        "type": "ambi-temp-mode",
        "z": "6df0226504208616",
        "oauthClient": "0b617d79931e935c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "value": "22",
        "x": 2770,
        "y": 600,
        "wires": []
    },
    {
        "id": "e4533adb51b5c363",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "Week",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 330,
        "y": 260,
        "wires": [
            [
                "3f24f1034c760819",
                "d819b5d04aef9a18"
            ]
        ]
    },
    {
        "id": "2bf80c0dd1a3633a",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "vacation",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 690,
        "y": 480,
        "wires": [
            [
                "1143fa19d1277481",
                "96eb452a3a0e0ab2"
            ],
            [
                "9c802a5c40bcec2d",
                "e9a5c977e13d6b89"
            ],
            [
                "e9a5c977e13d6b89"
            ],
            [
                "6bed44df9a96c7f5"
            ]
        ]
    },
    {
        "id": "0e867a2e21130f1a",
        "type": "ambi-power-off",
        "z": "6df0226504208616",
        "oauthClient": "0b617d79931e935c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "x": 2400,
        "y": 740,
        "wires": []
    },
    {
        "id": "469534ab7d1a6e67",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "Set Temperature",
        "links": [
            "c9b7d9c6.2c46e8",
            "67977af33b66476a"
        ],
        "x": 265,
        "y": 480,
        "wires": [
            [
                "ce1254daf9ef9715"
            ]
        ]
    },
    {
        "id": "3f24f1034c760819",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 260,
        "wires": [
            [
                "36e31ca4bd823e92"
            ]
        ]
    },
    {
        "id": "1998fd1676fdbd20",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "Weekend",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 07 * * 6,0",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 350,
        "y": 300,
        "wires": [
            [
                "3f24f1034c760819",
                "d819b5d04aef9a18"
            ]
        ]
    },
    {
        "id": "d819b5d04aef9a18",
        "type": "change",
        "z": "6df0226504208616",
        "g": "1525f01c13bb1d72",
        "name": "isWeekend",
        "rules": [
            {
                "t": "set",
                "p": "isWeekend",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "e5900fb71b890322",
        "type": "trigger",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 520,
        "y": 480,
        "wires": [
            [
                "2bf80c0dd1a3633a"
            ]
        ]
    },
    {
        "id": "33695432083288c6",
        "type": "change",
        "z": "6df0226504208616",
        "name": "Send value to Ambi",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "payload.value",
                "pt": "msg",
                "to": "desired_temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2550,
        "y": 600,
        "wires": [
            [
                "c55928ec8bab12af"
            ]
        ]
    },
    {
        "id": "bc2016b761b16427",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "send Temp to Input",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "temperature",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 1140,
        "wires": [
            [
                "020e359865b706b7",
                "a06c0bc8635acb75"
            ]
        ]
    },
    {
        "id": "38b3f8ab5235eae5",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "temperature",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 1140,
        "wires": [
            [
                "896aa735a80611d5"
            ]
        ]
    },
    {
        "id": "36e31ca4bd823e92",
        "type": "switch",
        "z": "6df0226504208616",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "67361b1114c0fdfe",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 370,
        "y": 1020,
        "wires": [
            [
                "e97e2897e23ddfe6"
            ]
        ]
    },
    {
        "id": "e97e2897e23ddfe6",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "happyHome",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1020,
        "wires": [
            [
                "9a193a329c78ad67"
            ]
        ]
    },
    {
        "id": "326ebb822b97e7c9",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "Cur_Temp",
        "rules": [
            {
                "t": "set",
                "p": "Cur_Temp",
                "pt": "flow",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 740,
        "wires": [
            [
                "b6a91a79ebe2ca38"
            ]
        ]
    },
    {
        "id": "ce1254daf9ef9715",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 480,
        "wires": [
            [
                "e5900fb71b890322"
            ]
        ]
    },
    {
        "id": "4445d551c97a8c33",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "SummerTime",
        "rules": [
            {
                "t": "set",
                "p": "SummerTime",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 1080,
        "wires": [
            [
                "3b21f19e91b9979f"
            ]
        ]
    },
    {
        "id": "f401193199a5d246",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 380,
        "y": 1080,
        "wires": [
            [
                "4445d551c97a8c33"
            ]
        ]
    },
    {
        "id": "88f762e6368aa7c0",
        "type": "light-scheduler",
        "z": "6df0226504208616",
        "settings": "b257c3b61872d5b6",
        "events": "[{\"start\":{\"dow\":4,\"mod\":390},\"end\":{\"dow\":4,\"mod\":480}},{\"start\":{\"dow\":3,\"mod\":390},\"end\":{\"dow\":3,\"mod\":480}},{\"start\":{\"dow\":1,\"mod\":390},\"end\":{\"dow\":1,\"mod\":480}},{\"start\":{\"dow\":5,\"mod\":390},\"end\":{\"dow\":5,\"mod\":480}},{\"start\":{\"dow\":2,\"mod\":390},\"end\":{\"dow\":2,\"mod\":480}},{\"start\":{\"dow\":0,\"mod\":480},\"end\":{\"dow\":0,\"mod\":1260}},{\"start\":{\"dow\":6,\"mod\":480},\"end\":{\"dow\":6,\"mod\":1260}},{\"start\":{\"dow\":1,\"mod\":840},\"end\":{\"dow\":1,\"mod\":1260}},{\"start\":{\"dow\":2,\"mod\":840},\"end\":{\"dow\":2,\"mod\":1260}},{\"start\":{\"dow\":3,\"mod\":840},\"end\":{\"dow\":3,\"mod\":1260}},{\"start\":{\"dow\":4,\"mod\":840},\"end\":{\"dow\":4,\"mod\":1260}},{\"start\":{\"dow\":5,\"mod\":840},\"end\":{\"dow\":5,\"mod\":1260}},{\"start\":{\"dow\":5,\"mod\":480},\"end\":{\"dow\":5,\"mod\":840}},{\"start\":{\"dow\":4,\"mod\":485},\"end\":{\"dow\":4,\"mod\":840}},{\"start\":{\"dow\":3,\"mod\":485},\"end\":{\"dow\":3,\"mod\":840}},{\"start\":{\"dow\":2,\"mod\":480},\"end\":{\"dow\":2,\"mod\":840}},{\"start\":{\"dow\":1,\"mod\":480},\"end\":{\"dow\":1,\"mod\":840}}]",
        "topic": "",
        "name": "",
        "onPayload": "true",
        "onPayloadType": "bool",
        "offPayload": "false",
        "offPayloadType": "bool",
        "onlyWhenDark": false,
        "scheduleRndMax": 0,
        "sunElevationThreshold": 6,
        "sunShowElevationInStatus": false,
        "outputfreq": "output.statechange.startup",
        "x": 1360,
        "y": 580,
        "wires": [
            [
                "cdda54c1c95885b5"
            ]
        ]
    },
    {
        "id": "6bed44df9a96c7f5",
        "type": "change",
        "z": "6df0226504208616",
        "name": "set OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 580,
        "wires": [
            [
                "88f762e6368aa7c0"
            ]
        ]
    },
    {
        "id": "1143fa19d1277481",
        "type": "change",
        "z": "6df0226504208616",
        "name": "set Auto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 440,
        "wires": [
            [
                "6e32bf19c51ed3a4"
            ]
        ]
    },
    {
        "id": "9c802a5c40bcec2d",
        "type": "switch",
        "z": "6df0226504208616",
        "name": "SummerTime",
        "property": "SummerTime",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 520,
        "wires": [
            [
                "e9b27878137b3b84"
            ],
            [
                "1143fa19d1277481",
                "f890c69938335731"
            ]
        ]
    },
    {
        "id": "2a4c81b9f29cdd45",
        "type": "change",
        "z": "6df0226504208616",
        "name": "set on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 480,
        "wires": [
            [
                "6e32bf19c51ed3a4",
                "dcb046bbb6008951"
            ]
        ]
    },
    {
        "id": "dcb046bbb6008951",
        "type": "switch",
        "z": "6df0226504208616",
        "name": "On/OFF",
        "property": "tempOn",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1920,
        "y": 540,
        "wires": [
            [
                "a6d95d2fca32bdf0",
                "7967bdfee59e23a4"
            ],
            [
                "3d5b775ff4f2f150"
            ]
        ]
    },
    {
        "id": "cdda54c1c95885b5",
        "type": "change",
        "z": "6df0226504208616",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "tempOn",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 640,
        "wires": [
            [
                "e6702f879f171911"
            ]
        ]
    },
    {
        "id": "e9b27878137b3b84",
        "type": "switch",
        "z": "6df0226504208616",
        "name": "Is dog Home",
        "property": "happyHome",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 560,
        "wires": [
            [
                "2a4c81b9f29cdd45"
            ]
        ]
    },
    {
        "id": "b6a91a79ebe2ca38",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "SummerTime",
        "property": "SummerTime",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 840,
        "y": 740,
        "wires": [
            [
                "c4d9e0754c0f8049"
            ],
            [
                "d7b5c9af4c98242d"
            ]
        ]
    },
    {
        "id": "425971ea4db9dc68",
        "type": "link in",
        "z": "6df0226504208616",
        "d": true,
        "g": "de17e98102477bde",
        "name": "Set Temperature",
        "links": [
            "32a0b9d95d5f01ed"
        ],
        "x": 765,
        "y": 1180,
        "wires": [
            [
                "d61c8ff011a88dbc"
            ]
        ]
    },
    {
        "id": "886304c986eee280",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "tempoverride",
        "rules": [
            {
                "t": "set",
                "p": "tempoverride",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 1140,
        "wires": [
            [
                "38b3f8ab5235eae5"
            ]
        ]
    },
    {
        "id": "d61c8ff011a88dbc",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "tempoverride",
        "property": "tempoverride",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 930,
        "y": 1180,
        "wires": [
            [
                "38b3f8ab5235eae5"
            ]
        ]
    },
    {
        "id": "30ea5fb10da29ec3",
        "type": "link in",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "set tempoverride false",
        "links": [
            "e9a5c977e13d6b89"
        ],
        "x": 325,
        "y": 1220,
        "wires": [
            [
                "821b39103a91f616"
            ]
        ]
    },
    {
        "id": "821b39103a91f616",
        "type": "change",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "tempoverride",
        "rules": [
            {
                "t": "set",
                "p": "tempoverride",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "e9a5c977e13d6b89",
        "type": "link out",
        "z": "6df0226504208616",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "30ea5fb10da29ec3"
        ],
        "x": 875,
        "y": 480,
        "wires": []
    },
    {
        "id": "31b68c075ef8bdbb",
        "type": "ambi-deployment",
        "z": "6df0226504208616",
        "oauthClient": "0b617d79931e935c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "mode": "",
        "power": "",
        "feature": "",
        "x": 2750,
        "y": 640,
        "wires": []
    },
    {
        "id": "7967bdfee59e23a4",
        "type": "function",
        "z": "6df0226504208616",
        "name": "function 2",
        "func": "let temperature = flow.get(\"temperature\")\nlet desired_temperature;\nlet mode = flow.get(\"mode\") || \"heat\";\nlet  louver = \"down\";\nlet SummerTime = global.get(\"SummerTime\");\nlet homeMode = global.get(\"Mode\");\nif( homeMode == \"away\"){\ndesired_temperature = 21;\n}else{\n  desired_temperature = temperature\n}\n\nflow.set(\"desired_temperature\", desired_temperature.toString());\nif (mode == \"cool\"){\nlouver = \"up\";\n}\n\nmsg.payload = {\n  \"room_name\": \"varmepumpe\",\n  \"location_name\": \"Gravarsveien 57 A\",\n  \"mode\": mode,\n  \"power\": \"on\",\n  \"feature\": {\n    \"temperature\": desired_temperature.toString(),\n    \"fan\": \"auto\",\n    \"louver\": louver,\n    \"swing\": \"auto\"\n  }\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2120,
        "y": 640,
        "wires": [
            [
                "113b0a187bed2de5"
            ]
        ]
    },
    {
        "id": "847b679456e779b9",
        "type": "ambi-sensor-temp",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "oauthClient": "0b617d79931e935c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "x": 480,
        "y": 780,
        "wires": [
            [
                "fc50ae84c99bcba5"
            ]
        ]
    },
    {
        "id": "08a19fb984a9102a",
        "type": "delay",
        "z": "6df0226504208616",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2300,
        "y": 600,
        "wires": [
            [
                "33695432083288c6"
            ]
        ]
    },
    {
        "id": "26e40d73162656c1",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "Triggger Temperature",
        "mode": "link",
        "links": [
            "c42fa5da6c4de1b3",
            "576f7a8170f57d38"
        ],
        "x": 1455,
        "y": 800,
        "wires": []
    },
    {
        "id": "896aa735a80611d5",
        "type": "link out",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "mode": "link",
        "links": [
            "c42fa5da6c4de1b3",
            "576f7a8170f57d38"
        ],
        "x": 1295,
        "y": 1140,
        "wires": []
    },
    {
        "id": "0085aa5b7ff9cc46",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "Cool",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "cool",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 780,
        "wires": [
            [
                "26e40d73162656c1",
                "a112b0b45b20197a"
            ]
        ]
    },
    {
        "id": "c4d9e0754c0f8049",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "SummerTemp",
        "property": "Cur_Temp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gt",
                "v": "22",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "19",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1040,
        "y": 740,
        "wires": [
            [
                "673856754ec6c9ae"
            ],
            [
                "dfca049e398fd340"
            ]
        ]
    },
    {
        "id": "86da7f4cca9fd763",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "Heat",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "heat",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 820,
        "wires": [
            [
                "26e40d73162656c1",
                "6966249f29d70d2e"
            ]
        ]
    },
    {
        "id": "fc50ae84c99bcba5",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "not empty ",
        "property": "payload.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 660,
        "y": 780,
        "wires": [
            [
                "326ebb822b97e7c9"
            ]
        ]
    },
    {
        "id": "6aca6fa3e58469b9",
        "type": "trigger",
        "z": "6df0226504208616",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2120,
        "y": 740,
        "wires": [
            [
                "0e867a2e21130f1a"
            ]
        ]
    },
    {
        "id": "a6d95d2fca32bdf0",
        "type": "change",
        "z": "6df0226504208616",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2110,
        "y": 700,
        "wires": [
            [
                "6aca6fa3e58469b9"
            ]
        ]
    },
    {
        "id": "dfca049e398fd340",
        "type": "trigger",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1320,
        "y": 860,
        "wires": [
            [
                "86da7f4cca9fd763"
            ]
        ]
    },
    {
        "id": "673856754ec6c9ae",
        "type": "trigger",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1300,
        "y": 740,
        "wires": [
            [
                "0085aa5b7ff9cc46"
            ]
        ]
    },
    {
        "id": "6966249f29d70d2e",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 920,
        "wires": [
            [
                "673856754ec6c9ae"
            ]
        ]
    },
    {
        "id": "a112b0b45b20197a",
        "type": "change",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 720,
        "wires": [
            [
                "dfca049e398fd340"
            ]
        ]
    },
    {
        "id": "576f7a8170f57d38",
        "type": "link in",
        "z": "6df0226504208616",
        "name": "link in 5",
        "links": [
            "896aa735a80611d5",
            "26e40d73162656c1"
        ],
        "x": 1445,
        "y": 500,
        "wires": [
            [
                "96eb452a3a0e0ab2"
            ]
        ]
    },
    {
        "id": "7fdee88ae96f836f",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "1bd93d309e63194e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 310,
        "y": 440,
        "wires": [
            [
                "ce1254daf9ef9715"
            ]
        ]
    },
    {
        "id": "96eb452a3a0e0ab2",
        "type": "switch",
        "z": "6df0226504208616",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1570,
        "y": 600,
        "wires": [
            [
                "e6702f879f171911"
            ]
        ]
    },
    {
        "id": "e6702f879f171911",
        "type": "change",
        "z": "6df0226504208616",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "state",
                "pt": "flow",
                "to": "payload.mode",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1770,
        "y": 620,
        "wires": [
            [
                "dcb046bbb6008951",
                "9f7bf8093c59820c"
            ]
        ]
    },
    {
        "id": "32073bdf643cc299",
        "type": "inject",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 380,
        "y": 720,
        "wires": [
            [
                "847b679456e779b9"
            ]
        ]
    },
    {
        "id": "2a5d5b0b8f5f36f6",
        "type": "ui_button",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "name": "",
        "group": "69a63d21.a935c4",
        "order": 12,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "topic",
        "topicType": "msg",
        "x": 970,
        "y": 340,
        "wires": [
            [
                "8a7c196d53d4237a"
            ]
        ]
    },
    {
        "id": "8a7c196d53d4237a",
        "type": "change",
        "z": "6df0226504208616",
        "g": "76afa4ece7428050",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "tempOn",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 340,
        "wires": [
            [
                "dcb046bbb6008951"
            ]
        ]
    },
    {
        "id": "d7b5c9af4c98242d",
        "type": "switch",
        "z": "6df0226504208616",
        "g": "c10ebffd064adbf1",
        "name": "VinterTemp",
        "property": "Cur_Temp",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gt",
                "v": "23",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "21",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 780,
        "wires": [
            [
                "673856754ec6c9ae"
            ],
            [
                "dfca049e398fd340"
            ]
        ]
    },
    {
        "id": "f890c69938335731",
        "type": "trigger",
        "z": "6df0226504208616",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "3",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1130,
        "y": 640,
        "wires": [
            [
                "cdda54c1c95885b5"
            ]
        ]
    },
    {
        "id": "113b0a187bed2de5",
        "type": "switch",
        "z": "6df0226504208616",
        "name": "Mode Changed?",
        "property": "payload.mode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2310,
        "y": 640,
        "wires": [
            [
                "31b68c075ef8bdbb",
                "08a19fb984a9102a"
            ],
            [
                "33695432083288c6"
            ]
        ]
    },
    {
        "id": "3b21f19e91b9979f",
        "type": "ui-switch",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "SummerTime",
        "label": "SummerTime",
        "group": "3f286b473c9966df",
        "order": 0,
        "width": "2",
        "height": "1",
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 820,
        "y": 1080,
        "wires": [
            [
                "4445d551c97a8c33"
            ]
        ]
    },
    {
        "id": "9a193a329c78ad67",
        "type": "ui-switch",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "HappyHome",
        "label": "HappyHome",
        "group": "3f286b473c9966df",
        "order": 0,
        "width": "2",
        "height": "1",
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 810,
        "y": 1020,
        "wires": [
            [
                "e97e2897e23ddfe6"
            ]
        ]
    },
    {
        "id": "020e359865b706b7",
        "type": "ui-text-input",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "group": "3f286b473c9966df",
        "name": "",
        "label": "Temperature",
        "order": 0,
        "width": "1",
        "height": "1",
        "topic": "topic",
        "topicType": "msg",
        "mode": "number",
        "delay": "500",
        "passthru": true,
        "sendOnDelay": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "x": 750,
        "y": 1140,
        "wires": [
            [
                "886304c986eee280",
                "28a4fcd44a76c8d1"
            ]
        ]
    },
    {
        "id": "9f7bf8093c59820c",
        "type": "debug",
        "z": "6df0226504208616",
        "name": "debug 47",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 760,
        "wires": []
    },
    {
        "id": "a06c0bc8635acb75",
        "type": "ui_text_input",
        "z": "6df0226504208616",
        "d": true,
        "g": "de17e98102477bde",
        "name": "",
        "label": "Temp",
        "tooltip": "",
        "group": "69a63d21.a935c4",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "500",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 650,
        "y": 1180,
        "wires": [
            [
                "886304c986eee280"
            ]
        ]
    },
    {
        "id": "8b7b2563069281bc",
        "type": "ui-control",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "",
        "ui": "7f0c45a9432dc256",
        "events": "connect",
        "x": 360,
        "y": 1140,
        "wires": [
            [
                "bc2016b761b16427"
            ]
        ]
    },
    {
        "id": "28a4fcd44a76c8d1",
        "type": "debug",
        "z": "6df0226504208616",
        "g": "de17e98102477bde",
        "name": "debug 49",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 1120,
        "wires": []
    },
    {
        "id": "3a621e1.6c980e2",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "18000",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "{   viewer {     home(id: \"142c1670-ab43-2ab3-ba6d-723703a551e2\") {       currentSubscription{         priceInfo{           today {             total             energy             tax             startsAt           }           tomorrow {             total             energy             tax             startsAt           }         }       }     }   } }",
        "payloadType": "str",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "459349dfcd1788c8"
            ]
        ]
    },
    {
        "id": "1f5b698b.c40ec6",
        "type": "tibber-feed",
        "z": "15652aa.fd5c4d5",
        "name": "Heggland",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "homeId": "50c631b0-94da-4fd9-ac4c-f767e223de07",
        "timestamp": false,
        "power": true,
        "lastMeterConsumption": true,
        "accumulatedConsumption": true,
        "accumulatedProduction": false,
        "accumulatedConsumptionLastHour": true,
        "accumulatedProductionLastHour": false,
        "accumulatedCost": false,
        "accumulatedReward": false,
        "currency": false,
        "minPower": false,
        "averagePower": false,
        "maxPower": false,
        "powerProduction": false,
        "minPowerProduction": false,
        "maxPowerProduction": false,
        "lastMeterProduction": false,
        "powerFactor": false,
        "voltagePhase1": false,
        "voltagePhase2": false,
        "voltagePhase3": false,
        "currentL1": false,
        "currentL2": false,
        "currentL3": false,
        "signalStrength": false,
        "x": 140,
        "y": 780,
        "wires": [
            [
                "1e7116aeb4426982"
            ]
        ]
    },
    {
        "id": "4d90c0d9.a283f",
        "type": "tibber-query",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "x": 470,
        "y": 80,
        "wires": [
            [
                "264aa2ac0ba723fa"
            ]
        ]
    },
    {
        "id": "fb875b11.4c9c18",
        "type": "tibber-notify",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "notifyTitle": "",
        "notifyMessage": "",
        "notifyScreen": "",
        "x": 330,
        "y": 300,
        "wires": []
    },
    {
        "id": "1f3d8f53.3561c1",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"title\":\"Test\",\"message\":\"This is a simple test\",\"screen\":\"HOME\"}",
        "payloadType": "json",
        "x": 120,
        "y": 300,
        "wires": [
            [
                "fb875b11.4c9c18"
            ]
        ]
    },
    {
        "id": "0911a3e961c90766",
        "type": "switch",
        "z": "15652aa.fd5c4d5",
        "name": "Current Power",
        "property": "payload.power",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4500",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "3500",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 500,
        "y": 780,
        "wires": [
            [
                "5893340b1743a6a1"
            ],
            [
                "7543444ed89d60f0"
            ]
        ]
    },
    {
        "id": "fe09f6b01a7587a0",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Power HIGH",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\"Power Usage is HIGH: Power is at \" &payload.power ",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 780,
        "wires": [
            [
                "bd2186f08e42c63b"
            ]
        ]
    },
    {
        "id": "858b8605826bec63",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "5cfbdbd83670143c"
        ],
        "x": 1525,
        "y": 780,
        "wires": []
    },
    {
        "id": "052f3d28a092f444",
        "type": "trigger",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 990,
        "y": 780,
        "wires": [
            [
                "fe09f6b01a7587a0"
            ]
        ]
    },
    {
        "id": "7543444ed89d60f0",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Reset last_measured",
        "rules": [
            {
                "t": "set",
                "p": "last_measured",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "48e83ca74d8bc7ba",
        "type": "ps-receive-price",
        "z": "15652aa.fd5c4d5",
        "name": "Price Receiver",
        "x": 700,
        "y": 80,
        "wires": [
            [
                "9e05d9595d856561",
                "e8423cdd6034ec73"
            ]
        ]
    },
    {
        "id": "459349dfcd1788c8",
        "type": "function",
        "z": "15652aa.fd5c4d5",
        "name": "Single Home",
        "func": "msg.payload =\n\"{   viewer { home(id: \\\"50c631b0-94da-4fd9-ac4c-f767e223de07\\\") {currentSubscription{  priceInfo{today {  total  energy  tax  startsAt}tomorrow {  total  energy  tax  startsAt}  }} }   } }\"\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 80,
        "wires": [
            [
                "4d90c0d9.a283f",
                "fb75dffd884b3b42"
            ]
        ]
    },
    {
        "id": "9e05d9595d856561",
        "type": "ps-strategy-best-save",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "Best Save",
        "maxHoursToSaveInSequence": "5",
        "minHoursOnAfterMaxSequenceSaved": 2,
        "minSaving": "0.05",
        "sendCurrentValueWhenRescheduling": true,
        "outputValueForOn": "true",
        "outputValueForOff": "true",
        "outputValueForOntype": "bool",
        "outputValueForOfftype": "bool",
        "outputIfNoSchedule": "true",
        "contextStorage": "default",
        "x": 950,
        "y": 80,
        "wires": [
            [
                "207ec618a3073c3c"
            ],
            [
                "67c4b006c62d09d4"
            ],
            []
        ]
    },
    {
        "id": "e0f4bc77f36c022a",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "link out 2",
        "mode": "link",
        "links": [
            "5cfbdbd83670143c"
        ],
        "x": 1615,
        "y": 60,
        "wires": []
    },
    {
        "id": "207ec618a3073c3c",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Power HIGH",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Power schedule is on",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 40,
        "wires": [
            [
                "f1d6ae4de07e3bdf"
            ]
        ]
    },
    {
        "id": "67c4b006c62d09d4",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Power HIGH",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Power cann not be used",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 80,
        "wires": [
            [
                "f1d6ae4de07e3bdf"
            ]
        ]
    },
    {
        "id": "9ba86ceb8e9ee185",
        "type": "ps-strategy-heat-capacitor",
        "z": "15652aa.fd5c4d5",
        "name": "Heat capacitor",
        "timeHeat1C": "75",
        "timeCool1C": 50,
        "maxTempAdjustment": "1",
        "boostTempHeat": "0",
        "boostTempCool": "0",
        "minSavings": 0.08,
        "setpoint": "22",
        "x": 960,
        "y": 160,
        "wires": [
            [
                "32a0b9d95d5f01ed"
            ],
            [],
            []
        ]
    },
    {
        "id": "f1d6ae4de07e3bdf",
        "type": "rbe",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 1450,
        "y": 60,
        "wires": [
            [
                "e0f4bc77f36c022a"
            ]
        ]
    },
    {
        "id": "32a0b9d95d5f01ed",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "name": "set Temperature",
        "mode": "link",
        "links": [
            "425971ea4db9dc68"
        ],
        "x": 1205,
        "y": 140,
        "wires": []
    },
    {
        "id": "bd2186f08e42c63b",
        "type": "time-range-switch",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "",
        "lat": "58.8713",
        "lon": "5.7168",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1370,
        "y": 780,
        "wires": [
            [
                "858b8605826bec63"
            ],
            []
        ]
    },
    {
        "id": "cb719895315359f3",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 500,
        "y": 820,
        "wires": [
            [
                "7543444ed89d60f0"
            ]
        ]
    },
    {
        "id": "264aa2ac0ba723fa",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "priceData",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 140,
        "wires": [
            [
                "48e83ca74d8bc7ba"
            ]
        ]
    },
    {
        "id": "7e9dc56a7125a4f5",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "priceData",
        "payloadType": "flow",
        "x": 480,
        "y": 180,
        "wires": [
            [
                "48e83ca74d8bc7ba"
            ]
        ]
    },
    {
        "id": "b0fdfb7de098c15a",
        "type": "mqtt in",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "",
        "topic": "tibber/lostdata",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 230,
        "y": 1080,
        "wires": [
            [
                "4a8c8715361352a1",
                "2206cf804279bce4"
            ]
        ]
    },
    {
        "id": "9c907e1d118e1133",
        "type": "link out",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "link out 4",
        "mode": "link",
        "links": [
            "662ff2faf119d193"
        ],
        "x": 605,
        "y": 1080,
        "wires": []
    },
    {
        "id": "4a8c8715361352a1",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Noting have been registered for 10 Minutes",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 1080,
        "wires": [
            [
                "9c907e1d118e1133"
            ]
        ]
    },
    {
        "id": "2206cf804279bce4",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "d": true,
        "name": "debug 19",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 1160,
        "wires": []
    },
    {
        "id": "5893340b1743a6a1",
        "type": "function",
        "z": "15652aa.fd5c4d5",
        "name": "Higher than last_measured",
        "func": "let last_measured = flow.get(\"last_measured\") || 0;\n\nif (msg.payload.power > last_measured){\n    last_measured = msg.payload.power\n    flow.set(\"last_measured\", last_measured);\n\nreturn msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 780,
        "wires": [
            [
                "052f3d28a092f444"
            ]
        ]
    },
    {
        "id": "6692caeafc9b13b0",
        "type": "switch",
        "z": "15652aa.fd5c4d5",
        "name": "Accumulated this hhour",
        "property": "payload.accumulatedConsumptionLastHour",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4.6",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0.1",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 880,
        "wires": [
            [
                "3fe4bff2327460c9"
            ],
            [
                "612b2ceb4e7d7b5a"
            ]
        ]
    },
    {
        "id": "3fe4bff2327460c9",
        "type": "trigger",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 860,
        "y": 860,
        "wires": [
            [
                "b0e3b11f99e9b336"
            ]
        ]
    },
    {
        "id": "b0e3b11f99e9b336",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "Consumption HIGH",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "\" Consumption is HIGH: Consumption is at \" &payload.accumulatedConsumptionLastHour",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 860,
        "wires": [
            [
                "d18f32d84c4f3637"
            ]
        ]
    },
    {
        "id": "d18f32d84c4f3637",
        "type": "time-range-switch",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "lat": "58.8713",
        "lon": "5.7168",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1390,
        "y": 860,
        "wires": [
            [
                "858b8605826bec63"
            ],
            []
        ]
    },
    {
        "id": "612b2ceb4e7d7b5a",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 900,
        "wires": [
            [
                "3fe4bff2327460c9"
            ]
        ]
    },
    {
        "id": "cebda535547a8a8c",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload.accumulatedConsumptionLastHour",
                "v": "4.7",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 220,
        "y": 920,
        "wires": [
            [
                "6692caeafc9b13b0"
            ]
        ]
    },
    {
        "id": "1e7116aeb4426982",
        "type": "delay",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 780,
        "wires": [
            [
                "0911a3e961c90766",
                "6692caeafc9b13b0",
                "e43222e154fd142b"
            ]
        ]
    },
    {
        "id": "42e0f1732e38e1ca",
        "type": "nordpool-api-plus",
        "z": "15652aa.fd5c4d5",
        "name": "NorPool Today",
        "area": "Kr.sand",
        "currency": "NOK",
        "action": "todayOrOverride",
        "x": 580,
        "y": 460,
        "wires": [
            [
                "7910721b5bb4194c"
            ]
        ]
    },
    {
        "id": "e8423cdd6034ec73",
        "type": "switch",
        "z": "15652aa.fd5c4d5",
        "name": "gusetmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 770,
        "y": 140,
        "wires": [
            [
                "9ba86ceb8e9ee185"
            ]
        ]
    },
    {
        "id": "e43222e154fd142b",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "debug 37",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 640,
        "wires": []
    },
    {
        "id": "fb75dffd884b3b42",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "debug 38",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 60,
        "wires": []
    },
    {
        "id": "f149bfebe7926479",
        "type": "tibber-data",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "active": true,
        "apiEndpointRef": "3d2f09b6c7faaec7",
        "queryName": "getConsumption",
        "homeId": "50c631b0-94da-4fd9-ac4c-f767e223de07",
        "energyResolution": "HOURLY",
        "lastCount": 10,
        "x": 680,
        "y": 1380,
        "wires": [
            [
                "b5b385242b1f7af9"
            ]
        ]
    },
    {
        "id": "5380cad09511f7cb",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 430,
        "y": 1360,
        "wires": [
            [
                "f149bfebe7926479"
            ]
        ]
    },
    {
        "id": "b5b385242b1f7af9",
        "type": "debug",
        "z": "15652aa.fd5c4d5",
        "name": "debug 39",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 1360,
        "wires": []
    },
    {
        "id": "d43e85f68dfee5e5",
        "type": "nordpool-api-plus",
        "z": "15652aa.fd5c4d5",
        "name": "NordPool Tomorrow",
        "area": "Kr.sand",
        "currency": "NOK",
        "action": "dayAhead",
        "x": 590,
        "y": 500,
        "wires": [
            [
                "e1b14da5eea0779a"
            ]
        ]
    },
    {
        "id": "8453f98ada13ded4",
        "type": "inject",
        "z": "15652aa.fd5c4d5",
        "name": "Query NordPool api",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 370,
        "y": 500,
        "wires": [
            [
                "d43e85f68dfee5e5",
                "42e0f1732e38e1ca"
            ]
        ]
    },
    {
        "id": "7ee4100906a8c237",
        "type": "ps-receive-price",
        "z": "15652aa.fd5c4d5",
        "name": "Price Receiver",
        "x": 1280,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "44e14c5eefd982a7",
        "type": "function",
        "z": "15652aa.fd5c4d5",
        "name": "Combining 2 days",
        "func": "let nordPoolToday = msg.today;\nlet nordPoolTomorrow = msg.tomorrow\nlet toPS = { \"payload\": { \"today\": [], \"tomorrow\": [] } };\n\nnordPoolToday.forEach(function (hour) {\n\n    let dateTime = new Date(hour.timestamp)\n    var tzoffset = (new Date()).getTimezoneOffset() * 60000; //offset in milliseconds\n    var localISOTime = (new Date(dateTime.getTime() - tzoffset)).toISOString().slice(0, -1);\n    toPS.payload.today.push({ \"start\": localISOTime, \"value\": hour.price });\n\n});\n\nnordPoolTomorrow.forEach(function (hour) {\n\n    let dateTime = new Date(hour.timestamp)\n\n\n\n    var tzoffset = (new Date()).getTimezoneOffset() * 60000; //offset in milliseconds\n    var localISOTime = (new Date(dateTime.getTime() - tzoffset)).toISOString().slice(0, -1);\n\n    if (new Date(localISOTime).getDate() == new Date().getDate() ) {\n        // to prevent the api error where data for tomorrow does not exsist and data returned are today\n        node.warn(\"No data for Tomorrow\")\n        return;\n    }\n    toPS.payload.tomorrow.push({ \"start\": localISOTime, \"value\": hour.price });\n\n});\n\n\n\n\n\n\nreturn toPS;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1170,
        "y": 500,
        "wires": [
            [
                "f77dd8cc6f7f8b87"
            ]
        ]
    },
    {
        "id": "043d15719169dbd2",
        "type": "join",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "3",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 990,
        "y": 500,
        "wires": [
            [
                "44e14c5eefd982a7"
            ]
        ]
    },
    {
        "id": "f77dd8cc6f7f8b87",
        "type": "ps-receive-price",
        "z": "15652aa.fd5c4d5",
        "name": "Price Receiver",
        "x": 1360,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "e1b14da5eea0779a",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "tomorrow",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 500,
        "wires": [
            [
                "043d15719169dbd2"
            ]
        ]
    },
    {
        "id": "7910721b5bb4194c",
        "type": "change",
        "z": "15652aa.fd5c4d5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "today",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 460,
        "wires": [
            [
                "043d15719169dbd2"
            ]
        ]
    },
    {
        "id": "6521603b2e19525f",
        "type": "aedes broker",
        "z": "c83f14cc3d9b8395",
        "name": "Remote Broker",
        "mqtt_port": "1888",
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "dburl": "",
        "usetls": false,
        "x": 410,
        "y": 180,
        "wires": [
            [
                "de3ee7702915d8b6"
            ],
            [
                "de3ee7702915d8b6"
            ]
        ]
    },
    {
        "id": "de3ee7702915d8b6",
        "type": "debug",
        "z": "c83f14cc3d9b8395",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 200,
        "wires": []
    },
    {
        "id": "a17425f6.276c18",
        "type": "http in",
        "z": "bd342fd3.e926f",
        "name": "Facedetected",
        "url": "/facedetected",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 300,
        "y": 200,
        "wires": [
            [
                "b4a2c165.ca205"
            ]
        ]
    },
    {
        "id": "b4a2c165.ca205",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 200,
        "wires": []
    },
    {
        "id": "ec85161f.bf0468",
        "type": "http in",
        "z": "bd342fd3.e926f",
        "name": "Facedetected",
        "url": "/facedetected",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 290,
        "y": 260,
        "wires": [
            [
                "b4f0d10d.f591a",
                "6a7bf4f5.17715c",
                "3f496c12.523bd4"
            ]
        ]
    },
    {
        "id": "b4f0d10d.f591a",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.detected",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 260,
        "wires": []
    },
    {
        "id": "6a7bf4f5.17715c",
        "type": "http response",
        "z": "bd342fd3.e926f",
        "name": "respose",
        "statusCode": "200",
        "headers": {
            "resposne": "ok"
        },
        "x": 800,
        "y": 200,
        "wires": []
    },
    {
        "id": "48804df1.d0f5e4",
        "type": "function",
        "z": "bd342fd3.e926f",
        "name": "Happy outside ",
        "func": "var name = msg.payload.detected\n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"\"+name+\" have been detected\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 820,
        "y": 300,
        "wires": [
            [
                "1217ddf6.8b7182"
            ]
        ]
    },
    {
        "id": "1217ddf6.8b7182",
        "type": "link out",
        "z": "bd342fd3.e926f",
        "name": "",
        "links": [
            "fee9f406.ef48d8"
        ],
        "x": 945,
        "y": 280,
        "wires": []
    },
    {
        "id": "3f496c12.523bd4",
        "type": "delay",
        "z": "bd342fd3.e926f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 560,
        "y": 320,
        "wires": [
            [
                "48804df1.d0f5e4"
            ]
        ]
    },
    {
        "id": "64c3f5f94e5a7d3e",
        "type": "mqtt in",
        "z": "bd342fd3.e926f",
        "name": "",
        "topic": "people/detected",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 600,
        "wires": [
            [
                "c5d2da82a4e41161"
            ]
        ]
    },
    {
        "id": "c5d2da82a4e41161",
        "type": "switch",
        "z": "bd342fd3.e926f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "oivind",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "k",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kam",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sti",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ter",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 423,
        "y": 606,
        "wires": [
            [
                "788f2036f96660ee"
            ],
            [
                "96c4abdfa5054103"
            ],
            [
                "9540494b9293235e"
            ],
            [
                "9fdb3aac9b5128ce"
            ],
            [
                "3a97888a4f0a9962"
            ],
            [
                "a6d3d6549d43f8d8",
                "3a97888a4f0a9962"
            ]
        ]
    },
    {
        "id": "2e45bd4a7ce7164c",
        "type": "link out",
        "z": "bd342fd3.e926f",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 1055,
        "y": 580,
        "wires": []
    },
    {
        "id": "788f2036f96660ee",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "ø",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Øivind detected",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 560,
        "wires": [
            [
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "96c4abdfa5054103",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "k",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Karina detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kar",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 600,
        "wires": [
            [
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "9540494b9293235e",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "kam",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Karina detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kam",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 717,
        "y": 634,
        "wires": [
            [
                "4be78cbd7bb83d3e",
                "8169cbfb5508a232"
            ]
        ]
    },
    {
        "id": "a6d3d6549d43f8d8",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "unkn",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Unknown person detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Unknown",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 760,
        "wires": [
            [
                "4be78cbd7bb83d3e",
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "9fdb3aac9b5128ce",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "Stian ",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Stian detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sti",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 717,
        "y": 674,
        "wires": [
            [
                "4be78cbd7bb83d3e"
            ]
        ]
    },
    {
        "id": "3a97888a4f0a9962",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "Tereza ",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Tereza detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ter",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 717,
        "y": 714,
        "wires": [
            [
                "4be78cbd7bb83d3e"
            ]
        ]
    },
    {
        "id": "a3b67c25c00a17f5",
        "type": "function",
        "z": "bd342fd3.e926f",
        "name": "",
        "func": "let count_guests = flow.get(\"count_guests\") || 0\n\ncount_guests++\n\nflow.set(\"count_guests\", count_guests);\n\nmsg.text = \"There are \" + count_guests + \"Guest\"\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 720,
        "wires": [
            [
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "13d2366f7749cc3d",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "count_guests",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 740,
        "wires": [
            [
                "96c4abdfa5054103",
                "9540494b9293235e",
                "9fdb3aac9b5128ce",
                "3a97888a4f0a9962",
                "a6d3d6549d43f8d8"
            ]
        ]
    },
    {
        "id": "3856374e5300e595",
        "type": "inject",
        "z": "bd342fd3.e926f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 740,
        "wires": [
            [
                "13d2366f7749cc3d"
            ]
        ]
    },
    {
        "id": "4be78cbd7bb83d3e",
        "type": "trigger",
        "z": "bd342fd3.e926f",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "topic",
        "topic": "topc",
        "outputs": 1,
        "x": 900,
        "y": 720,
        "wires": [
            [
                "a3b67c25c00a17f5"
            ]
        ]
    },
    {
        "id": "df6a59c5141b8e2c",
        "type": "mqtt in",
        "z": "bd342fd3.e926f",
        "name": "",
        "topic": "people/unknown",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 920,
        "wires": [
            [
                "a6d3d6549d43f8d8",
                "24caf2ec3e9a6418"
            ]
        ]
    },
    {
        "id": "24caf2ec3e9a6418",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 960,
        "wires": []
    },
    {
        "id": "8169cbfb5508a232",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 860,
        "wires": []
    },
    {
        "id": "5e0f66ea.3848a8",
        "type": "miio-roborock-command",
        "z": "daf28d0f20b236a4",
        "name": "Mr Robot STOP",
        "server": "f8a9cdbf31cc2082",
        "command_name": "Dock",
        "command": "app_charge",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 780,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "77d1d4b3.4641ec",
        "type": "time-range-switch",
        "z": "daf28d0f20b236a4",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 770,
        "y": 300,
        "wires": [
            [
                "accd6d3d.10c09"
            ],
            [
                "855d3e8b975470b7"
            ]
        ]
    },
    {
        "id": "accd6d3d.10c09",
        "type": "trigger",
        "z": "daf28d0f20b236a4",
        "name": "",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "12",
        "extend": false,
        "overrideDelay": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 970,
        "y": 300,
        "wires": [
            [
                "8ea3f755.e68d88"
            ]
        ]
    },
    {
        "id": "8ea3f755.e68d88",
        "type": "miio-roborock-command",
        "z": "daf28d0f20b236a4",
        "name": "Mr Robot Start",
        "server": "f8a9cdbf31cc2082",
        "command_name": "► Start",
        "command": "app_start",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 1160,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "bb323297a8af6244",
        "type": "link in",
        "z": "daf28d0f20b236a4",
        "name": "vacuum start",
        "links": [
            "247260f.c82dca"
        ],
        "x": 505,
        "y": 180,
        "wires": [
            [
                "5e0f66ea.3848a8"
            ]
        ]
    },
    {
        "id": "810548cd17705360",
        "type": "link in",
        "z": "daf28d0f20b236a4",
        "name": "vacuum stop",
        "links": [
            "fc4fe81e.444628"
        ],
        "x": 415,
        "y": 300,
        "wires": [
            [
                "77d1d4b3.4641ec"
            ]
        ]
    },
    {
        "id": "3572fdf5.48cc62",
        "type": "miio-roborock-event",
        "z": "daf28d0f20b236a4",
        "name": "Roborock",
        "server": "f8a9cdbf31cc2082",
        "outputAtStartup": true,
        "x": 540,
        "y": 240,
        "wires": [
            [
                "1f150a19.40f1f6"
            ]
        ]
    },
    {
        "id": "9ae92a2b.99c9c8",
        "type": "function",
        "z": "daf28d0f20b236a4",
        "name": "Convert Data",
        "func": "     msg.label = msg.payload.state_text;\n     //msg.payload = global.get(\"Mode\");\n     msg.payload = false;\n     if(msg.label === \"charging\"){\n         msg.payload = true;\n     }\n     \n     \n     msg.label = \"Mr Robot is \" + msg.label; \n     \n \nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 240,
        "wires": [
            [
                "cfc5a1d05fe8095b"
            ]
        ]
    },
    {
        "id": "1f150a19.40f1f6",
        "type": "delay",
        "z": "daf28d0f20b236a4",
        "name": "",
        "pauseType": "rate",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 720,
        "y": 240,
        "wires": [
            [
                "9ae92a2b.99c9c8",
                "307b4558816d5bfa",
                "abbe05a0ae493686"
            ]
        ]
    },
    {
        "id": "855d3e8b975470b7",
        "type": "trigger",
        "z": "daf28d0f20b236a4",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "15",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 730,
        "y": 360,
        "wires": [
            [
                "77d1d4b3.4641ec"
            ]
        ]
    },
    {
        "id": "bb0350d09c07a742",
        "type": "change",
        "z": "daf28d0f20b236a4",
        "name": "reset trigger",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 360,
        "wires": [
            [
                "855d3e8b975470b7"
            ]
        ]
    },
    {
        "id": "dd907ae5e8f3fab4",
        "type": "link in",
        "z": "daf28d0f20b236a4",
        "name": "Reset Vacum Trigger",
        "links": [
            "247260f.c82dca"
        ],
        "x": 415,
        "y": 360,
        "wires": [
            [
                "bb0350d09c07a742"
            ]
        ]
    },
    {
        "id": "cfc5a1d05fe8095b",
        "type": "ui-switch",
        "z": "daf28d0f20b236a4",
        "name": "Home Status",
        "label": "Mr Robot Status",
        "group": "3f286b473c9966df",
        "order": 0,
        "width": "1",
        "height": "1",
        "passthru": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "lightning-bolt",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "sign-out",
        "offcolor": "red",
        "x": 1110,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "0a746840de428715",
        "type": "inject",
        "z": "daf28d0f20b236a4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "3572fdf5.48cc62"
            ]
        ]
    },
    {
        "id": "307b4558816d5bfa",
        "type": "debug",
        "z": "daf28d0f20b236a4",
        "name": "debug 45",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 990,
        "y": 100,
        "wires": []
    },
    {
        "id": "dd80e399de57df56",
        "type": "switch",
        "z": "daf28d0f20b236a4",
        "name": "",
        "property": "payload.error_code_text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 180,
        "wires": [
            [
                "c62c40a16f3026c9"
            ]
        ]
    },
    {
        "id": "c62c40a16f3026c9",
        "type": "change",
        "z": "daf28d0f20b236a4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.error_code_text",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 180,
        "wires": [
            [
                "4cf9b6efdbba67fa"
            ]
        ]
    },
    {
        "id": "4cf9b6efdbba67fa",
        "type": "link out",
        "z": "daf28d0f20b236a4",
        "name": "link out 16",
        "mode": "link",
        "links": [
            "5cfbdbd83670143c"
        ],
        "x": 1555,
        "y": 180,
        "wires": []
    },
    {
        "id": "abbe05a0ae493686",
        "type": "switch",
        "z": "daf28d0f20b236a4",
        "name": "",
        "property": "d",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 180,
        "wires": [
            [
                "548c2b48a07ce159"
            ]
        ]
    },
    {
        "id": "548c2b48a07ce159",
        "type": "delay",
        "z": "daf28d0f20b236a4",
        "name": "rate limiter",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "15",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1130,
        "y": 180,
        "wires": [
            [
                "dd80e399de57df56"
            ]
        ]
    },
    {
        "id": "817f1df1.c5f98",
        "type": "exec",
        "z": "55bef9f81591ce2e",
        "g": "10af9586a4a889ef",
        "command": "node-red-restart",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 340,
        "y": 100,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "aecb8d48.af66f",
        "type": "inject",
        "z": "55bef9f81591ce2e",
        "g": "10af9586a4a889ef",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 100,
        "wires": [
            [
                "817f1df1.c5f98"
            ]
        ]
    },
    {
        "id": "b0f298334b1bcc58",
        "type": "mqtt in",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "topic": "pt:j1/mt:evt/rt:dev/rn:zw/ad:1/sv:door_lock/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "41e681f.e420d8",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 320,
        "y": 260,
        "wires": [
            [
                "79de92216dfa5568"
            ]
        ]
    },
    {
        "id": "06a40700c474d84f",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "bolt_is_locked is False",
        "property": "payload.val.bolt_is_locked",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 780,
        "y": 260,
        "wires": [
            [
                "6504b75c810f8995"
            ]
        ]
    },
    {
        "id": "38519274c0551bb7",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 260,
        "wires": [
            [
                "ed4c1dbd7e3c8218"
            ],
            [
                "d8cc8d6cd6ac5ca8"
            ]
        ]
    },
    {
        "id": "ed4c1dbd7e3c8218",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "link out 11",
        "mode": "link",
        "links": [
            "60335bf328a8b516"
        ],
        "x": 1465,
        "y": 260,
        "wires": []
    },
    {
        "id": "d8cc8d6cd6ac5ca8",
        "type": "trigger",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "15",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1290,
        "y": 320,
        "wires": [
            [
                "99e34fb7e0972e1e"
            ]
        ]
    },
    {
        "id": "77e202e1f7cb4c98",
        "type": "link in",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Reset away mode",
        "links": [
            "2998be5081486cc3",
            "455faa8d.6c9aa4",
            "63e9f9b.1d13608",
            "9ace10c4.4ce8f",
            "b526ea173bec8f67",
            "e92f253c.11b9b8"
        ],
        "x": 345,
        "y": 320,
        "wires": [
            [
                "e4188f47293e43df"
            ]
        ]
    },
    {
        "id": "99e34fb7e0972e1e",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "link out 12",
        "mode": "link",
        "links": [
            "9e9814a999c69457"
        ],
        "x": 1465,
        "y": 320,
        "wires": []
    },
    {
        "id": "e4188f47293e43df",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Is Movement",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 590,
        "y": 320,
        "wires": [
            [
                "3fc79d5f33bafedc"
            ]
        ]
    },
    {
        "id": "6504b75c810f8995",
        "type": "delay",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 970,
        "y": 260,
        "wires": [
            [
                "38519274c0551bb7"
            ]
        ]
    },
    {
        "id": "9ab71bb708f19c1b",
        "type": "change",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "delete",
                "p": "reset",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 380,
        "wires": [
            [
                "99e34fb7e0972e1e"
            ]
        ]
    },
    {
        "id": "79de92216dfa5568",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "Gusetmode",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 590,
        "y": 260,
        "wires": [
            [
                "06a40700c474d84f"
            ]
        ]
    },
    {
        "id": "3fc79d5f33bafedc",
        "type": "change",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 360,
        "wires": [
            [
                "9ab71bb708f19c1b",
                "d8cc8d6cd6ac5ca8"
            ]
        ]
    },
    {
        "id": "9ca94a94ccdaf724",
        "type": "inject",
        "z": "6a77c00f79a19693",
        "g": "58a01d02b4619b46",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 660,
        "y": 460,
        "wires": [
            [
                "3fc79d5f33bafedc"
            ]
        ]
    },
    {
        "id": "eabe9d09ac5494a3",
        "type": "function",
        "z": "6a77c00f79a19693",
        "name": "Determine device presence",
        "func": "// @ts-nocheck\nconst lastSeenSeconds = 120;\nlet presenceCutoff = (new Date() - (lastSeenSeconds * 1000)) / 1000; \nconst people = {\n    \"presence/heggland\": \"heggland\",\n    \"presence/karina\": \"karina\",\n    \"presence/person3\": \"stian\"\n};\nlet data = {};\ndata.payload = false;\ndata.people = [];\n\n\nfor (let device in msg.payload) {\n    \n   \n    let macadress = msg.payload[device].mac\n   \n    switch (macadress) {\n        case \"fa:9b:7e:5a:6c:6e\":\n        case \"52:9c:f0:c9:7a:bd\":\n        case \"aa:e4:74:26:ba:e3\":\n\n            data.people.push(\"heggland\");\n            data.payload = true;\n            break;\n        case \"d6:05:24:1f:de:7a\":\n           \n            data.people.push(\"karina\");\n            data.payload = true;\n            break;\n        default:\n\n         break;\n    } \n\n}\n\n\nreturn data",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 660,
        "wires": [
            [
                "f471eaf5a8b7a9c1",
                "c193846ba140e27e"
            ]
        ],
        "outputLabels": [
            "oivheg "
        ]
    },
    {
        "id": "f471eaf5a8b7a9c1",
        "type": "function",
        "z": "6a77c00f79a19693",
        "name": "Check Phones",
        "func": "\nlet home = [{ payload: false }, { payload: false }];\nmsg.people.forEach(function(element) {\n    msg.payload =true;\n    if (element == \"heggland\"){\n       home[0].payload = true;\n        \n    }\n    if (element == \"karina\") {\n        home[1].payload = true;\n\n\n    }\n});\n\nreturn home;",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 720,
        "wires": [
            [
                "d6d8cf38.1794d"
            ],
            [
                "3d692d1e.98b022"
            ]
        ]
    },
    {
        "id": "d6d8cf38.1794d",
        "type": "rbe",
        "z": "6a77c00f79a19693",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1070,
        "y": 720,
        "wires": [
            [
                "772b0560.6b8bcc"
            ]
        ]
    },
    {
        "id": "3d692d1e.98b022",
        "type": "rbe",
        "z": "6a77c00f79a19693",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1070,
        "y": 760,
        "wires": [
            [
                "47763aff.5ff334"
            ]
        ]
    },
    {
        "id": "772b0560.6b8bcc",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "heggland",
        "links": [
            "d871d736.d19838"
        ],
        "x": 1235,
        "y": 720,
        "wires": []
    },
    {
        "id": "47763aff.5ff334",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "karina",
        "links": [
            "b9ab5a15.2f2aa8",
            "84abded8.462ac"
        ],
        "x": 1235,
        "y": 760,
        "wires": []
    },
    {
        "id": "05d9e9467b811a09",
        "type": "arp",
        "z": "6a77c00f79a19693",
        "name": "ARP",
        "ips": "",
        "x": 510,
        "y": 660,
        "wires": [
            [
                "eabe9d09ac5494a3",
                "923123cf470fc3e4"
            ]
        ]
    },
    {
        "id": "71e547f174525c61",
        "type": "inject",
        "z": "6a77c00f79a19693",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": true,
        "onceDelay": "30",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 660,
        "wires": [
            [
                "05d9e9467b811a09"
            ]
        ]
    },
    {
        "id": "37ecb2352d8f3ddc",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1210,
        "y": 620,
        "wires": [
            [
                "5ad46aeb74ed6636"
            ],
            [
                "6b9eeab08f2cdd54"
            ]
        ]
    },
    {
        "id": "5ad46aeb74ed6636",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "link out 14",
        "mode": "link",
        "links": [
            "60335bf328a8b516"
        ],
        "x": 1225,
        "y": 580,
        "wires": []
    },
    {
        "id": "6b9eeab08f2cdd54",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "link out 15",
        "mode": "link",
        "links": [
            "9e9814a999c69457"
        ],
        "x": 1225,
        "y": 640,
        "wires": []
    },
    {
        "id": "7fa20e6124b85c12",
        "type": "debug",
        "z": "6a77c00f79a19693",
        "name": "debug 35",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 800,
        "wires": []
    },
    {
        "id": "f76dc950e201b13c",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "name": "",
        "property": "payload.ip",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "192.168.1.123",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 760,
        "wires": [
            [
                "7fa20e6124b85c12"
            ]
        ]
    },
    {
        "id": "923123cf470fc3e4",
        "type": "split",
        "z": "6a77c00f79a19693",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 540,
        "y": 720,
        "wires": [
            [
                "f76dc950e201b13c"
            ]
        ]
    },
    {
        "id": "c193846ba140e27e",
        "type": "rbe",
        "z": "6a77c00f79a19693",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 950,
        "y": 620,
        "wires": [
            [
                "072b942be74f4d7c"
            ]
        ]
    },
    {
        "id": "ae81d2dc712da204",
        "type": "inject",
        "z": "6a77c00f79a19693",
        "name": "",
        "props": [
            {
                "p": "reset",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 800,
        "y": 820,
        "wires": [
            [
                "d6d8cf38.1794d",
                "3d692d1e.98b022"
            ]
        ]
    },
    {
        "id": "072b942be74f4d7c",
        "type": "switch",
        "z": "6a77c00f79a19693",
        "name": "Gusetmode",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 1050,
        "y": 620,
        "wires": [
            [
                "37ecb2352d8f3ddc"
            ]
        ]
    },
    {
        "id": "d361da10e85d524e",
        "type": "noraf-light",
        "z": "6a77c00f79a19693",
        "devicename": "FP2 Movement",
        "lightcolor": false,
        "brightnesscontrol": false,
        "commandonlycolor": false,
        "turnonwhenbrightnesschanges": false,
        "passthru": false,
        "errorifstateunchaged": false,
        "statepayload": true,
        "brightnessoverride": "",
        "roomhint": "Kitchen/Livingroom",
        "name": "",
        "colortype": "hsv",
        "nora": "4fc724fc06c8dc88",
        "topic": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "offvalue": "false",
        "offvalueType": "bool",
        "temperaturemin": "2700",
        "temperaturemax": "5500",
        "twofactor": "off",
        "twofactorpin": "",
        "filter": false,
        "x": 320,
        "y": 980,
        "wires": [
            [
                "fe4a545b5c4fe7f7",
                "cf3797c1e0b5c101",
                "bc76c6da083bdd3b"
            ]
        ]
    },
    {
        "id": "57e811c66ab8f49f",
        "type": "inject",
        "z": "6a77c00f79a19693",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 980,
        "wires": [
            [
                "d361da10e85d524e"
            ]
        ]
    },
    {
        "id": "fe4a545b5c4fe7f7",
        "type": "debug",
        "z": "6a77c00f79a19693",
        "name": "debug 48",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 1080,
        "wires": []
    },
    {
        "id": "bc76c6da083bdd3b",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "FP2 Livingroom",
        "mode": "link",
        "links": [
            "be2ad471.d9c448"
        ],
        "x": 485,
        "y": 980,
        "wires": []
    },
    {
        "id": "89f7ec8935c421e9",
        "type": "noraf-light",
        "z": "6a77c00f79a19693",
        "devicename": "FP2 Bathroom",
        "lightcolor": false,
        "brightnesscontrol": false,
        "commandonlycolor": false,
        "turnonwhenbrightnesschanges": false,
        "passthru": false,
        "errorifstateunchaged": false,
        "statepayload": true,
        "brightnessoverride": "",
        "roomhint": "Bathroom",
        "name": "",
        "colortype": "hsv",
        "nora": "4fc724fc06c8dc88",
        "topic": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "offvalue": "false",
        "offvalueType": "bool",
        "temperaturemin": "2700",
        "temperaturemax": "5500",
        "twofactor": "off",
        "twofactorpin": "",
        "filter": false,
        "x": 320,
        "y": 900,
        "wires": [
            [
                "ca84a21742d3e0cd",
                "cf3797c1e0b5c101",
                "7063ac25d49743b3"
            ]
        ]
    },
    {
        "id": "ca84a21742d3e0cd",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "FP2 Bathroom",
        "mode": "link",
        "links": [
            "d9f59e6e05f7c5b4"
        ],
        "x": 485,
        "y": 900,
        "wires": []
    },
    {
        "id": "cf3797c1e0b5c101",
        "type": "link out",
        "z": "6a77c00f79a19693",
        "name": "link out 18",
        "mode": "link",
        "links": [
            "1329b56.bea634b"
        ],
        "x": 485,
        "y": 940,
        "wires": []
    },
    {
        "id": "7063ac25d49743b3",
        "type": "debug",
        "z": "6a77c00f79a19693",
        "name": "debug 51",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 880,
        "wires": []
    }
]