[
    {
        "id": "1c11632f.f206fd",
        "type": "tab",
        "label": "Smarthus Oversikt",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bc3b2c68.b35f6",
        "type": "tab",
        "label": "Garbage Collector",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8b99f8fe.7b27b8",
        "type": "tab",
        "label": "Smarthome_MODE",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1b14ec1b.20ab54",
        "type": "tab",
        "label": "Happy",
        "disabled": false,
        "info": ""
    },
    {
        "id": "605ae98f.8a9998",
        "type": "tab",
        "label": "Bedroom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f487aa99.386108",
        "type": "tab",
        "label": "Data",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e3737c94.fd59f",
        "type": "tab",
        "label": "FH Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a7af161f.d5ece8",
        "type": "tab",
        "label": "Deconz Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8c7725c0.d87138",
        "type": "tab",
        "label": "HOMEKIT",
        "disabled": false,
        "info": ""
    },
    {
        "id": "94ff8f0f.02c5a",
        "type": "subflow",
        "name": "Deconz converter",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 420,
                "y": 200,
                "wires": [
                    {
                        "id": "e5f5aa31.81fff8"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 720,
                "y": 200,
                "wires": [
                    {
                        "id": "e5f5aa31.81fff8",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "Name",
                "type": "str",
                "value": "default"
            },
            {
                "name": "ETG",
                "type": "str",
                "value": "1"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 640,
            "y": 140,
            "wires": [
                {
                    "id": "94ff8f0f.02c5a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "682302c8.9d819c",
        "type": "group",
        "z": "1c11632f.f206fd",
        "name": "",
        "style": {
            "stroke": "#777777",
            "fill": "none",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dda2305e.f8873",
            "48d4f8d0.54a8c8",
            "5483e66f.781f18",
            "6a44834f.a649fc",
            "96c7928d.91306",
            "4041d59d.e27a3c",
            "2a12fa10.833ac6",
            "dcb8fc88.dda92",
            "1106e25f.216e3e"
        ],
        "x": 174,
        "y": 379,
        "w": 1072,
        "h": 182
    },
    {
        "id": "138044d1.a3f37b",
        "type": "group",
        "z": "1c11632f.f206fd",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true
        },
        "nodes": [
            "59fec024.6e04c",
            "e1568b9c.db9628",
            "a575a24f.3f6a",
            "947d038a.551e7",
            "241a1687.d17f6a",
            "e057321f.b4251",
            "cdc3dcd0.08d3",
            "55188a56.16c264",
            "ff3048c4.3152f8"
        ],
        "x": 174,
        "y": 559,
        "w": 1272,
        "h": 142
    },
    {
        "id": "f2958898.ff1ca8",
        "type": "group",
        "z": "1c11632f.f206fd",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true
        },
        "nodes": [
            "87ad50cc.3a9e9",
            "8f4bfbbd.bb7058",
            "54c693ad.c8cfdc",
            "52f285f6.01182c",
            "58f7527a.66219c",
            "f7c157fb.914968",
            "1549e12e.f9b98f",
            "d03e20c.bd966e"
        ],
        "x": 174,
        "y": 739,
        "w": 952,
        "h": 142
    },
    {
        "id": "f6aee802.f74bc8",
        "type": "mqtt-broker",
        "z": "",
        "name": "Homeseer",
        "broker": "192.168.1.103",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "homeseer",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "dccbff74.2769",
        "type": "node-hue-bridge",
        "z": "",
        "name": "Hue Bridge",
        "address": "192.168.1.53",
        "key": "VBGb8l3baRWQyLpSQK2-GAB6H0UsRj37n3e51l3O",
        "interval": "10000"
    },
    {
        "id": "c40d1711.7fd448",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "8d9ae12b.2a6f5",
        "type": "ui_tab",
        "z": "",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8a264f87.d9145",
        "type": "ui_group",
        "z": "",
        "name": "Floorplan",
        "tab": "8d9ae12b.2a6f5",
        "order": 1,
        "disp": true,
        "width": "18",
        "collapse": false
    },
    {
        "id": "530528aa.2006c8",
        "type": "pushbullet-config",
        "z": "",
        "name": "Øivind"
    },
    {
        "id": "d1934670.897a88",
        "type": "googlehome-config-node",
        "z": "",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: Norsk",
        "language": "no"
    },
    {
        "id": "a967d384.f5115",
        "type": "googlehome-config-node",
        "z": "",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: RU",
        "language": "ru"
    },
    {
        "id": "35cb409b.4a073",
        "type": "googlehome-config-node",
        "z": "",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: ENG",
        "language": "en"
    },
    {
        "id": "5ee6b185.35f2d",
        "type": "googlehome-config-node",
        "z": "",
        "ipaddress": "192.168.1.44",
        "name": "Stue: RU",
        "language": "ru"
    },
    {
        "id": "354eb0bd.91999",
        "type": "googlehome-config-node",
        "z": "",
        "ipaddress": "192.168.1.44",
        "name": "Stue: ENG",
        "language": "en"
    },
    {
        "id": "429b8253.24d1dc",
        "type": "googlehome-config-node",
        "z": "",
        "ipaddress": "192.168.1.44",
        "name": "Stue: NO",
        "language": "no"
    },
    {
        "id": "ca3eef.3da5b11",
        "type": "ui_group",
        "z": "",
        "name": "Kjeller",
        "tab": "8d9ae12b.2a6f5",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "56a8be2a.9b9eb",
        "type": "ui_group",
        "z": "",
        "name": "House",
        "tab": "8d9ae12b.2a6f5",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "efd0ae.1a06bf5",
        "type": "ui_group",
        "z": "",
        "name": "1 Etg",
        "tab": "8d9ae12b.2a6f5",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "12895ae7.9c6bf5",
        "type": "deconz-server",
        "z": "",
        "name": "Zigbee",
        "ip": "192.168.1.103",
        "port": "80",
        "apikey": "235159C37F",
        "ws_port": "8088",
        "secure": false,
        "polling": "15"
    },
    {
        "id": "1f05e387.5d527c",
        "type": "ui_tab",
        "z": "",
        "name": "List",
        "icon": "dashboard"
    },
    {
        "id": "54f6a8ea.957eb8",
        "type": "nora-config",
        "z": "",
        "name": "hegglunds",
        "group": "",
        "notify": false
    },
    {
        "id": "99977a8c.c02588",
        "type": "influxdb",
        "z": "",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "movement",
        "name": "",
        "usetls": false,
        "tls": ""
    },
    {
        "id": "583fffe9.e7d8f",
        "type": "ui_group",
        "z": "",
        "name": "Bevegelse",
        "tab": "1f05e387.5d527c",
        "order": 1,
        "disp": true,
        "width": 24,
        "collapse": false
    },
    {
        "id": "6708f2f6.06829c",
        "type": "miio-roborock-server",
        "z": "",
        "name": "Mr Robot",
        "ip": "192.168.1.90",
        "token": "4e765244557a37537139316f77595245",
        "polling": "30"
    },
    {
        "id": "4ec8324b.b2dc1c",
        "type": "ambi-config",
        "z": "",
        "clientId": "c52c175d-8388-4974-be6e-2db7abf90818",
        "clientSecret": "8046ff33-2c02-4aa7-95d5-cb71848032dd",
        "username": "oivheg@gmail.com",
        "password": "y4mHub&PcsW0%p!I"
    },
    {
        "id": "36cbdad6.513a26",
        "type": "hs-server",
        "z": "",
        "name": "Homeseer",
        "host": "localhost",
        "port": "81"
    },
    {
        "id": "fae123cb.bd4b2",
        "type": "futurehome-login",
        "z": "",
        "displayName": "Øivind",
        "site_name": "Hegglunds",
        "base_uri": "futurehome.no/",
        "username": "oivheg@gmail.com"
    },
    {
        "id": "3587f56e.3de5ba",
        "type": "castv2-connection",
        "z": "",
        "name": "",
        "target": "SHIELD",
        "host": "",
        "port": "8009"
    },
    {
        "id": "c2122377.b14ac",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "cube.local",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "3cfc41c.b6569be",
        "type": "mqtt-broker",
        "z": "",
        "name": "Smarthub",
        "broker": "zwave.local",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "d4f8fc23.2b07",
        "type": "pushbullet-config",
        "name": "Not valid!!"
    },
    {
        "id": "c93d9ccb.30d74",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "On\\Off",
        "func": "msg.payload;\n//msg.payload.on =  msg.payload.power === \"on\" ? true : false \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1350,
        "y": 1220,
        "wires": [
            [
                "2552d668.c01cea",
                "8f119d5d.e9645",
                "bb47679e.49ecb8"
            ]
        ]
    },
    {
        "id": "b60e383f.f82dc8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Set Karinas Office",
        "func": "let msg2 = {id: \"karina\",name:\"Karinas office\", power : msg.payload.on === true ? \"on\" : \"off\"}\nreturn msg2;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 1060,
        "wires": [
            [
                "66d9f1c.785941"
            ]
        ]
    },
    {
        "id": "2552d668.c01cea",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "Hue Lights",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Karinas office",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1590,
        "y": 1180,
        "wires": [
            [
                "e0c331e3.e6648"
            ]
        ]
    },
    {
        "id": "10016b07.ab9885",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Presence",
        "info": "",
        "x": 120,
        "y": 100,
        "wires": []
    },
    {
        "id": "7c348293.52162c",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "Every 30 seconds",
        "repeat": "30",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "f44e1823.867bc8"
            ]
        ]
    },
    {
        "id": "6cef8202.47cb9c",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Determine device presence",
        "func": "const lastSeenSeconds = 70;\nlet presenceCutoff = (new Date() - (lastSeenSeconds * 1000)) / 1000; \nconst people = {\n    \"presence/heggland\": \"heggland\",\n    \"presence/karina\": \"karina\",\n    \"presence/person3\": \"stian\"\n};\n\nreturn Object.keys(people).map(function(topic) {\n    let devices = msg.payload[0].filter(device => device.name === people[topic] && device.last_seen > presenceCutoff);\n    return {\n        topic: topic,\n        retain: true,\n        payload: devices.length > 0\n    };\n});",
        "outputs": 3,
        "noerr": 0,
        "x": 1080,
        "y": 240,
        "wires": [
            [
                "d5a9cb0d.738118",
                "394f6d15.3c43e2",
                "d141af98.8dd0d",
                "d6d8cf38.1794d"
            ],
            [
                "d5a9cb0d.738118",
                "394f6d15.3c43e2",
                "3d692d1e.98b022"
            ],
            [
                "394f6d15.3c43e2"
            ]
        ],
        "outputLabels": [
            "oivheg ",
            "Karina ",
            "Stian"
        ]
    },
    {
        "id": "f0615fd.9f26ba",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Home",
        "func": "msg.payload = {\"mode\":\"home\"};\nglobal.set(\"Mode\", \"home\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2050,
        "y": 240,
        "wires": [
            [
                "247260f.c82dca",
                "5e0f66ea.3848a8",
                "4ad4e281.7dd9ac"
            ]
        ]
    },
    {
        "id": "e4c32eed.12537",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Away",
        "func": "msg.payload = {\"mode\":\"away\"};\nglobal.set(\"Mode\", \"away\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2050,
        "y": 280,
        "wires": [
            [
                "fc4fe81e.444628",
                "77d1d4b3.4641ec",
                "af800f77.82ef5"
            ]
        ]
    },
    {
        "id": "9c18ec5f.f9594",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "INFORM",
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 40,
        "wires": [
            [
                "47a496d1.bcac18",
                "6a421ae3.f71ae4"
            ]
        ]
    },
    {
        "id": "ae47dd19.04f86",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "GO",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "GO",
        "payloadType": "str",
        "x": 70,
        "y": 340,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "38b19a16.a4b306",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "STOP",
        "payloadType": "str",
        "x": 70,
        "y": 380,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "3b05335c.ab790c",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 260,
        "wires": [
            [
                "7db434df.a3db2c"
            ]
        ]
    },
    {
        "id": "9430e52f.746a78",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.topic = \"Remember Garbage\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 220,
        "wires": [
            [
                "c0005e0c.a1014"
            ]
        ]
    },
    {
        "id": "37115d31.12a892",
        "type": "switch",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 20,
        "wires": [
            [
                "584db3f7.80672c"
            ],
            [
                "757cb634.cb61d8"
            ]
        ]
    },
    {
        "id": "584db3f7.80672c",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 20,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "757cb634.cb61d8",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 60,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "1329b56.bea634b",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "links": [
            "fbefe13.48c352"
        ],
        "x": 175,
        "y": 460,
        "wires": [
            [
                "477666d4.b53928"
            ]
        ]
    },
    {
        "id": "55a1471c.7ca3e8",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "30",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 460,
        "wires": [
            [
                "8bc83fb6.95689"
            ]
        ]
    },
    {
        "id": "28f59771.b88068",
        "type": "ui_button",
        "z": "bc3b2c68.b35f6",
        "name": "STOP",
        "group": "56a8be2a.9b9eb",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Søppel",
        "tooltip": "Trykk når søppel tatt ut",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "STOP",
        "payloadType": "str",
        "topic": "FALSE",
        "x": 70,
        "y": 300,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "e24d6f6a.515a6",
        "type": "ui_toast",
        "z": "bc3b2c68.b35f6",
        "position": "top right",
        "displayTime": "10",
        "highlight": "",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "Husk SÃ¸ppel",
        "name": "Husk SÃ¸ppel",
        "x": 490,
        "y": 180,
        "wires": []
    },
    {
        "id": "343547fd.e77fb8",
        "type": "ui_template",
        "z": "1c11632f.f206fd",
        "group": "8a264f87.d9145",
        "name": "1 ETG",
        "order": 1,
        "width": 9,
        "height": 11,
        "format": "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>\n</head>\n<body style=\"margin: 0px;\">\n\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"450\" height=\"800\"  xml:space=\"preserve\" id=\"i02XXX\">\n    <!-- Generated by PaintCode - http://www.paintcodeapp.com -->\n    <defs>\n        <pattern id=\"i1floorPlan\" patternUnits=\"userSpaceOnUse\" width=\"450\" height=\"600\" align=\"middle\">\n            <image xlink:href=\"http://toyotacarina.net/SmartHome/1stFloor.jpg\" x=\"0\" y=\"0\" width=\"450\" height=\"600\" align=\"middle\"></image>\n        </pattern>\n    </defs>\n    <rect id=\"i02XXX-floorPlan\" stroke=\"none\" fill=\"url(#i1floorPlan)\" x=\"0\" y=\"0\" width=\"450\" height=\"600\" align=\"middle\"></rect>\n    <g id=\"i02XXX-allSensors\">\n        <g id=\"i02XXX-motionSensors\" opacity=\"0.5\">\n            \n            <g id=\"Livingroom\" transform=\"translate(430,408) rotate(90)\">\n                <svg class=\"svg-rect\" width=\"149\" height=\"67\">\n                    <rect id=\"Stue\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Lys i stue</text>\n                </svg>\n            </g>\n               <g id=\"KarinasOffice\" transform=\"translate(430,40) rotate(90)\">\n                <svg class=\"svg-rect\" width=\"149\" height=\"67\">\n                    <rect id=\"Karinas office\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Karinas office</text>\n                </svg>\n            </g>\n            <g id=\"Kitchen\" transform=\"translate(0,510)\">\n                <svg class=\"svg-rect\" width=\"221\" height=\"75\">\n                    <rect id=\"Kjøkken\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Kjøkken lys</text>\n                </svg>  \n            </g>\n             <g id=\"Gusetroom\" transform=\"translate(0,170)\">\n                <svg class=\"svg-rect\" width=\"150\" height=\"75\">\n                    <rect id=\"Kontor: Lys\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Guestroom lys</text>\n                </svg>                \n            </g>\n             <g id=\"Gang\" transform=\"translate(170,50)\">\n                <svg class=\"svg-rect\" width=\"150\" height=\"75\">\n                    <rect id=\"Gangen\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Gang</text>\n                </svg>                \n            </g>\n        </g>\n    </g>\n</svg>\n\n<script>\nvar light = \"on\";\nvar name = \"lys\";\nvar retur = \"mothing\";\nfunction myFunction(clicked_id) {\n    \n    //  document.getElementById(clicked_id).style.fill=\"yellow\";\n   var fill = document.getElementById(clicked_id).style.fill;\n    if (fill ==  \"yellow\")  {\n    document.getElementById(clicked_id).style.fill=\"white\";\n    light = \"off\";\n    name = clicked_id;\n  } else {\n    document.getElementById(clicked_id).style.fill=\"yellow\";\n    light = \"on\";\n     name = clicked_id;\n    \n  }\n \n}\n\nthis.scope.action = function() { return {\"power\" :light, \"name\": name }; }\n\n</script>\n<script>\n  (function(scope){ \n\tscope.$watch('msg', function(msg) {\n\t\tif (msg){\n\t\t    console.log(msg.payload.jquerySelector);\n\t\t    console.log(document.getElementById(String(msg.payload.jquerySelector)));\n\t\t\tif (msg.payload.status ==  \"off\")  {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"white\";\n\t\t\t} else {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"yellow\";\n\t\t\t}                     \n\t\t}\n\t});\n})(scope);\n</script>\n</body>\n</html>\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 1210,
        "y": 1180,
        "wires": [
            [
                "c93d9ccb.30d74"
            ]
        ]
    },
    {
        "id": "db00bb8.82e0148",
        "type": "ui_template",
        "z": "1c11632f.f206fd",
        "group": "8a264f87.d9145",
        "name": "Basement",
        "order": 2,
        "width": 9,
        "height": 11,
        "format": "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>\n</head>\n<body style=\"margin: 0px;\">\n\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"450\" height=\"800\"  xml:space=\"preserve\" id=\"i01XXX\">\n    <!-- Generated by PaintCode - http://www.paintcodeapp.com -->\n    <defs>\n        <pattern id=\"basementPattern\" patternUnits=\"userSpaceOnUse\" width=\"450\" height=\"600\" align=\"middle\">\n            <image xlink:href=\"http://toyotacarina.net/SmartHome/Basement.jpg\" x=\"0\" y=\"0\" width=\"450\" height=\"600\" align=\"middle\"></image>\n        </pattern>\n    </defs>\n    <rect id=\"i01XXX-floorPlan\" stroke=\"none\" fill=\"url(#basementPattern)\" x=\"0\" y=\"0\" width=\"450\" height=\"600\" align=\"middle\"></rect>\n      <g id=\"i01XXX-allSensors\">\n        <g id=\"i01XXX-motionSensors\" opacity=\"0.5\">\n     <g id=\"Basement\" transform=\"translate(430,390) rotate(90)\">\n                <svg class=\"svg-rect\" width=\"200\" height=\"60\">\n                    <rect id=\"Kjeller Gang\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Kjeller Lys</text>\n                </svg>                \n            </g>\n\t <g id=\"Vaskerom1\" transform=\"translate(170,20)\">\n                <svg class=\"svg-rect\" width=\"120\" height=\"100\">\n                    <rect id=\"Vaskerom: Lys\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Vaskerom</text>\n                </svg>                \n            </g>\n\t<g id=\"Closet1\" transform=\"translate(310,20)\">\n                <svg class=\"svg-rect\" width=\"110\" height=\"170\">\n                    <rect id=\"Closet\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Garderobe</text>\n                </svg>                \n            </g>\n    <g id=\"Soverommet\" transform=\"translate(20,400)\">\n                <svg class=\"svg-rect\" width=\"110\" height=\"130\">\n                    <rect id=\"Karina\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Soverom</text>\n                </svg>                \n            </g>\n    <g id=\"Gardin\" transform=\"translate(60,550)\">\n                <svg class=\"svg-rect\" width=\"110\" height=\"40\">\n                    <rect id=\"Sov_Gardin\" onclick=\"myFunction(this.id)\" ng-click=\"send({payload: action()})\" width=\"100%\" height=\"100%\" stroke=\"none\" fill=\"white\" rx=\"13\" ></rect>\n                    <text x=\"50%\" y=\"50%\" text-anchor=\"middle\" stroke=\"black\" font-family=\"HelveticaNeue-Bold, 'Helvetica Neue', Helvetica, Arial, sans-serif\" font-weight=\"bold\" font-size=\"20\">Gardin</text>\n                </svg>                \n            </g>\n        </g>   \n    </g>  \n</svg>\n<script>\nvar light = \"on\";\nvar name = \"lys\";\nvar retur = \"mothing\";\nfunction myFunction(clicked_id) {\n    \n    //  document.getElementById(clicked_id).style.fill=\"yellow\";\n   var fill = document.getElementById(clicked_id).style.fill;\n    if (fill ==  \"yellow\")  {\n    document.getElementById(clicked_id).style.fill=\"white\";\n    light = \"off\";\n    name = clicked_id;\n  } else {\n    document.getElementById(clicked_id).style.fill=\"yellow\";\n    light = \"on\";\n     name = clicked_id;\n    \n  }\n \n}\n\nthis.scope.action = function() { return {\"power\" :light, \"name\": name }; }\n\n</script>\n<script>\n  (function(scope){ \n\tscope.$watch('msg', function(msg) {\n\t\tif (msg){\n\t\t    console.log(msg.payload.jquerySelector);\n\t\t    console.log(document.getElementById(String(msg.payload.jquerySelector)));\n\t\t\tif (msg.payload.status ==  \"off\")  {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"white\";\n\t\t\t} else {\n\t\t\t\tdocument.getElementById(String(msg.payload.jquerySelector)).style.fill=\"yellow\";\n\t\t\t}                     \n\t\t}\n\t});\n})(scope);\n</script>\n</body>\n</html>\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 1200,
        "y": 1260,
        "wires": [
            [
                "c93d9ccb.30d74",
                "8b7ef03e.b678d"
            ]
        ]
    },
    {
        "id": "c2c55e51.42bd2",
        "type": "node-hue-out",
        "z": "1c11632f.f206fd",
        "server": "dccbff74.2769",
        "lightID": "light8",
        "name": "Karinas Office",
        "x": 170,
        "y": 1060,
        "wires": [
            [
                "b60e383f.f82dc8"
            ]
        ]
    },
    {
        "id": "d937e7f8.315d88",
        "type": "node-hue-in",
        "z": "1c11632f.f206fd",
        "server": "dccbff74.2769",
        "lightID": "light8",
        "name": "Karinas Office",
        "x": 1980,
        "y": 1180,
        "wires": []
    },
    {
        "id": "6a421ae3.f71ae4",
        "type": "bigtimer",
        "z": "bc3b2c68.b35f6",
        "outtopic": "",
        "outpayload1": "",
        "outpayload2": "",
        "name": "Big Timer",
        "comment": "",
        "lat": "58.851299",
        "lon": "5.748830",
        "starttime": "1035",
        "endtime": "1320",
        "starttime2": 0,
        "endtime2": 0,
        "startoff": 0,
        "endoff": 0,
        "startoff2": 0,
        "endoff2": 0,
        "offs": 0,
        "outtext1": "GO",
        "outtext2": "STOP",
        "timeout": 1440,
        "sun": false,
        "mon": false,
        "tue": true,
        "wed": false,
        "thu": false,
        "fri": false,
        "sat": false,
        "jan": true,
        "feb": false,
        "mar": false,
        "apr": false,
        "may": true,
        "jun": false,
        "jul": false,
        "aug": false,
        "sep": true,
        "oct": false,
        "nov": false,
        "dec": false,
        "day1": 0,
        "month1": 0,
        "day2": 0,
        "month2": 0,
        "day3": 0,
        "month3": 0,
        "day4": 0,
        "month4": 0,
        "day5": 0,
        "month5": 0,
        "day6": 0,
        "month6": 0,
        "day7": "",
        "month7": "",
        "day8": "",
        "month8": "",
        "day9": "",
        "month9": "",
        "day10": "",
        "month10": "",
        "day11": "",
        "month11": "",
        "day12": "",
        "month12": "",
        "d1": 0,
        "w1": 0,
        "d2": 0,
        "w2": 0,
        "d3": 0,
        "w3": 0,
        "d4": 0,
        "w4": 0,
        "d5": 0,
        "w5": 0,
        "d6": 0,
        "w6": 0,
        "xday1": 0,
        "xmonth1": 0,
        "xday2": 0,
        "xmonth2": 0,
        "xday3": 0,
        "xmonth3": 0,
        "xday4": 0,
        "xmonth4": 0,
        "xday5": 0,
        "xmonth5": 0,
        "xday6": 0,
        "xmonth6": 0,
        "xd1": 0,
        "xw1": 0,
        "xd2": 0,
        "xw2": 0,
        "xd3": 0,
        "xw3": 0,
        "xd4": 0,
        "xw4": 0,
        "xd5": 0,
        "xw5": 0,
        "xd6": 0,
        "xw6": 0,
        "suspend": false,
        "random": false,
        "repeat": false,
        "atstart": true,
        "odd": false,
        "even": false,
        "x": 100,
        "y": 120,
        "wires": [
            [
                "47a496d1.bcac18"
            ],
            [
                "47a496d1.bcac18",
                "37115d31.12a892"
            ],
            []
        ]
    },
    {
        "id": "394f6d15.3c43e2",
        "type": "and-gate",
        "z": "8b99f8fe.7b27b8",
        "name": "Er Borte",
        "rules": [
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/heggland"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/person3"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/karina"
            }
        ],
        "outputTopic": "Gone",
        "gateType": "and",
        "emitOnlyIfTrue": true,
        "x": 1400,
        "y": 280,
        "wires": [
            [
                "fc71e441.058a48"
            ]
        ]
    },
    {
        "id": "d5a9cb0d.738118",
        "type": "or-gate",
        "z": "8b99f8fe.7b27b8",
        "name": "Er Hjemme",
        "rules": [
            {
                "t": "true",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/heggland"
            },
            {
                "t": "true",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/karina"
            },
            {
                "t": "true",
                "propertyType": "msg",
                "property": "payload",
                "topic": "presence/person3"
            }
        ],
        "outputTopic": "Home",
        "gateType": "or",
        "emitOnlyIfTrue": true,
        "x": 1410,
        "y": 240,
        "wires": [
            [
                "16e01a0.bfa88e6"
            ]
        ]
    },
    {
        "id": "47a496d1.bcac18",
        "type": "traffic",
        "z": "bc3b2c68.b35f6",
        "name": "Traffic sample",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 280,
        "y": 220,
        "wires": [
            [
                "e24d6f6a.515a6",
                "9430e52f.746a78",
                "3b05335c.ab790c"
            ]
        ]
    },
    {
        "id": "e2460a6c.579118",
        "type": "Unifi",
        "z": "8b99f8fe.7b27b8",
        "name": "Heggland",
        "ip": "178.128.169.181",
        "port": 8443,
        "site": "7vyhbfa5",
        "command": "20",
        "unifios": false,
        "x": 860,
        "y": 240,
        "wires": [
            [
                "6cef8202.47cb9c"
            ]
        ]
    },
    {
        "id": "61ee7057.5df1f",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 460,
        "wires": [
            [],
            [
                "ebfc5adc.7672f8"
            ]
        ]
    },
    {
        "id": "ea100c04.f677b",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "d1934670.897a88",
        "name": "Kjeller: Norsk",
        "x": 2050,
        "y": 60,
        "wires": []
    },
    {
        "id": "1dd6721c.ecdc0e",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "a967d384.f5115",
        "name": "Kjeller:RU",
        "x": 2040,
        "y": 100,
        "wires": []
    },
    {
        "id": "e938ee3e.149e9",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "5ee6b185.35f2d",
        "name": "Stue:RU",
        "x": 2040,
        "y": 200,
        "wires": []
    },
    {
        "id": "f8249219.9cc45",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "35cb409b.4a073",
        "name": "Kjeller:english",
        "x": 2060,
        "y": 140,
        "wires": []
    },
    {
        "id": "2bfd1c76.96d4a4",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "354eb0bd.91999",
        "name": "Stue:English",
        "x": 2070,
        "y": 240,
        "wires": []
    },
    {
        "id": "d09cfa06.b99e18",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "429b8253.24d1dc",
        "name": "Stue: NO",
        "x": 2040,
        "y": 280,
        "wires": []
    },
    {
        "id": "e239cc32.ce75b",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller: NO",
        "links": [],
        "x": 1775,
        "y": 60,
        "wires": [
            [
                "ea100c04.f677b"
            ]
        ]
    },
    {
        "id": "be178b19.a730f8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller:  RU",
        "links": [],
        "x": 1775,
        "y": 100,
        "wires": [
            [
                "1dd6721c.ecdc0e"
            ]
        ]
    },
    {
        "id": "c9b1af2b.75dac",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller: ENG",
        "links": [],
        "x": 1775,
        "y": 140,
        "wires": [
            [
                "f8249219.9cc45"
            ]
        ]
    },
    {
        "id": "342f3c87.de1764",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: RU",
        "links": [],
        "x": 1775,
        "y": 200,
        "wires": [
            [
                "e938ee3e.149e9"
            ]
        ]
    },
    {
        "id": "fee9f406.ef48d8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: ENG",
        "links": [
            "6c568696.26a908",
            "7db434df.a3db2c",
            "976db23e.1f8ba",
            "64758e77.619e7"
        ],
        "x": 1775,
        "y": 240,
        "wires": [
            [
                "9702e016.0991d"
            ]
        ]
    },
    {
        "id": "d8761e25.88f1d",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: NO",
        "links": [
            "eb9070bf.75d39",
            "9dde96a4.f1d6d8"
        ],
        "x": 1775,
        "y": 280,
        "wires": [
            [
                "d09cfa06.b99e18"
            ]
        ]
    },
    {
        "id": "7db434df.a3db2c",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "links": [
            "fee9f406.ef48d8"
        ],
        "x": 615,
        "y": 260,
        "wires": []
    },
    {
        "id": "c0005e0c.a1014",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "SÃ¸ppel_Push",
        "links": [
            "9d6f976b.5d59f8"
        ],
        "x": 615,
        "y": 220,
        "wires": []
    },
    {
        "id": "e812b99e.e523f8",
        "type": "pushbullet",
        "z": "1c11632f.f206fd",
        "config": "530528aa.2006c8",
        "pushtype": "note",
        "title": "",
        "chan": "",
        "name": "Notification",
        "x": 2030,
        "y": 340,
        "wires": []
    },
    {
        "id": "9d6f976b.5d59f8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Pushbullet",
        "links": [
            "e7746f47.54cbc",
            "c0005e0c.a1014",
            "976db23e.1f8ba",
            "c0909415.c77af8"
        ],
        "x": 1775,
        "y": 340,
        "wires": [
            [
                "e812b99e.e523f8"
            ]
        ]
    },
    {
        "id": "fdbf838e.f9e58",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 520,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "ddc8b687.374538",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "00:15:8d:00:01:4a:08:f7-01-0006",
        "device_name": "Happy sulten : ZHASwitch",
        "topic": "",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 80,
        "wires": [
            [
                "547e3ce0.793284"
            ],
            []
        ]
    },
    {
        "id": "547e3ce0.793284",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "name": "Happy outside ",
        "func": "msg.payload = \"Happy wants to go outside\";\nmsg.emitVolume =50;\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Outside\",\n        \"description\": \"Happy wants to go Outside\",\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "x": 520,
        "y": 80,
        "wires": [
            [
                "976db23e.1f8ba"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "976db23e.1f8ba",
        "type": "link out",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "links": [
            "9d6f976b.5d59f8",
            "fee9f406.ef48d8"
        ],
        "x": 755,
        "y": 80,
        "wires": []
    },
    {
        "id": "eb90ae51.1af18",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "00:15:8d:00:01:9d:e5:2c-01-0006",
        "device_name": "Happy vil ut : ZHASwitch",
        "topic": "",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 140,
        "wires": [
            [
                "4f048068.a4401"
            ],
            []
        ]
    },
    {
        "id": "4f048068.a4401",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "name": "Happy hungry",
        "func": "msg.payload = \"Happy is hungry\";\nmsg.emitVolume =50;\n\n\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Eat\",\n        \"description\": \"Happy wants to eat\",\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "x": 520,
        "y": 140,
        "wires": [
            [
                "976db23e.1f8ba"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "ebfc5adc.7672f8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 460,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "3de649e9.5c9be6",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "to bedroom",
        "links": [],
        "x": 1395,
        "y": 480,
        "wires": []
    },
    {
        "id": "a085a6f7.ae8698",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 480,
        "wires": [
            [
                "3de649e9.5c9be6"
            ]
        ]
    },
    {
        "id": "66d9f1c.785941",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Update State_1_floor",
        "func": "let systemState = global.get(\"State_1_floor\") || {};\n\n        let name = msg.name;\n        let power = msg.power ;\n        let pay = { name,power}\n        let id = msg.id;\n        systemState[id] = pay;\n    \n\nglobal.set(\"State_1_floor\", systemState);\n\n\nreturn msg;\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 1180,
        "wires": [
            [
                "389edf89.60cfe"
            ]
        ]
    },
    {
        "id": "389edf89.60cfe",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Set State_1_floor",
        "func": "let systemState = global.get(\"State_1_floor\") || {};\n\n\n\n    for(var k in systemState)\n    {\n        name = systemState[k].name\n        status = systemState[k].power \n        pay = {jquerySelector: name, status}\n        msg.payload = pay\n        node.send(msg)\n    }\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 1180,
        "wires": [
            [
                "343547fd.e77fb8"
            ]
        ]
    },
    {
        "id": "a4770dbb.04eff",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "button press",
        "property": "payload.buttonevent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "2002",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1002",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 420,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "20238790.e84df8",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 440,
        "wires": [
            [
                "1bb57f45.872e71",
                "26caebff.0ab3c4",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "4182b18c.6b705",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "CLOSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "255",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 400,
        "wires": [
            [
                "1bb57f45.872e71",
                "112531d1.56298e",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "6c1d6758.428808",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "IK: Sov",
        "links": [
            "fd49ca1d.879ac8",
            "b630d8c.cb7f128",
            "fc4fe81e.444628"
        ],
        "x": 295,
        "y": 380,
        "wires": [
            [
                "6bb5ecbc.1d0e04"
            ]
        ]
    },
    {
        "id": "cec0f8cb.33f1b8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 380,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "247260f.c82dca",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: HOME",
        "links": [
            "3072aa8d.fc3b66",
            "8456ad2c.7b492"
        ],
        "x": 2175,
        "y": 240,
        "wires": []
    },
    {
        "id": "fc4fe81e.444628",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: Away",
        "links": [
            "3072aa8d.fc3b66",
            "6c1d6758.428808",
            "8456ad2c.7b492"
        ],
        "x": 2175,
        "y": 280,
        "wires": []
    },
    {
        "id": "79007779.8a0088",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Update State_basement",
        "func": "let systemState = global.get(\"State_basement\") || {};\n\n     let name = msg.name;\n        let power = msg.power ;\n        let pay = { name,power}\n        let id = msg.id;\n        systemState[id] = pay;\nglobal.set(\"State_basement\", systemState);\n\nreturn msg;\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 690,
        "y": 1260,
        "wires": [
            [
                "3054be45.205a62"
            ]
        ]
    },
    {
        "id": "3054be45.205a62",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Set State_basement",
        "func": "let systemState = global.get(\"State_basement\") || {};\n\n\n\n    for(var k in systemState)\n    {\n        name = systemState[k].name\n        status = systemState[k].power \n        pay = {jquerySelector: name, status}\n        msg.payload = pay\n        node.send(msg)\n    }\n\n\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 1260,
        "wires": [
            [
                "db00bb8.82e0148"
            ]
        ]
    },
    {
        "id": "b1e4c558.fb5618",
        "type": "ui_ui_control",
        "z": "1c11632f.f206fd",
        "name": "",
        "events": "connect",
        "x": 640,
        "y": 1220,
        "wires": [
            [
                "c316115f.3e237"
            ]
        ]
    },
    {
        "id": "9702e016.0991d",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 1900,
        "y": 240,
        "wires": [
            [
                "2bfd1c76.96d4a4"
            ]
        ]
    },
    {
        "id": "74a70908.bd50d8",
        "type": "inject",
        "z": "605ae98f.8a9998",
        "name": "Åpne Gardin 07 00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 290,
        "y": 300,
        "wires": [
            [
                "8818e486.2765d8"
            ]
        ]
    },
    {
        "id": "8f119d5d.e9645",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "Gardiner",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Sov_Gardin",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1580,
        "y": 1260,
        "wires": [
            [
                "e2e0325d.993a1"
            ]
        ]
    },
    {
        "id": "e2e0325d.993a1",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.on",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1760,
        "y": 1260,
        "wires": [
            [
                "b630d8c.cb7f128"
            ]
        ]
    },
    {
        "id": "b630d8c.cb7f128",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Ikea: Gardin SOV",
        "links": [
            "6c1d6758.428808"
        ],
        "x": 1875,
        "y": 1260,
        "wires": []
    },
    {
        "id": "7f15ef4a.ce4ca",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload.devices.power",
        "x": 410,
        "y": 1320,
        "wires": [
            [
                "79007779.8a0088"
            ]
        ]
    },
    {
        "id": "d8a4e608.f39898",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Sm: Gardin",
        "links": [
            "bb45bf3b.5ab5f"
        ],
        "x": 215,
        "y": 1320,
        "wires": [
            [
                "7f15ef4a.ce4ca"
            ]
        ]
    },
    {
        "id": "bb45bf3b.5ab5f",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "",
        "links": [
            "d8a4e608.f39898"
        ],
        "x": 1515,
        "y": 440,
        "wires": []
    },
    {
        "id": "9ab1a383.0f88b",
        "type": "ui_list",
        "z": "1b14ec1b.20ab54",
        "group": "56a8be2a.9b9eb",
        "name": "Happy",
        "order": 4,
        "width": "6",
        "height": "5",
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Happy",
        "x": 790,
        "y": 140,
        "wires": []
    },
    {
        "id": "3a030b43.080134",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 320,
        "wires": [
            [
                "9430e52f.746a78"
            ]
        ]
    },
    {
        "id": "6fce2655.029658",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "date",
        "duration": "10",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1870,
        "y": 280,
        "wires": [
            [
                "e4c32eed.12537"
            ]
        ]
    },
    {
        "id": "3e0910d1.7d582",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "Reset Away",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 240,
        "wires": [
            [
                "6fce2655.029658",
                "f0615fd.9f26ba"
            ]
        ]
    },
    {
        "id": "e1dcab5a.66f5f8",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "11:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 560,
        "wires": [
            [
                "2e0d79f5.69a796"
            ],
            []
        ]
    },
    {
        "id": "2e0d79f5.69a796",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Movement Morning",
        "links": [
            "1d2eacde.d050c3"
        ],
        "x": 555,
        "y": 560,
        "wires": []
    },
    {
        "id": "1d2eacde.d050c3",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Home Mode",
        "links": [
            "2e0d79f5.69a796"
        ],
        "x": 1595,
        "y": 200,
        "wires": [
            [
                "3e6914e6.deefec"
            ]
        ]
    },
    {
        "id": "3e6914e6.deefec",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1890,
        "y": 200,
        "wires": [
            [
                "f0615fd.9f26ba"
            ],
            [
                "f0615fd.9f26ba"
            ]
        ]
    },
    {
        "id": "525d4b6.a82efb4",
        "type": "nora-blinds",
        "z": "605ae98f.8a9998",
        "devicename": "Blinds",
        "roomhint": "Bedroom",
        "name": "",
        "passthru": false,
        "invert": false,
        "nora": "54f6a8ea.957eb8",
        "topic": "rullegardin",
        "x": 610,
        "y": 460,
        "wires": [
            [
                "d6717b22.f0d1e8"
            ]
        ]
    },
    {
        "id": "26caebff.0ab3c4",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "func": "msg.payload = {openPercent : 100};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1170,
        "y": 580,
        "wires": [
            [
                "525d4b6.a82efb4"
            ]
        ]
    },
    {
        "id": "112531d1.56298e",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Close",
        "func": "msg.payload = {openPercent : 0};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1170,
        "y": 540,
        "wires": [
            [
                "525d4b6.a82efb4"
            ]
        ]
    },
    {
        "id": "d6717b22.f0d1e8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload.openPercent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "100",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 770,
        "y": 460,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "1bb57f45.872e71",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "",
        "func": "        msg.payload = {devices:{id: \"id\",name: \"Sov_Gardin\", power: (msg.payload === 0) ? \"off\" : \"on\"}};\n      \n        \n   \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1250,
        "y": 440,
        "wires": [
            [
                "bb45bf3b.5ab5f"
            ]
        ]
    },
    {
        "id": "2603c373.b06f0c",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 630,
        "y": 300,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "817f1df1.c5f98",
        "type": "exec",
        "z": "1c11632f.f206fd",
        "command": "node-red-restart",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 1340,
        "y": 100,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "aecb8d48.af66f",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1140,
        "y": 100,
        "wires": [
            [
                "817f1df1.c5f98"
            ]
        ]
    },
    {
        "id": "772b0560.6b8bcc",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "heggland",
        "links": [
            "d871d736.d19838"
        ],
        "x": 1495,
        "y": 160,
        "wires": []
    },
    {
        "id": "47763aff.5ff334",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "karina",
        "links": [
            "b9ab5a15.2f2aa8",
            "84abded8.462ac"
        ],
        "x": 1495,
        "y": 200,
        "wires": []
    },
    {
        "id": "8a2b5b04.944b38",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 1220,
        "wires": [
            [
                "3054be45.205a62",
                "389edf89.60cfe"
            ]
        ]
    },
    {
        "id": "16e01a0.bfa88e6",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "home",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "units": "ms",
        "reset": "away",
        "bytopic": "all",
        "outputs": 1,
        "x": 1660,
        "y": 240,
        "wires": [
            [
                "fc71e441.058a48",
                "3e0910d1.7d582"
            ]
        ]
    },
    {
        "id": "fc71e441.058a48",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "away",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "units": "ms",
        "reset": "home",
        "bytopic": "all",
        "outputs": 1,
        "x": 1660,
        "y": 280,
        "wires": [
            [
                "16e01a0.bfa88e6",
                "6fce2655.029658"
            ]
        ]
    },
    {
        "id": "602fce3c.7d792",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Get Motion ",
        "query": "select * from Motion ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 850,
        "y": 160,
        "wires": [
            [
                "4c3aea37.34b724"
            ]
        ]
    },
    {
        "id": "991ef94.bba8508",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "Movement",
        "order": 1,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Movement",
        "x": 1250,
        "y": 160,
        "wires": []
    },
    {
        "id": "8f9dc82d.0e7b28",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 120,
        "wires": [
            [
                "4c3aea37.34b724"
            ]
        ]
    },
    {
        "id": "fc896ae2.2631d8",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.mode\n    listdata.icon_name = \"fa-home\";\n    if(listdata.title == \"away\"){\n         listdata.icon_name = \"fa-sign-out\";\n    }else if (listdata.title == \"sleep\"){\n         listdata.icon_name = \"fa-bed\";\n    }\n    \n    listdata.title = msg.payload.mode + \": \" + msg.payload.time.toLocaleTimeString();\n    listdata.description = msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1050,
        "y": 280,
        "wires": [
            [
                "9525b6d6.0d24b8"
            ],
            [
                "3f602c1d.afdeb4"
            ]
        ]
    },
    {
        "id": "fbde8b9b.41d5c8",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Get Mode",
        "query": "select * from Mode ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 840,
        "y": 260,
        "wires": [
            [
                "fc896ae2.2631d8"
            ]
        ]
    },
    {
        "id": "3f602c1d.afdeb4",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "Mode",
        "order": 2,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Mode",
        "x": 1230,
        "y": 280,
        "wires": []
    },
    {
        "id": "9525b6d6.0d24b8",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 240,
        "wires": [
            [
                "fc896ae2.2631d8"
            ]
        ]
    },
    {
        "id": "4c3aea37.34b724",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.name + \": \" + msg.payload.time.toLocaleTimeString();\n    listdata.icon_name =  \"fa-stop\";\n    if(msg.payload.movement === true){\n           listdata.icon_name = \"fa-play\";\n    }\n    \n    \n    listdata.description =  msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "x": 1049,
        "y": 163,
        "wires": [
            [
                "8f9dc82d.0e7b28"
            ],
            [
                "991ef94.bba8508"
            ]
        ]
    },
    {
        "id": "3d1162d0.861b9e",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.name\n    listdata.icon_name = \"fa-home\";\n    if(msg.payload.Status === false){\n         listdata.icon_name = \"fa-sign-out\";\n    }\n    \n    listdata.title = msg.payload.name + \": \" + msg.payload.Status;\n    listdata.description = \"KL:  \" + msg.payload.time.toLocaleTimeString() + \" \" + msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "x": 1050,
        "y": 380,
        "wires": [
            [
                "13992971.9f5ad7"
            ],
            [
                "7867cbfa.2c5394"
            ]
        ]
    },
    {
        "id": "d3a7cd73.75602",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Get UserState",
        "query": "select * from UserState ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 860,
        "y": 360,
        "wires": [
            [
                "3d1162d0.861b9e"
            ]
        ]
    },
    {
        "id": "7867cbfa.2c5394",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "userState",
        "order": 2,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Mode",
        "x": 1240,
        "y": 380,
        "wires": []
    },
    {
        "id": "13992971.9f5ad7",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "3d1162d0.861b9e"
            ]
        ]
    },
    {
        "id": "8818e486.2765d8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "sleepLonger",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 300,
        "wires": [
            [
                "2603c373.b06f0c"
            ]
        ]
    },
    {
        "id": "77ccbb67.9f0614",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Motion",
        "measurement": "Motion",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 220,
        "wires": []
    },
    {
        "id": "6c66c8c9.ee9c18",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Store Movement",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    name:msg.topic,\n    movement: msg.payload\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 220,
        "wires": [
            [
                "77ccbb67.9f0614"
            ]
        ]
    },
    {
        "id": "93ef5d70.0130e",
        "type": "link in",
        "z": "f487aa99.386108",
        "name": "Movement Status",
        "links": [
            "b6bc1feb.434cf",
            "96c7928d.91306",
            "947d038a.551e7",
            "1549e12e.f9b98f"
        ],
        "x": 175,
        "y": 220,
        "wires": [
            [
                "6c66c8c9.ee9c18"
            ]
        ]
    },
    {
        "id": "fdbcb7b8.ece208",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Store Mode",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    mode:global.get(\"Mode\")\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 260,
        "wires": [
            [
                "5da10e65.4ab27"
            ]
        ]
    },
    {
        "id": "5da10e65.4ab27",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Mode",
        "measurement": "Mode",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 260,
        "wires": []
    },
    {
        "id": "5b63eaae.4cbcf4",
        "type": "link in",
        "z": "f487aa99.386108",
        "name": "Mode Status",
        "links": [
            "973fda0d.893748",
            "47e242b5.0edd6c"
        ],
        "x": 175,
        "y": 260,
        "wires": [
            [
                "fdbcb7b8.ece208"
            ]
        ]
    },
    {
        "id": "e665b73a.350dd8",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "influxdb": "99977a8c.c02588",
        "name": "Users",
        "measurement": "UserState",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 300,
        "wires": []
    },
    {
        "id": "1ad64b95.49d574",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Store Person",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    name:msg.topic,\n    Status: msg.payload\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "e665b73a.350dd8"
            ]
        ]
    },
    {
        "id": "e3ae9576.18be48",
        "type": "link in",
        "z": "f487aa99.386108",
        "name": "Person Status",
        "links": [
            "3220b5b9.05cd2a",
            "19836afb.acbac5"
        ],
        "x": 175,
        "y": 300,
        "wires": [
            [
                "1ad64b95.49d574"
            ]
        ]
    },
    {
        "id": "8ea3f755.e68d88",
        "type": "miio-roborock-command",
        "z": "8b99f8fe.7b27b8",
        "name": "Mr Robot Start",
        "server": "6708f2f6.06829c",
        "command_name": "► Start",
        "command": "app_start",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 2680,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "5e0f66ea.3848a8",
        "type": "miio-roborock-command",
        "z": "8b99f8fe.7b27b8",
        "name": "Mr Robot STOP",
        "server": "6708f2f6.06829c",
        "command_name": "◼ Stop & dock",
        "command": "app_stop_dock",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 2520,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "3572fdf5.48cc62",
        "type": "miio-roborock-event",
        "z": "1c11632f.f206fd",
        "name": "Mr Robot",
        "server": "6708f2f6.06829c",
        "outputAtStartup": true,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "1f150a19.40f1f6"
            ]
        ]
    },
    {
        "id": "704455a7.c3d2ec",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "Mr Robot",
        "label": "{{label}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-bolt",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 840,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "9ae92a2b.99c9c8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Convert Data",
        "func": "     msg.label = msg.status.state_text;\n     //msg.payload = global.get(\"Mode\");\n     msg.payload = false;\n     if(msg.label === \"charging\"){\n         msg.payload = true;\n     }\n     \n     \n     msg.label = \"Mr Robot is \" + msg.label; \n     \n \nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 80,
        "wires": [
            [
                "704455a7.c3d2ec"
            ]
        ]
    },
    {
        "id": "f44e1823.867bc8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Guestmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 530,
        "y": 240,
        "wires": [
            [
                "a4626cbe.2a6a4"
            ]
        ]
    },
    {
        "id": "a4626cbe.2a6a4",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "!vacation",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "vacation",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 700,
        "y": 240,
        "wires": [
            [
                "e2460a6c.579118"
            ]
        ]
    },
    {
        "id": "77d1d4b3.4641ec",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 2310,
        "y": 340,
        "wires": [
            [
                "accd6d3d.10c09"
            ],
            []
        ]
    },
    {
        "id": "accd6d3d.10c09",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "12",
        "extend": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2490,
        "y": 340,
        "wires": [
            [
                "8ea3f755.e68d88"
            ]
        ]
    },
    {
        "id": "aeb922d5.4c923",
        "type": "site",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "Hegglunds",
        "x": 160,
        "y": 140,
        "wires": [
            [
                "a76ee99e.e4d718"
            ]
        ]
    },
    {
        "id": "a76ee99e.e4d718",
        "type": "json",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 310,
        "y": 140,
        "wires": [
            [
                "c45627f1.7688b8",
                "c5c2b5a2.bb5b18"
            ]
        ]
    },
    {
        "id": "84ab604.32a85a",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Mode",
                "pt": "global",
                "to": "payload.site.mode",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 60,
        "wires": [
            [
                "47e242b5.0edd6c"
            ]
        ]
    },
    {
        "id": "39dd072e.b84138",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 60,
        "wires": [
            [
                "84ab604.32a85a"
            ],
            [
                "84ab604.32a85a"
            ]
        ]
    },
    {
        "id": "8e07c57f.92d158",
        "type": "rbe",
        "z": "e3737c94.fd59f",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload.site.mode",
        "x": 830,
        "y": 60,
        "wires": [
            [
                "39dd072e.b84138"
            ]
        ]
    },
    {
        "id": "77d4a580.a4a38c",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "Type/ Function",
        "func": "\n\nif(typeof  msg.payload.site !== \"undefined\")\n{\n    var Mode = msg.payload.site.mode;\n return msg; \n} \n\nif(typeof  msg.payload.devices === \"undefined\"  ||  msg.payload.devices === null)\n{\n    //node.warn(\"no Device\");\n    return null;\n}\n\nif(typeof  msg.payload.devices[0].functionality !== \"undefined\" && msg.payload.devices[0].functionality !== null )\n{\n \n    if (msg.payload.devices[0].functionality == \"lighting\") {\n        var Light = {};\n        Light.name = msg.payload.devices[0].name;\n        Light.power = msg.payload.devices[0].power;\n        Light.Room = msg.payload.devices[0].room;\n        Light.id = msg.payload.devices[0].id;\n       return [null,Light];  \n    }\n     if (msg.payload.devices[0].functionality == \"heating\") {\n        var Heat = {};\n        Heat.name = msg.payload.devices[0].name;\n        Heat.power = msg.payload.devices[0].power;\n        Heat.Room = msg.payload.devices[0].room;\n        Heat.id = msg.payload.devices[0].id;\n       return [null,null,Heat];  \n    }\n    if (msg.payload.devices[0].functionality == \"appliance\") {\n        var appliance = {};\n        appliance.name = msg.payload.devices[0].name;\n        appliance.power = msg.payload.devices[0].power;\n        appliance.Room = msg.payload.devices[0].room;\n        appliance.id = msg.payload.devices[0].id;\n       return [null,null,null,null,appliance];  \n    }\n \n} else if (msg.payload.devices[0].functionality === null){\n   \n    var mvmnt = {};\n        mvmnt.name = msg.payload.devices[0].name;\n        mvmnt.topic = mvmnt.name;\n        mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = msg.payload.devices[0].room;\n        mvmnt.id = msg.payload.devices[0].id;\n        mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.payload = msg.payload.devices[0].presence;\n        \n    return [null,null,null,mvmnt];  \n}\n\n  \n",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 800,
        "y": 140,
        "wires": [
            [
                "8e07c57f.92d158"
            ],
            [
                "8ad3e3c1.ae8ea"
            ],
            [
                "f2e0b439.cfe148"
            ],
            [
                "8d3b028a.588a3"
            ],
            [
                "f57725ce.089018"
            ]
        ],
        "outputLabels": [
            "Mode",
            "Light",
            "Heat",
            "Movement",
            "appliance"
        ]
    },
    {
        "id": "47e242b5.0edd6c",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Mode Out",
        "links": [
            "5b63eaae.4cbcf4"
        ],
        "x": 1275,
        "y": 60,
        "wires": []
    },
    {
        "id": "8ad3e3c1.ae8ea",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Light_OUT",
        "links": [
            "babcae54.9d1a9",
            "d7b6736b.b8d49",
            "cb008c94.5ff1f"
        ],
        "x": 1095,
        "y": 100,
        "wires": []
    },
    {
        "id": "babcae54.9d1a9",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Light IN",
        "links": [
            "8ad3e3c1.ae8ea"
        ],
        "x": 215,
        "y": 1220,
        "wires": [
            [
                "598481d4.859ad"
            ]
        ]
    },
    {
        "id": "598481d4.859ad",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Gangen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjøkken",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Stue",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kontor: Lys",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjeller Gang",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Karina",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Vaskerom: Lys",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 8,
        "x": 410,
        "y": 1220,
        "wires": [
            [
                "66d9f1c.785941"
            ],
            [
                "66d9f1c.785941"
            ],
            [
                "66d9f1c.785941"
            ],
            [
                "66d9f1c.785941"
            ],
            [
                "79007779.8a0088"
            ],
            [
                "79007779.8a0088"
            ],
            [
                "79007779.8a0088"
            ],
            [
                "79007779.8a0088"
            ]
        ]
    },
    {
        "id": "7422f190.1aacf",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "11",
        "device_id": "11",
        "name": "Stue",
        "x": 850,
        "y": 600,
        "wires": []
    },
    {
        "id": "ae05daf4.f22088",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "10",
        "device_id": "10",
        "name": "Kjøkken",
        "x": 860,
        "y": 640,
        "wires": []
    },
    {
        "id": "57f7d91c.4946d8",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "17",
        "device_id": "17",
        "name": "Kjeller Gang",
        "x": 870,
        "y": 680,
        "wires": []
    },
    {
        "id": "a60ec8c0.5360a8",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "15",
        "device_id": "15",
        "name": "Vaskerom: Lys",
        "x": 880,
        "y": 760,
        "wires": []
    },
    {
        "id": "9d11c4da.344988",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "9",
        "device_id": "9",
        "name": "Closet",
        "x": 850,
        "y": 800,
        "wires": []
    },
    {
        "id": "472600f9.2afc6",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "20",
        "device_id": "20",
        "name": "Karina",
        "x": 850,
        "y": 840,
        "wires": []
    },
    {
        "id": "78b65f45.8b367",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "5",
        "device_id": "5",
        "name": "Kontor: Lys",
        "x": 870,
        "y": 880,
        "wires": []
    },
    {
        "id": "3de67605.ae865a",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "21",
        "device_id": "21",
        "name": "Gangen",
        "x": 860,
        "y": 720,
        "wires": []
    },
    {
        "id": "4bc3c84.d3b2838",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "FH:What Light",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Stue",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjøkken",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjeller Gang",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Gangen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Vaskerom: Lys",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Karina",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kontor: Lys",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 8,
        "x": 380,
        "y": 660,
        "wires": [
            [
                "7422f190.1aacf"
            ],
            [
                "ae05daf4.f22088"
            ],
            [
                "57f7d91c.4946d8"
            ],
            [
                "3de67605.ae865a"
            ],
            [
                "a60ec8c0.5360a8"
            ],
            [
                "9d11c4da.344988"
            ],
            [
                "472600f9.2afc6"
            ],
            [
                "78b65f45.8b367"
            ]
        ]
    },
    {
        "id": "aebee55b.78c578",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Status ",
        "info": "",
        "x": 130,
        "y": 80,
        "wires": []
    },
    {
        "id": "84619273.5b4a6",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Lights",
        "info": "",
        "x": 150,
        "y": 440,
        "wires": []
    },
    {
        "id": "93258667.8e8568",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "Lights",
        "links": [
            "bb47679e.49ecb8"
        ],
        "x": 135,
        "y": 660,
        "wires": [
            [
                "4bc3c84.d3b2838"
            ]
        ]
    },
    {
        "id": "bb47679e.49ecb8",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Lights_Out",
        "links": [
            "93258667.8e8568"
        ],
        "x": 1875,
        "y": 1220,
        "wires": []
    },
    {
        "id": "bb42f486.70c538",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Phillips Hue",
        "info": "",
        "x": 250,
        "y": 1000,
        "wires": []
    },
    {
        "id": "3fe65b32.abf894",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Futurehome",
        "info": "",
        "x": 250,
        "y": 1160,
        "wires": []
    },
    {
        "id": "3224de96.1f5772",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Deconz",
        "info": "",
        "x": 230,
        "y": 1260,
        "wires": []
    },
    {
        "id": "316049d.5ab63b6",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "FloorPlan",
        "info": "",
        "x": 180,
        "y": 940,
        "wires": []
    },
    {
        "id": "128705ae.2e87ba",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Status / INFO",
        "info": "",
        "x": 150,
        "y": 40,
        "wires": []
    },
    {
        "id": "1ecef1db.323e0e",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "Status",
        "label": "{{label}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "home",
        "onvalueType": "str",
        "onicon": "fa-home",
        "oncolor": "Green",
        "offvalue": "away",
        "offvalueType": "str",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 730,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "f679bcb.a33044",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Convert Data",
        "func": "     msg.label = global.get(\"Mode\");\n     msg.payload = global.get(\"Mode\");\n \nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 120,
        "wires": [
            [
                "1ecef1db.323e0e"
            ]
        ]
    },
    {
        "id": "8456ad2c.7b492",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "247260f.c82dca",
            "fc4fe81e.444628"
        ],
        "x": 155,
        "y": 120,
        "wires": [
            [
                "f679bcb.a33044"
            ]
        ]
    },
    {
        "id": "e45c34de.f632c8",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "heggland",
        "label": "Øivind",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-user",
        "oncolor": "Green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-user",
        "offcolor": "orange",
        "x": 380,
        "y": 220,
        "wires": [
            [
                "b670eaa0.8e6998",
                "fe7d3938.a5fd88"
            ]
        ]
    },
    {
        "id": "741be682.621ef8",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "karina",
        "label": "Karina",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-user",
        "oncolor": "Green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-user",
        "offcolor": "orange",
        "x": 370,
        "y": 260,
        "wires": [
            [
                "b670eaa0.8e6998",
                "f4cc46fb.79d698"
            ]
        ]
    },
    {
        "id": "d871d736.d19838",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "772b0560.6b8bcc"
        ],
        "x": 155,
        "y": 220,
        "wires": [
            [
                "45a078fc.952f68"
            ]
        ]
    },
    {
        "id": "84abded8.462ac",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "47763aff.5ff334"
        ],
        "x": 155,
        "y": 260,
        "wires": [
            [
                "e9824990.fac3a8"
            ]
        ]
    },
    {
        "id": "19836afb.acbac5",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Person Out",
        "links": [
            "e3ae9576.18be48"
        ],
        "x": 795,
        "y": 240,
        "wires": []
    },
    {
        "id": "f530a672.6d7088",
        "type": "mode",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "Home mode",
        "mode": "home",
        "x": 470,
        "y": 340,
        "wires": []
    },
    {
        "id": "3072aa8d.fc3b66",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "Mode",
        "links": [
            "247260f.c82dca",
            "fc4fe81e.444628",
            "c9b7d9c6.2c46e8"
        ],
        "x": 135,
        "y": 340,
        "wires": [
            [
                "f530a672.6d7088"
            ]
        ]
    },
    {
        "id": "80fca135.106b7",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Change Mode",
        "info": "",
        "x": 130,
        "y": 240,
        "wires": []
    },
    {
        "id": "820037b0.c8cac8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: English",
        "func": "msg.payload = \"Welcome Home Karina\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "f4fa0e6f.b6cf2",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: Norsk",
        "func": "msg.payload = \"Velkommen Hjem Karina\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1630,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "abeca5ba.816198",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: Russisk",
        "func": "msg.payload = \"Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð¾Ð¼Ð¾Ð¹ ÐšÐ°Ñ€Ð¸Ð½Ð°\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1630,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "d1068875.e54d18",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Sleep",
        "func": "msg.payload = {\"mode\":\"sleep\"};\nglobal.set(\"Mode\", \"sleep\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1250,
        "y": 520,
        "wires": [
            [
                "c9b7d9c6.2c46e8"
            ]
        ]
    },
    {
        "id": "c9b7d9c6.2c46e8",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "links": [
            "3072aa8d.fc3b66"
        ],
        "x": 1395,
        "y": 520,
        "wires": []
    },
    {
        "id": "52999902.dc1b78",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Set Sleep status",
        "info": "",
        "x": 140,
        "y": 400,
        "wires": []
    },
    {
        "id": "b670eaa0.8e6998",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "topic",
                "pt": "msg",
                "from": "presence/",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 240,
        "wires": [
            [
                "19836afb.acbac5",
                "7b281e8c.491d4"
            ]
        ]
    },
    {
        "id": "f2e0b439.cfe148",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Heating",
        "links": [],
        "x": 1095,
        "y": 140,
        "wires": []
    },
    {
        "id": "d4cd1de.82711e",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Movement oppe",
        "links": [
            "5483e66f.781f18",
            "617791f9.9eee"
        ],
        "x": 1295,
        "y": 160,
        "wires": []
    },
    {
        "id": "8d3b028a.588a3",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 1190,
        "y": 160,
        "wires": [
            [
                "d4cd1de.82711e"
            ],
            [
                "b951c7f1.f25428"
            ]
        ]
    },
    {
        "id": "b951c7f1.f25428",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Movement Nede",
        "links": [
            "a575a24f.3f6a",
            "83702e42.6f5b7"
        ],
        "x": 1295,
        "y": 200,
        "wires": []
    },
    {
        "id": "57ba7f31.9cd56",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Off",
        "group": "efd0ae.1a06bf5",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "yes",
        "x": 2050,
        "y": 640,
        "wires": [
            [
                "e47aed6e.91552"
            ]
        ]
    },
    {
        "id": "ed7a3ab.c4f31c8",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "On",
        "group": "efd0ae.1a06bf5",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "yes",
        "x": 2050,
        "y": 600,
        "wires": [
            [
                "e47aed6e.91552"
            ]
        ]
    },
    {
        "id": "d2142d17.21a64",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Auto",
        "group": "efd0ae.1a06bf5",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "no",
        "x": 2050,
        "y": 680,
        "wires": [
            [
                "22d50ecc.987be2"
            ]
        ]
    },
    {
        "id": "7f7ea747.fb10a8",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1870,
        "y": 700,
        "wires": [
            [
                "d2142d17.21a64",
                "80ef18fb.d3bc48"
            ]
        ]
    },
    {
        "id": "c45627f1.7688b8",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 450,
        "y": 140,
        "wires": [
            [
                "5c6e44d5.cb5f8c"
            ]
        ]
    },
    {
        "id": "71871582.621a2c",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Off",
        "group": "ca3eef.3da5b11",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "yes",
        "x": 2050,
        "y": 780,
        "wires": [
            [
                "3e3d7f92.ce6b7"
            ]
        ]
    },
    {
        "id": "8cc2264a.376548",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "On",
        "group": "ca3eef.3da5b11",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "yes",
        "x": 2050,
        "y": 820,
        "wires": [
            [
                "3e3d7f92.ce6b7"
            ]
        ]
    },
    {
        "id": "80ef18fb.d3bc48",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Auto",
        "group": "ca3eef.3da5b11",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "false",
        "payloadType": "bool",
        "topic": "no",
        "x": 2050,
        "y": 740,
        "wires": [
            [
                "a5e9a69.b159d58"
            ]
        ]
    },
    {
        "id": "3e3d7f92.ce6b7",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Set BlockMovementD",
        "rules": [
            {
                "t": "set",
                "p": "BlockMovementD",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 800,
        "wires": [
            [
                "c1c45106.da7ab"
            ]
        ]
    },
    {
        "id": "54bf5eae.c8ef3",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "Room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "upstairs",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "gangen",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 410,
        "y": 520,
        "wires": [
            [
                "7422f190.1aacf",
                "ae05daf4.f22088"
            ],
            [
                "57f7d91c.4946d8"
            ],
            [
                "3de67605.ae865a"
            ]
        ]
    },
    {
        "id": "64bc6db.9a90194",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "Room",
        "links": [
            "d7ddc374.33edb",
            "c1c45106.da7ab",
            "117c7706.e9e429",
            "c1069822.fa4578"
        ],
        "x": 135,
        "y": 520,
        "wires": [
            [
                "5da7627f.49119c"
            ]
        ]
    },
    {
        "id": "5da7627f.49119c",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "",
        "func": "var msg2 = {payload:{power: msg.payload === true ? \"on\" : \"off\" }};\nmsg2.room = msg.room;\nreturn msg2;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 520,
        "wires": [
            [
                "54bf5eae.c8ef3"
            ]
        ]
    },
    {
        "id": "d7ddc374.33edb",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1775,
        "y": 820,
        "wires": []
    },
    {
        "id": "96c7928d.91306",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "",
        "links": [
            "93ef5d70.0130e"
        ],
        "x": 455,
        "y": 420,
        "wires": []
    },
    {
        "id": "117c7706.e9e429",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Upstairs Reset",
        "links": [
            "64bc6db.9a90194",
            "ffb91c4a.2fcd3"
        ],
        "x": 2555,
        "y": 640,
        "wires": []
    },
    {
        "id": "c1c45106.da7ab",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Basemet Reset",
        "links": [
            "4ca4adb3.a95524",
            "64bc6db.9a90194",
            "2d663d9b.44ff02"
        ],
        "x": 2555,
        "y": 780,
        "wires": []
    },
    {
        "id": "a5e9a69.b159d58",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Set BlockMovementD",
        "rules": [
            {
                "t": "set",
                "p": "BlockMovementD",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 740,
        "wires": [
            [
                "c1c45106.da7ab"
            ]
        ]
    },
    {
        "id": "52f285f6.01182c",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "Movement Nede",
        "links": [
            "328ec247.9e5eee"
        ],
        "x": 215,
        "y": 820,
        "wires": [
            [
                "f7c157fb.914968"
            ]
        ]
    },
    {
        "id": "58f7527a.66219c",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "Bevegelse Gangen",
        "label": "bevegelse Gangen",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 550,
        "y": 820,
        "wires": [
            [
                "54c693ad.c8cfdc",
                "fbefe13.48c352"
            ]
        ]
    },
    {
        "id": "f7c157fb.914968",
        "type": "change",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "presence",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 820,
        "wires": [
            [
                "58f7527a.66219c",
                "1549e12e.f9b98f"
            ]
        ]
    },
    {
        "id": "7b281e8c.491d4",
        "type": "debug",
        "z": "1c11632f.f206fd",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 940,
        "y": 240,
        "wires": []
    },
    {
        "id": "45a078fc.952f68",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 250,
        "y": 220,
        "wires": [
            [
                "e45c34de.f632c8"
            ]
        ]
    },
    {
        "id": "e9824990.fac3a8",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 250,
        "y": 260,
        "wires": [
            [
                "741be682.621ef8"
            ]
        ]
    },
    {
        "id": "f08e4592.a992e8",
        "type": "catch",
        "z": "e3737c94.fd59f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 360,
        "y": 40,
        "wires": [
            [
                "3aaddf77.5c70f"
            ]
        ]
    },
    {
        "id": "3aaddf77.5c70f",
        "type": "debug",
        "z": "e3737c94.fd59f",
        "name": "ERROR",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 520,
        "y": 40,
        "wires": []
    },
    {
        "id": "e0c331e3.e6648",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.on",
                "pt": "msg",
                "to": "payload.power",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1790,
        "y": 1180,
        "wires": [
            [
                "d937e7f8.315d88"
            ]
        ]
    },
    {
        "id": "d141af98.8dd0d",
        "type": "debug",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1280,
        "y": 100,
        "wires": []
    },
    {
        "id": "5483e66f.781f18",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "Movement oppe",
        "links": [
            "d4cd1de.82711e",
            "e92f253c.11b9b8"
        ],
        "x": 215,
        "y": 480,
        "wires": [
            [
                "6a44834f.a649fc",
                "4041d59d.e27a3c"
            ]
        ]
    },
    {
        "id": "6a44834f.a649fc",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "Bevegelse oppe",
        "label": "bevegelse oppe {{msg.illuminance}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 360,
        "y": 480,
        "wires": [
            [
                "fbefe13.48c352",
                "dcb8fc88.dda92"
            ]
        ]
    },
    {
        "id": "dda2305e.f8873",
        "type": "trigger",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "ON",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 440,
        "wires": [
            [
                "48d4f8d0.54a8c8"
            ]
        ]
    },
    {
        "id": "48d4f8d0.54a8c8",
        "type": "change",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "upstairs",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "upstairs",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 480,
        "wires": [
            [
                "1106e25f.216e3e"
            ]
        ]
    },
    {
        "id": "e1568b9c.db9628",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "Bevegelse nede",
        "label": "bevegelse nede",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 540,
        "y": 640,
        "wires": [
            [
                "fbefe13.48c352",
                "cdc3dcd0.08d3"
            ]
        ]
    },
    {
        "id": "a575a24f.3f6a",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "Movement Nede",
        "links": [
            "b951c7f1.f25428"
        ],
        "x": 215,
        "y": 640,
        "wires": [
            [
                "e057321f.b4251",
                "e1568b9c.db9628"
            ]
        ]
    },
    {
        "id": "59fec024.6e04c",
        "type": "change",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 640,
        "wires": [
            [
                "f1ecea5f.4ebfe8"
            ]
        ]
    },
    {
        "id": "87ad50cc.3a9e9",
        "type": "change",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "gangen",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "gangen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 820,
        "wires": [
            [
                "d7ddc374.33edb"
            ]
        ]
    },
    {
        "id": "8f4bfbbd.bb7058",
        "type": "trigger",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "ON",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 910,
        "y": 800,
        "wires": [
            [
                "87ad50cc.3a9e9"
            ]
        ]
    },
    {
        "id": "54c693ad.c8cfdc",
        "type": "function",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "Is lights",
        "func": " var reset = {};\n    reset.reset = true;\n\nif (msg.payload === false) {\n    \n    \n    return [reset, msg]\n}\n\n\n\n  return [msg,reset] ;  \n\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 820,
        "wires": [
            [
                "8f4bfbbd.bb7058"
            ],
            [
                "d03e20c.bd966e"
            ]
        ]
    },
    {
        "id": "947d038a.551e7",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "",
        "links": [
            "93ef5d70.0130e"
        ],
        "x": 475,
        "y": 600,
        "wires": []
    },
    {
        "id": "1549e12e.f9b98f",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "",
        "links": [
            "93ef5d70.0130e"
        ],
        "x": 495,
        "y": 780,
        "wires": []
    },
    {
        "id": "22d0e1ba.e0cbce",
        "type": "complete",
        "z": "f487aa99.386108",
        "name": "",
        "scope": [
            "77ccbb67.9f0614",
            "5da10e65.4ab27",
            "e665b73a.350dd8",
            "23cd8333.cca3dc",
            "dffa2b6b.ff3df8"
        ],
        "uncaught": false,
        "x": 610,
        "y": 260,
        "wires": [
            [
                "602fce3c.7d792",
                "fbde8b9b.41d5c8",
                "d3a7cd73.75602"
            ]
        ]
    },
    {
        "id": "6372b05.0367a5",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 740,
        "wires": [
            [
                "d7ddc374.33edb"
            ]
        ]
    },
    {
        "id": "f1ecea5f.4ebfe8",
        "type": "time-range-switch",
        "z": "1c11632f.f206fd",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "07:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1610,
        "y": 660,
        "wires": [
            [
                "d7ddc374.33edb"
            ],
            [
                "6372b05.0367a5"
            ]
        ]
    },
    {
        "id": "35c3ca3d.27d4c6",
        "type": "complete",
        "z": "1c11632f.f206fd",
        "name": "Reset",
        "scope": [
            "e47aed6e.91552",
            "22d50ecc.987be2"
        ],
        "uncaught": false,
        "x": 550,
        "y": 340,
        "wires": [
            [
                "6c57beeb.50f4f"
            ]
        ]
    },
    {
        "id": "6c57beeb.50f4f",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 340,
        "wires": [
            [
                "dda2305e.f8873",
                "2a12fa10.833ac6"
            ]
        ]
    },
    {
        "id": "4ad4e281.7dd9ac",
        "type": "ambi-comfort-mode",
        "z": "8b99f8fe.7b27b8",
        "oauthClient": "4ec8324b.b2dc1c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "x": 2340,
        "y": 140,
        "wires": []
    },
    {
        "id": "af800f77.82ef5",
        "type": "ambi-away-temp-upper",
        "z": "8b99f8fe.7b27b8",
        "oauthClient": "4ec8324b.b2dc1c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "value": "21",
        "x": 2330,
        "y": 460,
        "wires": []
    },
    {
        "id": "6bb5ecbc.1d0e04",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 390,
        "y": 380,
        "wires": [
            [
                "d87cbd2e.f854f"
            ]
        ]
    },
    {
        "id": "d87cbd2e.f854f",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 380,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "8b7ef03e.b678d",
        "type": "debug",
        "z": "1c11632f.f206fd",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1370,
        "y": 1320,
        "wires": []
    },
    {
        "id": "84f62162.14f0c",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "Light Upstairs",
        "property": "illuminance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "250",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2280,
        "y": 460,
        "wires": [
            [
                "380809d7.8a9a36"
            ],
            [
                "a5ffe432.5d25f8"
            ]
        ]
    },
    {
        "id": "380809d7.8a9a36",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Enable Light",
        "rules": [
            {
                "t": "set",
                "p": "Light_enabled",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2494.6666870117188,
        "y": 443.2833251953125,
        "wires": [
            []
        ]
    },
    {
        "id": "a5ffe432.5d25f8",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Disable Light",
        "rules": [
            {
                "t": "set",
                "p": "Light_enabled",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2490,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "617791f9.9eee",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "d4cd1de.82711e"
        ],
        "x": 1975,
        "y": 460,
        "wires": [
            [
                "84f62162.14f0c"
            ]
        ]
    },
    {
        "id": "e47aed6e.91552",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Set BlockMovementU",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "upstairs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "BlockMovementU",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 600,
        "wires": [
            [
                "117c7706.e9e429"
            ]
        ]
    },
    {
        "id": "22d50ecc.987be2",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Set BlockMovementU",
        "rules": [
            {
                "t": "set",
                "p": "BlockMovementU",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2280,
        "y": 680,
        "wires": [
            [
                "117c7706.e9e429"
            ]
        ]
    },
    {
        "id": "ae82d5b4.4e3f18",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "name": "Light Downstairs",
        "property": "illuminance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "250",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 2290,
        "y": 540,
        "wires": [
            [
                "6d3ac280.326dfc"
            ],
            [
                "ceb3d81a.48a848"
            ]
        ]
    },
    {
        "id": "6d3ac280.326dfc",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Enable Light",
        "rules": [
            {
                "t": "set",
                "p": "BLight_enabled",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2494.6666870117188,
        "y": 523.2833251953125,
        "wires": [
            []
        ]
    },
    {
        "id": "ceb3d81a.48a848",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Disable Light",
        "rules": [
            {
                "t": "set",
                "p": "BLight_enabled",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2490,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "83702e42.6f5b7",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "b951c7f1.f25428"
        ],
        "x": 1975,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "4041d59d.e27a3c",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 330,
        "y": 440,
        "wires": [
            [
                "96c7928d.91306"
            ]
        ]
    },
    {
        "id": "23cd8333.cca3dc",
        "type": "ui_ui_control",
        "z": "f487aa99.386108",
        "name": "",
        "events": "change",
        "x": 510,
        "y": 120,
        "wires": [
            [
                "dffa2b6b.ff3df8"
            ]
        ]
    },
    {
        "id": "dffa2b6b.ff3df8",
        "type": "debug",
        "z": "f487aa99.386108",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 120,
        "wires": []
    },
    {
        "id": "d6d8cf38.1794d",
        "type": "rbe",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1390,
        "y": 160,
        "wires": [
            [
                "772b0560.6b8bcc"
            ]
        ]
    },
    {
        "id": "3d692d1e.98b022",
        "type": "rbe",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "47763aff.5ff334"
            ]
        ]
    },
    {
        "id": "6d8cd486.3ac49c",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Trapp",
        "server": "12895ae7.9c6bf5",
        "device": "ec:1b:bd:ff:fe:3f:85:d8-01-0006",
        "device_name": "Trapp : ZHAPresence",
        "topic": "Trapp",
        "state": "0",
        "output": "always",
        "outputAtStartup": true,
        "x": 280,
        "y": 100,
        "wires": [
            [
                "195ebfa7.e0d1a"
            ],
            []
        ]
    },
    {
        "id": "195ebfa7.e0d1a",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "Convert",
        "func": "  var mvmnt = {};\n        mvmnt.name = msg.topic;\n        mvmnt.topic = mvmnt.name;\n       // mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = 2;\n       // mvmnt.id = msg.payload.devices[0].id;\n       // mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.presence = msg.payload.presence;\n        mvmnt.dark = msg.payload.dark;\n         mvmnt.payload = msg.payload.presence;\nreturn mvmnt;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 100,
        "wires": [
            [
                "e92f253c.11b9b8"
            ]
        ]
    },
    {
        "id": "e92f253c.11b9b8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Trapp",
        "links": [
            "5483e66f.781f18"
        ],
        "x": 700,
        "y": 100,
        "wires": []
    },
    {
        "id": "3bfccd97.de6142",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Gangen",
        "server": "12895ae7.9c6bf5",
        "device": "ec:1b:bd:ff:fe:a2:fd:03-01-0006",
        "device_name": "Gang : ZHAPresence",
        "topic": "",
        "state": "0",
        "output": "always",
        "outputAtStartup": true,
        "x": 290,
        "y": 160,
        "wires": [
            [
                "2a1a71f2.69c5fe",
                "84d4238b.16cfe"
            ],
            []
        ]
    },
    {
        "id": "328ec247.9e5eee",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Gang",
        "links": [
            "52f285f6.01182c"
        ],
        "x": 695,
        "y": 160,
        "wires": []
    },
    {
        "id": "2a1a71f2.69c5fe",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "Convert",
        "func": "  var mvmnt = {};\n        mvmnt.name = \"Gangen\";\n        mvmnt.topic = mvmnt.name;\n       // mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = 1;\n       // mvmnt.id = msg.payload.devices[0].id;\n       // mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.presence = msg.payload.presence;\n        mvmnt.dark = msg.payload.dark;\nreturn mvmnt;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "5c6e44d5.cb5f8c",
        "type": "delay",
        "z": "e3737c94.fd59f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 600,
        "y": 140,
        "wires": [
            [
                "77d4a580.a4a38c"
            ]
        ]
    },
    {
        "id": "a9d1416e.a3b5b",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Basic Simple",
        "info": "This example uses the Lifx platform. The Lifx node works well with the thing nodes, as it requires no initization to receive inbound messages. And the Lifx node already uses the MAC address as the message topic, so the Lifx Things are setup with the MAC address as their ID.",
        "x": 1070,
        "y": 20,
        "wires": []
    },
    {
        "id": "c5c2b5a2.bb5b18",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "FH THINGS",
        "links": [
            "4724ce19.c03d7"
        ],
        "x": 395,
        "y": 180,
        "wires": []
    },
    {
        "id": "f57725ce.089018",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "",
        "links": [],
        "x": 1095,
        "y": 180,
        "wires": []
    },
    {
        "id": "2a12fa10.833ac6",
        "type": "trigger",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 520,
        "wires": [
            [
                "48d4f8d0.54a8c8"
            ]
        ]
    },
    {
        "id": "d03e20c.bd966e",
        "type": "trigger",
        "z": "1c11632f.f206fd",
        "g": "f2958898.ff1ca8",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "1",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 910,
        "y": 840,
        "wires": [
            [
                "87ad50cc.3a9e9"
            ]
        ]
    },
    {
        "id": "352f3a96.368046",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "name": "SHIELD",
        "connection": "3587f56e.3de5ba",
        "spotifyAccessToken": "",
        "spotifyAccessTokenExpiration": "",
        "spotifyDeviceName": "",
        "x": 910,
        "y": 960,
        "wires": [
            [
                "dd2dec87.c202d",
                "f847eafc.0e0ae8"
            ]
        ]
    },
    {
        "id": "dd2dec87.c202d",
        "type": "debug",
        "z": "1c11632f.f206fd",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 1000,
        "wires": []
    },
    {
        "id": "f847eafc.0e0ae8",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "isStandBy",
                "pt": "flow",
                "to": "platform.isStandBy",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "6d1ea27e.1a500c",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "type",
                "v": "MUTE",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 680,
        "y": 940,
        "wires": [
            [
                "352f3a96.368046"
            ]
        ]
    },
    {
        "id": "4b22a0ad.593cb",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload.type",
                "v": "MUTE",
                "vt": "str"
            },
            {
                "p": "payload.app",
                "v": "PLEX",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 700,
        "y": 1000,
        "wires": [
            [
                "352f3a96.368046"
            ]
        ]
    },
    {
        "id": "241a1687.d17f6a",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "",
        "property": "isStandBy",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1210,
        "y": 660,
        "wires": [
            [
                "59fec024.6e04c"
            ]
        ]
    },
    {
        "id": "1f150a19.40f1f6",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "rate",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "x": 360,
        "y": 80,
        "wires": [
            [
                "9ae92a2b.99c9c8"
            ]
        ]
    },
    {
        "id": "c316115f.3e237",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 820,
        "y": 1220,
        "wires": [
            [
                "8a2b5b04.944b38"
            ]
        ]
    },
    {
        "id": "ad29b802.69fbb8",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "1b253553.66750b"
        ],
        "x": 365,
        "y": 480,
        "wires": [
            [
                "a4770dbb.04eff"
            ]
        ]
    },
    {
        "id": "515c9831.0334b8",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "800c441a.1f78d8"
        ],
        "x": 1205,
        "y": 300,
        "wires": []
    },
    {
        "id": "84cb19d4.d232e8",
        "type": "deconz-output",
        "z": "a7af161f.d5ece8",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "group_1",
        "device_name": "○ TRADFRI open/close remote",
        "command": "on",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "x": 710,
        "y": 300,
        "wires": []
    },
    {
        "id": "36aeb8a0.824178",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device": "cc:cc:cc:ff:fe:02:96:c6-01-0001",
        "device_name": "FYRTUR block-out roller blind  : ZHABattery",
        "topic": "",
        "state": 0,
        "output": "always",
        "outputAtStartup": true,
        "x": 330,
        "y": 260,
        "wires": [
            [
                "1b253553.66750b"
            ],
            []
        ]
    },
    {
        "id": "1b253553.66750b",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "ad29b802.69fbb8"
        ],
        "x": 535,
        "y": 260,
        "wires": []
    },
    {
        "id": "800c441a.1f78d8",
        "type": "link in",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "515c9831.0334b8"
        ],
        "x": 535,
        "y": 300,
        "wires": [
            [
                "84cb19d4.d232e8"
            ]
        ]
    },
    {
        "id": "9446f70e.326a98",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 90,
        "y": 600,
        "wires": [
            [
                "e1568b9c.db9628"
            ]
        ]
    },
    {
        "id": "c7ee4eb5.5141c",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "pushtype": "note",
        "title": "Nattmodus",
        "chan": "",
        "name": "Nattmodus",
        "x": 1450,
        "y": 600,
        "wires": []
    },
    {
        "id": "412d28c0.b59968",
        "type": "pushbullet in",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "name": "",
        "x": 620,
        "y": 640,
        "wires": [
            [
                "7483e98c.d64388"
            ]
        ]
    },
    {
        "id": "7483e98c.d64388",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Nattmodus",
        "property": "data.title",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Nattmodus",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 770,
        "y": 640,
        "wires": [
            [
                "31e59f17.de62b"
            ]
        ]
    },
    {
        "id": "31e59f17.de62b",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Dismissed?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Push dismissed",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 930,
        "y": 640,
        "wires": [
            [
                "2571016f.0085ee"
            ]
        ]
    },
    {
        "id": "fe989649.553108",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "delayNattmodus",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 520,
        "wires": [
            [
                "d1068875.e54d18"
            ],
            [
                "8bc83fb6.95689"
            ]
        ]
    },
    {
        "id": "a731240e.5da298",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "delayNattmodus",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "8bc83fb6.95689",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 600,
        "wires": [
            [
                "a731240e.5da298",
                "f67b9d7c.ac75",
                "9bbfb61b.57ed88"
            ]
        ]
    },
    {
        "id": "2571016f.0085ee",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 640,
        "wires": [
            [
                "a731240e.5da298"
            ]
        ]
    },
    {
        "id": "9bbfb61b.57ed88",
        "type": "delay",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 560,
        "wires": [
            [
                "fe989649.553108"
            ]
        ]
    },
    {
        "id": "fbefe13.48c352",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Movement",
        "links": [
            "1329b56.bea634b"
        ],
        "x": 1255,
        "y": 780,
        "wires": []
    },
    {
        "id": "477666d4.b53928",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 460,
        "wires": [
            [
                "61ee7057.5df1f"
            ],
            [
                "fdbf838e.f9e58",
                "e1dcab5a.66f5f8"
            ]
        ]
    },
    {
        "id": "f4cc46fb.79d698",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Karina",
        "rules": [
            {
                "t": "set",
                "p": "Karina",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "fe7d3938.a5fd88",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Øivind",
        "rules": [
            {
                "t": "set",
                "p": "oivheg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "6f576ed2.0fcae",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 320,
        "y": 180,
        "wires": [
            [
                "fe7d3938.a5fd88"
            ]
        ]
    },
    {
        "id": "f67b9d7c.ac75",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "oivheg",
        "property": "oivheg",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 600,
        "wires": [
            [
                "c7ee4eb5.5141c"
            ]
        ]
    },
    {
        "id": "8d086061.8b918",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "22",
        "device_id": "22",
        "name": "Ovn",
        "x": 830,
        "y": 280,
        "wires": []
    },
    {
        "id": "3229de3c.7ea162",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 300,
        "y": 280,
        "wires": [
            [
                "845f8e9d.766ea"
            ],
            [
                "2393b6f.cffe14a"
            ]
        ]
    },
    {
        "id": "845f8e9d.766ea",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "ON",
        "func": "msg.payload = {};\nmsg.payload.power = \"on\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 450,
        "y": 260,
        "wires": [
            [
                "8d086061.8b918"
            ]
        ]
    },
    {
        "id": "2393b6f.cffe14a",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "OFF",
        "func": "msg.payload = {};\nmsg.payload.power = \"off\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 450,
        "y": 300,
        "wires": [
            [
                "8d086061.8b918"
            ]
        ]
    },
    {
        "id": "8f0e361a.88e718",
        "type": "ui_switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Status",
        "label": "Guestmode",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "false",
        "onvalueType": "bool",
        "onicon": "fa-home",
        "oncolor": "Green",
        "offvalue": "true",
        "offvalueType": "bool",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 510,
        "y": 60,
        "wires": [
            [
                "e67e0c77.93b2c"
            ]
        ]
    },
    {
        "id": "e67e0c77.93b2c",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "guestmode",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "25d2169a.1e5eca",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 340,
        "y": 60,
        "wires": [
            [
                "8f0e361a.88e718"
            ]
        ]
    },
    {
        "id": "7152deea.25fcb",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "pushtype": "file",
        "title": "Tegneserier",
        "chan": "",
        "name": "Tegneserier",
        "x": 770,
        "y": 840,
        "wires": []
    },
    {
        "id": "45ed298b.458838",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 840,
        "wires": [
            [
                "e090fcff.94f85"
            ]
        ]
    },
    {
        "id": "e090fcff.94f85",
        "type": "fs-file-lister",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "start": "/usr/local/HomeSeer/html/images/Tegneserier",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "files",
        "path": true,
        "single": false,
        "depth": 0,
        "stat": false,
        "showWarnings": true,
        "x": 360,
        "y": 840,
        "wires": [
            [
                "24dfc256.71129e"
            ]
        ]
    },
    {
        "id": "24dfc256.71129e",
        "type": "delay",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "4",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 580,
        "y": 840,
        "wires": [
            [
                "7152deea.25fcb"
            ]
        ]
    },
    {
        "id": "70db2a89.dfa5d4",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "30",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 2040,
        "y": 500,
        "wires": [
            [
                "6d3ac280.326dfc"
            ]
        ]
    },
    {
        "id": "6ad7814b.044d7",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "enabeled",
                "v": "false",
                "vt": "bool"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 190,
        "y": 320,
        "wires": [
            [
                "741be682.621ef8",
                "e45c34de.f632c8"
            ]
        ]
    },
    {
        "id": "e5f5aa31.81fff8",
        "type": "function",
        "z": "94ff8f0f.02c5a",
        "name": "Convert",
        "func": "  var mvmnt = {};\n        mvmnt.name = env.get(\"Name\");\n        mvmnt.topic = mvmnt.name;\n       // mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = env.get(\"ETG\");\n       // mvmnt.id = msg.payload.devices[0].id;\n       // mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.presence = msg.payload.presence;\n        mvmnt.dark = msg.payload.dark;\nreturn mvmnt;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "84d4238b.16cfe",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Gangen",
                "type": "str"
            }
        ],
        "x": 550,
        "y": 200,
        "wires": [
            [
                "328ec247.9e5eee"
            ]
        ]
    },
    {
        "id": "dcb8fc88.dda92",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "Light Enabelde",
        "property": "Light_enabled",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 660,
        "y": 480,
        "wires": [
            [
                "dda2305e.f8873",
                "2a12fa10.833ac6"
            ],
            [
                "2a12fa10.833ac6",
                "dda2305e.f8873"
            ]
        ]
    },
    {
        "id": "89272277.d96f9",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 70,
        "y": 400,
        "wires": [
            [
                "6a44834f.a649fc"
            ]
        ]
    },
    {
        "id": "521ee061.f1691",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 480,
        "wires": [
            [
                "6a44834f.a649fc"
            ]
        ]
    },
    {
        "id": "e057321f.b4251",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 350,
        "y": 600,
        "wires": [
            [
                "947d038a.551e7"
            ]
        ]
    },
    {
        "id": "1106e25f.216e3e",
        "type": "rbe",
        "z": "1c11632f.f206fd",
        "g": "682302c8.9d819c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1170,
        "y": 480,
        "wires": [
            [
                "f1ecea5f.4ebfe8"
            ]
        ]
    },
    {
        "id": "55188a56.16c264",
        "type": "trigger",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "ON",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 990,
        "y": 600,
        "wires": [
            [
                "59fec024.6e04c"
            ]
        ]
    },
    {
        "id": "ff3048c4.3152f8",
        "type": "trigger",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1010,
        "y": 640,
        "wires": [
            [
                "241a1687.d17f6a"
            ]
        ]
    },
    {
        "id": "cdc3dcd0.08d3",
        "type": "switch",
        "z": "1c11632f.f206fd",
        "g": "138044d1.a3f37b",
        "name": "Light Enabelde",
        "property": "BLight_enabled",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 800,
        "y": 640,
        "wires": [
            [
                "55188a56.16c264",
                "ff3048c4.3152f8"
            ],
            [
                "ff3048c4.3152f8",
                "55188a56.16c264"
            ]
        ]
    }
]