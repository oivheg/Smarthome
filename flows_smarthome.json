[
    {
        "id": "1c11632f.f206fd",
        "type": "tab",
        "label": "Smarthus Oversikt",
        "disabled": false,
        "info": ""
    },
    {
        "id": "34fc4e1d.243ef2",
        "type": "tab",
        "label": "New GUI",
        "disabled": false,
        "info": ""
    },
    {
        "id": "aa0ae7ae.75d228",
        "type": "tab",
        "label": "Lys",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bc3b2c68.b35f6",
        "type": "tab",
        "label": "Garbage Collector",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8b99f8fe.7b27b8",
        "type": "tab",
        "label": "Smarthome_MODE",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1b14ec1b.20ab54",
        "type": "tab",
        "label": "Happy",
        "disabled": false,
        "info": ""
    },
    {
        "id": "605ae98f.8a9998",
        "type": "tab",
        "label": "Bedroom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f487aa99.386108",
        "type": "tab",
        "label": "Data",
        "disabled": true,
        "info": ""
    },
    {
        "id": "e3737c94.fd59f",
        "type": "tab",
        "label": "FH Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a7af161f.d5ece8",
        "type": "tab",
        "label": "Deconz Connections",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bd342fd3.e926f",
        "type": "tab",
        "label": "FaceReq",
        "disabled": true,
        "info": ""
    },
    {
        "id": "1c88039c.df631c",
        "type": "tab",
        "label": "Basement",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bd80cf37.f9982",
        "type": "tab",
        "label": "Spotify",
        "disabled": true,
        "info": ""
    },
    {
        "id": "4edd86b6.331768",
        "type": "tab",
        "label": "FH MQTT",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a9a601907d96eb09",
        "type": "tab",
        "label": "Bathroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "021cd6ea3e90db93",
        "type": "tab",
        "label": "Stairs",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "94ff8f0f.02c5a",
        "type": "subflow",
        "name": "Deconz  Movement",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 420,
                "y": 200,
                "wires": [
                    {
                        "id": "e5f5aa31.81fff8"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1120,
                "y": 200,
                "wires": [
                    {
                        "id": "4b3b19cb6cd314e6",
                        "port": 0
                    },
                    {
                        "id": "a2ca5e419e4f16a4",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "Name",
                "type": "str",
                "value": "default"
            },
            {
                "name": "ETG",
                "type": "str",
                "value": "1"
            },
            {
                "name": "ignore_state",
                "type": "bool",
                "value": "false"
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 640,
            "y": 140,
            "wires": [
                {
                    "id": "94ff8f0f.02c5a",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "5bd36af.4ea5494",
        "type": "subflow",
        "name": "Timer",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 180,
                "y": 180,
                "wires": [
                    {
                        "id": "89e42a76.f6f2f8"
                    },
                    {
                        "id": "64d46e65.a7d2e"
                    },
                    {
                        "id": "2603e6d2.f1973a"
                    },
                    {
                        "id": "cdb73747.3ca6b8"
                    },
                    {
                        "id": "d3ba4ca2.8554d"
                    },
                    {
                        "id": "7e546c3.3eb7794"
                    },
                    {
                        "id": "4bded5f5.5e225c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1120,
                "y": 200,
                "wires": [
                    {
                        "id": "c907fe20.72aa6",
                        "port": 0
                    },
                    {
                        "id": "10faff0a.197481",
                        "port": 0
                    },
                    {
                        "id": "14bc3937.ad4257",
                        "port": 0
                    },
                    {
                        "id": "ee0cac1c.3b7c3",
                        "port": 0
                    },
                    {
                        "id": "1732dcca.1a2903",
                        "port": 0
                    },
                    {
                        "id": "acc8dc6a.4246f",
                        "port": 0
                    },
                    {
                        "id": "56324a59.cc82b4",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 1320,
            "y": 240,
            "wires": [
                {
                    "id": "27e86256.4bd24e",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c99beb5f.614cb8",
        "type": "subflow",
        "name": "Light Enabeled",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "d21593f0.281a6"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 80,
                "wires": [
                    {
                        "id": "976640e9.63cfd",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "status": {
            "x": 580,
            "y": 180,
            "wires": [
                {
                    "id": "4fdcf2d1.2bd64c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "c8930ccb.6e912",
        "type": "subflow",
        "name": "Subflow 1",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 0
                    }
                ]
            },
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 1
                    }
                ]
            },
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "dbfcd776.f2b518",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99",
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "95167fef.b6134",
        "type": "subflow",
        "name": "Lights",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 140,
                "wires": [
                    {
                        "id": "e7c7e2aa.37a72"
                    },
                    {
                        "id": "ab9063bb.93cdb"
                    },
                    {
                        "id": "e6f595a8.bbe788"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1740,
                "y": 200,
                "wires": [
                    {
                        "id": "998943e2.e0d0f",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "room",
                "type": "str",
                "value": "room"
            },
            {
                "name": "illumenance",
                "type": "num",
                "value": "200"
            }
        ],
        "color": "#DDAA99",
        "status": {
            "x": 1740,
            "y": 520,
            "wires": [
                {
                    "id": "7c2eceab.3f7bf",
                    "port": 0
                },
                {
                    "id": "d40dbe57.f0a9c",
                    "port": 0
                },
                {
                    "id": "12e98816.16dea8",
                    "port": 0
                },
                {
                    "id": "91a7fb27.153388",
                    "port": 0
                },
                {
                    "id": "7619e08.a8fb32",
                    "port": 0
                },
                {
                    "id": "efc9c5a8.94ff98",
                    "port": 0
                },
                {
                    "id": "4e96a6d5.febc48",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "beb2c07c77748830",
        "type": "subflow",
        "name": "Subflow 2",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "3db5fa316d693b26"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 340,
                "y": 80,
                "wires": [
                    {
                        "id": "3db5fa316d693b26",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "text",
                "type": "str",
                "value": "Default text"
            }
        ],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "c15399232bac2ca3",
        "type": "subflow",
        "name": "Light Controll",
        "info": "",
        "category": "LightControll",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "5e0d8112.7e4fc"
                    },
                    {
                        "id": "d672dd5902ab9ae0"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1250,
                "y": 80,
                "wires": [
                    {
                        "id": "2543e4c5.28612c",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "room",
                "type": "str",
                "value": "room"
            },
            {
                "name": "LightTreshold",
                "type": "num",
                "value": "110"
            },
            {
                "name": "delay",
                "type": "num",
                "value": "10",
                "ui": {
                    "icon": "font-awesome/fa-times-circle-o",
                    "label": {
                        "en-US": "Delay Minutes"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "num"
                        ]
                    }
                }
            }
        ],
        "meta": {},
        "color": "#FFCC66",
        "inputLabels": [
            "Movement"
        ],
        "outputLabels": [
            "set light state"
        ],
        "icon": "node-red/light.svg",
        "status": {
            "x": 1160,
            "y": 340,
            "wires": [
                {
                    "id": "94fa43d7a18c8a2a",
                    "port": 0
                },
                {
                    "id": "5c138fa713ff7c90",
                    "port": 0
                },
                {
                    "id": "d672dd5902ab9ae0",
                    "port": 0
                },
                {
                    "id": "d672dd5902ab9ae0",
                    "port": 1
                },
                {
                    "id": "29f9c1a39ca382a2",
                    "port": 0
                },
                {
                    "id": "853ea5b8d8ea2b6f",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "e027b81483470f6e",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "Set Global Mode",
        "style": {
            "label": true
        },
        "nodes": [
            "62c6f49a0d557e7c",
            "f80c7b6e933d9c0a",
            "2b3d5935238c0aee",
            "8139c30e4d435db3",
            "1e397062fcfbb0e9"
        ],
        "x": 774,
        "y": 19
    },
    {
        "id": "88b8cd3b91daf3ae",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "Set Mode FH",
        "style": {
            "label": true
        },
        "nodes": [
            "bd874529797813e0",
            "845f145271bd8708",
            "3dbb5ab41be489d2",
            "22fcc7e745cde964",
            "bc1904772d51db44",
            "6626af8888151004",
            "14ac8f4a0be280af",
            "ad0eef5605ed22c5"
        ],
        "x": 1494,
        "y": 19
    },
    {
        "id": "b01d69bb34a09e41",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "LIGHTS",
        "style": {
            "label": true
        },
        "nodes": [
            "ed876b6c.e43528",
            "7d505bde.df4254",
            "d0eea84c.b46138",
            "1e4e617e.247a5f",
            "a2adaa8d.513fa8",
            "bfd0dbf0.b44958",
            "1b735eb2.af9271",
            "626ca02b.796b9",
            "54d0eff0999dd2f8",
            "02046d58b1fac856",
            "b2659103b136eee6",
            "80e36239586e7edc",
            "b0dc3ddb928b3d38"
        ],
        "x": 754,
        "y": 239
    },
    {
        "id": "8cba373d8f4d3966",
        "type": "group",
        "z": "4edd86b6.331768",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3ab68b34.7a79d4",
            "466ec7c3.fe6948",
            "8386f04b.e927a",
            "c8ca9cb76832f227",
            "3e8ea1caee159345",
            "e7fd9780fcb41f6a",
            "2998be5081486cc3"
        ],
        "x": 154,
        "y": 159
    },
    {
        "id": "c4cf42bd22da0e90",
        "type": "group",
        "z": "4edd86b6.331768",
        "name": "Change Light State",
        "style": {
            "label": true
        },
        "nodes": [
            "29c85b88.abdbe4",
            "647921f4d9a2d950",
            "e540ebb37b986b6f",
            "5361f5befcd5a5d7",
            "8dba580b98a6ed90",
            "d483447b72658a37",
            "3406c60a489c0597",
            "609827799f3da3b7",
            "bcb4101b90fdf099",
            "be16e854cc354bd1",
            "68b194f85a1ef7a0",
            "c39c0770f61b61c7",
            "462b887551d30bf4",
            "80b9f8ea0180e4ee",
            "76142807ba013dd5",
            "f77ed0a836dc3899",
            "e7a1a9e1e22065c4"
        ],
        "x": 754,
        "y": 459
    },
    {
        "id": "4764ba70f833e4a9",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Bedroom",
        "style": {
            "label": true
        },
        "nodes": [
            "af18fdf6.83584",
            "50b0d259.df502c",
            "551be057.65bed",
            "18b93929.bea567",
            "876c799e.859a08",
            "6e1a0143.f51f8",
            "a4afb1bbd79c5da6",
            "d3daac16ab6cdf92",
            "c0a924816dea4ee8"
        ],
        "x": 434,
        "y": 1259,
        "w": 1062,
        "h": 202
    },
    {
        "id": "a7b26502af3b65e3",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Hallway",
        "style": {
            "label": true
        },
        "nodes": [
            "b5c52e38.5a0b5",
            "dcf434ce.e89888",
            "b05e450967f5da8d",
            "87d1ce3c19202d34",
            "4ce3539c5f7a0ca7",
            "f9450bda48f83deb",
            "f539323231f77776",
            "b9eed7dde8000c3e"
        ],
        "x": 434,
        "y": 1059,
        "w": 1062,
        "h": 142
    },
    {
        "id": "172b4292bafc68a7",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Basement",
        "style": {
            "label": true
        },
        "nodes": [
            "a3713cf3.b331a",
            "f66e7e24.aca9d",
            "7a4a01ee.c97e",
            "21c80566.d9201a",
            "183c95c7745f2ea4",
            "bc57e78aaf68965d"
        ],
        "x": 434,
        "y": 839,
        "w": 1062,
        "h": 142
    },
    {
        "id": "ff7ca7f8980ed0b1",
        "type": "group",
        "z": "aa0ae7ae.75d228",
        "name": "Kitchen/Livingroom",
        "style": {
            "label": true
        },
        "nodes": [
            "2cc83436.3fa25c",
            "e2d7c57f5c31b977",
            "be2ad471.d9c448",
            "18e793bb.41ccac",
            "167a965f.fa254a",
            "d17d889454f3d3a1",
            "ca9cda18826d54da",
            "ed863371775575ab"
        ],
        "x": 444,
        "y": 599,
        "w": 1062,
        "h": 202
    },
    {
        "id": "c40d1711.7fd448",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#4B7930",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#4B7930",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#6db046",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#4b7930",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "oivheg",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "8d9ae12b.2a6f5",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "530528aa.2006c8",
        "type": "pushbullet-config",
        "name": "Øivind"
    },
    {
        "id": "d1934670.897a88",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: Norsk",
        "language": "no"
    },
    {
        "id": "a967d384.f5115",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.89",
        "name": "Kjeller: RU",
        "language": "ru"
    },
    {
        "id": "5ee6b185.35f2d",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.44",
        "name": "Stue: RU",
        "language": "ru"
    },
    {
        "id": "429b8253.24d1dc",
        "type": "googlehome-config-node",
        "ipaddress": "192.168.1.44",
        "name": "Stue: NO",
        "language": "no"
    },
    {
        "id": "ca3eef.3da5b11",
        "type": "ui_group",
        "name": "Kjeller",
        "tab": "8d9ae12b.2a6f5",
        "order": 2,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "56a8be2a.9b9eb",
        "type": "ui_group",
        "name": "House",
        "tab": "8d9ae12b.2a6f5",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "12895ae7.9c6bf5",
        "type": "deconz-server",
        "name": "Zigbee",
        "ip": "192.168.1.103",
        "port": "80",
        "apikey": "235159C37F",
        "ws_port": "8088",
        "secure": false,
        "polling": "15"
    },
    {
        "id": "1f05e387.5d527c",
        "type": "ui_tab",
        "name": "List",
        "icon": "dashboard"
    },
    {
        "id": "99977a8c.c02588",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "movement",
        "name": "",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "1.x"
    },
    {
        "id": "583fffe9.e7d8f",
        "type": "ui_group",
        "name": "Bevegelse",
        "tab": "1f05e387.5d527c",
        "order": 1,
        "disp": true,
        "width": 24,
        "collapse": false
    },
    {
        "id": "6708f2f6.06829c",
        "type": "miio-roborock-server",
        "name": "Mr Robot",
        "ip": "192.168.1.118",
        "token": "4e765244557a37537139316f77595245",
        "polling": "30"
    },
    {
        "id": "4ec8324b.b2dc1c",
        "type": "ambi-config",
        "clientId": "c52c175d-8388-4974-be6e-2db7abf90818",
        "clientSecret": "8046ff33-2c02-4aa7-95d5-cb71848032dd",
        "username": "oivheg@gmail.com",
        "password": "y4mHub&PcsW0%p!I"
    },
    {
        "id": "fae123cb.bd4b2",
        "type": "futurehome-login",
        "displayName": "Øivind",
        "site_name": "Hegglunds",
        "base_uri": "futurehome.no/",
        "username": "oivheg@gmail.com"
    },
    {
        "id": "3587f56e.3de5ba",
        "type": "castv2-connection",
        "name": "",
        "target": "SHIELD",
        "host": "",
        "port": "8009"
    },
    {
        "id": "374dd77b.cadc38",
        "type": "ui_group",
        "name": "Happy",
        "tab": "8d9ae12b.2a6f5",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "862863a9.265f3",
        "type": "castv2-connection",
        "name": "",
        "target": "Office speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "639afec7.a73a3",
        "type": "castv2-connection",
        "name": "",
        "target": "Music",
        "host": "",
        "port": "8009"
    },
    {
        "id": "1744610e.18ab3f",
        "type": "castv2-connection",
        "name": "",
        "target": "Stue",
        "host": "",
        "port": "8009"
    },
    {
        "id": "98e325c0.ffee08",
        "type": "ui_tab",
        "name": "Dashboard",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "69a63d21.a935c4",
        "type": "ui_group",
        "name": "HOUSE",
        "tab": "98e325c0.ffee08",
        "order": 1,
        "disp": true,
        "width": 4,
        "collapse": false
    },
    {
        "id": "927bb6cc.493638",
        "type": "ui_group",
        "name": "Kjøkken",
        "tab": "98e325c0.ffee08",
        "order": 2,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "231b0632.0e84ca",
        "type": "ui_group",
        "name": "Kjellerstue",
        "tab": "98e325c0.ffee08",
        "order": 3,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "a8deaee7.c8dff",
        "type": "ui_group",
        "name": "Soverom",
        "tab": "98e325c0.ffee08",
        "order": 4,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "e25fe03d.94a6a",
        "type": "ui_group",
        "name": "Office",
        "tab": "98e325c0.ffee08",
        "order": 5,
        "disp": true,
        "width": 2,
        "collapse": false
    },
    {
        "id": "3be8a4e3.dba93c",
        "type": "ui_group",
        "name": "K-Office",
        "tab": "98e325c0.ffee08",
        "order": 6,
        "disp": true,
        "width": 2,
        "collapse": false
    },
    {
        "id": "70ca41b6.c8208",
        "type": "ui_group",
        "name": "Gang",
        "tab": "98e325c0.ffee08",
        "order": 7,
        "disp": true,
        "width": 2,
        "collapse": false
    },
    {
        "id": "41e681f.e420d8",
        "type": "mqtt-broker",
        "name": "FutureHomeHub",
        "broker": "cube.local",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "4dd42f71.91823",
        "type": "castv2-connection",
        "name": "Kjeller",
        "target": "Basement speaker",
        "host": "",
        "port": "8009"
    },
    {
        "id": "[YOUR CONFIG]",
        "type": "mqtt-broker",
        "name": "test",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "compatmode": false,
        "protocolVersion": 4,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "4c99ccf8.ce4ef4",
        "type": "ui_group",
        "name": "Spotify",
        "tab": "4007f45b.b0a3cc",
        "order": 1,
        "disp": false,
        "width": "12",
        "collapse": false
    },
    {
        "id": "4007f45b.b0a3cc",
        "type": "ui_tab",
        "name": "Spotify",
        "icon": "my_library_music",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "95e63b8.37a01c8",
        "type": "spotify-auth",
        "name": "Spotify OAuth2",
        "scope": "app-remote-control\nuser-read-recently-played\nuser-modify-playback-state\nuser-read-currently-playing\nplaylist-read-private\nstreaming\n"
    },
    {
        "id": "fa370de0.93e89",
        "type": "mqtt-broker",
        "name": "Smarthub",
        "broker": "cube.local",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "4de6cf0d.5a88",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "cababfc5.7b2f6",
        "type": "ui_tab",
        "name": "Control Display",
        "icon": "dashboard",
        "order": 6
    },
    {
        "id": "357d373a.2d1478",
        "type": "ui_group",
        "name": "Default",
        "tab": "40d8b907.a41218",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "40d8b907.a41218",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9f7c23e0bf86f5c3",
        "type": "ui_group",
        "name": "Bathroom",
        "tab": "98e325c0.ffee08",
        "order": 8,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "71d3b8ea0b115e6e",
        "type": "ui_group",
        "name": "Vakserom",
        "tab": "98e325c0.ffee08",
        "order": 9,
        "disp": true,
        "width": 2,
        "collapse": false,
        "className": ""
    },
    {
        "id": "5fbbc12a986329c4",
        "type": "ui_group",
        "name": "Closet",
        "tab": "98e325c0.ffee08",
        "order": 10,
        "disp": true,
        "width": 2,
        "collapse": false,
        "className": ""
    },
    {
        "id": "5d47569e31e42f22",
        "type": "mqtt-broker",
        "name": "arduino",
        "broker": "localhost",
        "port": "1884",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "6e6538b5.f114d8",
        "type": "ui_tab",
        "name": "Machine data",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1d8375efa1d4dfe9",
        "type": "ui_spacer",
        "z": "34fc4e1d.243ef2",
        "name": "spacer",
        "group": "927bb6cc.493638",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "64a83e1ec3b88745",
        "type": "persist-store",
        "filename": "persistence.json",
        "interval": "60"
    },
    {
        "id": "e5f5aa31.81fff8",
        "type": "function",
        "z": "94ff8f0f.02c5a",
        "name": "Convert",
        "func": "  var mvmnt = {};\n        mvmnt.name = env.get(\"Name\");\n        mvmnt.topic = mvmnt.name;\n       // mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = env.get(\"ETG\");\n       // mvmnt.id = msg.payload.devices[0].id;\n       // mvmnt.illuminance = msg.payload.devices[0].illuminance;\n        mvmnt.payload = msg.payload.presence; // presence\n        mvmnt.dark = msg.payload.dark;\nreturn mvmnt;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 200,
        "wires": [
            [
                "a2ca5e419e4f16a4"
            ]
        ]
    },
    {
        "id": "4b3b19cb6cd314e6",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "Gusetmode",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 970,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "92a5af52a7d9680d",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 810,
        "y": 240,
        "wires": [
            [
                "4b3b19cb6cd314e6"
            ]
        ]
    },
    {
        "id": "a2ca5e419e4f16a4",
        "type": "switch",
        "z": "94ff8f0f.02c5a",
        "name": "ignore_state",
        "property": "ignore_state",
        "propertyType": "env",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 200,
        "wires": [
            [],
            [
                "92a5af52a7d9680d"
            ]
        ]
    },
    {
        "id": "2603e6d2.f1973a",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "14bc3937.ad4257"
            ],
            []
        ]
    },
    {
        "id": "cdb73747.3ca6b8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "19:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 240,
        "wires": [
            [
                "ee0cac1c.3b7c3"
            ],
            []
        ]
    },
    {
        "id": "d3ba4ca2.8554d",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "19:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 280,
        "wires": [
            [
                "1732dcca.1a2903"
            ],
            []
        ]
    },
    {
        "id": "89e42a76.f6f2f8",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 440,
        "y": 120,
        "wires": [
            [
                "c907fe20.72aa6"
            ],
            []
        ]
    },
    {
        "id": "64d46e65.a7d2e",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 420,
        "y": 160,
        "wires": [
            [
                "10faff0a.197481"
            ],
            []
        ]
    },
    {
        "id": "c907fe20.72aa6",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 120,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "1732dcca.1a2903",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 280,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "ee0cac1c.3b7c3",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 240,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "14bc3937.ad4257",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 200,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "10faff0a.197481",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000 ",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 160,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "27e86256.4bd24e",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "7e546c3.3eb7794",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 320,
        "wires": [
            [
                "acc8dc6a.4246f"
            ],
            []
        ]
    },
    {
        "id": "acc8dc6a.4246f",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 320,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "4bded5f5.5e225c",
        "type": "time-range-switch",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "23:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 360,
        "wires": [
            [
                "56324a59.cc82b4"
            ],
            []
        ]
    },
    {
        "id": "56324a59.cc82b4",
        "type": "change",
        "z": "5bd36af.4ea5494",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 360,
        "wires": [
            [
                "27e86256.4bd24e"
            ]
        ]
    },
    {
        "id": "d21593f0.281a6",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "Light Enabelde",
        "property": "Enabeled",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "976640e9.63cfd"
            ],
            [
                "728e655.258b19c"
            ]
        ]
    },
    {
        "id": "976640e9.63cfd",
        "type": "subflow:5bd36af.4ea5494",
        "z": "c99beb5f.614cb8",
        "name": "TID",
        "env": [],
        "x": 410,
        "y": 80,
        "wires": [
            [
                "4fdcf2d1.2bd64c"
            ]
        ]
    },
    {
        "id": "728e655.258b19c",
        "type": "switch",
        "z": "c99beb5f.614cb8",
        "name": "false",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 120,
        "wires": [
            [
                "976640e9.63cfd"
            ]
        ]
    },
    {
        "id": "4fdcf2d1.2bd64c",
        "type": "function",
        "z": "c99beb5f.614cb8",
        "name": "",
        "func": "msg.payload = \"Light:\"+ msg.Enabeled +\"  Time:\"+ msg.topic+\"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "dbfcd776.f2b518",
        "type": "function",
        "z": "c8930ccb.6e912",
        "name": "",
        "func": "let green = {\"background\": \"lightgreen\"};\nlet orange = {\"background\": \"orange\"};\nlet grey = {\"background\": \"grey\"};\nlet red = {\"background\": \"Crimson\"};\nswitch(msg.payload) {\n  case true:\n    return [green, grey,grey];\n    \n  case false:\n     return [grey, red,grey];\n   \n   default:\n     return [grey, grey, orange];\n}\n\nreturn msg;",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 200,
        "y": 80,
        "wires": [
            [],
            [],
            []
        ],
        "outputLabels": [
            "ON",
            "OFF",
            "AUTO"
        ]
    },
    {
        "id": "26870d78.89b472",
        "type": "traffic",
        "z": "95167fef.b6134",
        "name": "Block Light",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 450,
        "y": 180,
        "wires": [
            [
                "13778892.2a0ed7"
            ]
        ]
    },
    {
        "id": "a11a91da.5ad24",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 100,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8",
                "91a7fb27.153388"
            ]
        ]
    },
    {
        "id": "938ec30b.4297f",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "ON",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1250,
        "y": 200,
        "wires": [
            [
                "a85cb1de.b2ab"
            ]
        ]
    },
    {
        "id": "fb3a9993.6269b8",
        "type": "trigger",
        "z": "95167fef.b6134",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": true,
        "units": "s",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1270,
        "y": 240,
        "wires": [
            [
                "50aa8aad.14fbf4"
            ]
        ]
    },
    {
        "id": "998943e2.e0d0f",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "room",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d9c60a4a.f09e68",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 400,
        "wires": [
            [
                "26699996.18eb86"
            ],
            [
                "6893d036.80a4c"
            ]
        ]
    },
    {
        "id": "6893d036.80a4c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Ettermiddag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "16:00",
        "endTime": "20:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 710,
        "y": 440,
        "wires": [
            [
                "983ec0ae.1da1d"
            ],
            [
                "1409254b.a545db",
                "983ec0ae.1da1d"
            ]
        ]
    },
    {
        "id": "1409254b.a545db",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "20:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 480,
        "wires": [
            [
                "74c885f8.41bd8c"
            ],
            [
                "c1a57d04.02dd2",
                "73c4a487.cd543c"
            ]
        ]
    },
    {
        "id": "b2a9199c.b4fc38",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "TIdlig Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:30",
        "endTime": "08:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 700,
        "y": 320,
        "wires": [
            [
                "ba2cd27b.bb893"
            ],
            [
                "353f5328.0939bc"
            ]
        ]
    },
    {
        "id": "353f5328.0939bc",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Morgen",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "10:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 720,
        "y": 360,
        "wires": [
            [
                "160da951.9f50e7"
            ],
            [
                "d9c60a4a.f09e68"
            ]
        ]
    },
    {
        "id": "ba2cd27b.bb893",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "tidlig",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "74c885f8.41bd8c",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "983ec0ae.1da1d",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "20 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "1800000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ettermiddag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 460,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "26699996.18eb86",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "5 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "300000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "dag",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 420,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "160da951.9f50e7",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "15 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "900000 ",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "morgen",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 380,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "73c4a487.cd543c",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Sen Kveld",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 520,
        "wires": [
            [
                "e147de11.45dc6"
            ],
            []
        ]
    },
    {
        "id": "e147de11.45dc6",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "1 min",
        "rules": [
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "60000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sen kveld",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 580,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "c1a57d04.02dd2",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "d": true,
        "name": "Natt",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "06:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 560,
        "wires": [
            [
                "9a4c1b75.c30428"
            ],
            [
                "e147de11.45dc6"
            ]
        ]
    },
    {
        "id": "9a4c1b75.c30428",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "Natt",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "natt",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "delay",
                "pt": "msg",
                "to": "3000",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 540,
        "wires": [
            [
                "fb3a9993.6269b8",
                "7c2eceab.3f7bf"
            ]
        ]
    },
    {
        "id": "13778892.2a0ed7",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "Status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 180,
        "wires": [
            [
                "1320f8a5.4784c7"
            ],
            [
                "49d59fdb.c8f13"
            ]
        ]
    },
    {
        "id": "7c2eceab.3f7bf",
        "type": "function",
        "z": "95167fef.b6134",
        "name": "Status",
        "func": "msg.payload = (msg.delay/60000) + \"Mins\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "e7c7e2aa.37a72",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 120,
        "wires": [
            [
                "a11a91da.5ad24"
            ],
            [
                "56f4f77c.b52a78"
            ]
        ]
    },
    {
        "id": "56f4f77c.b52a78",
        "type": "link out",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "d40dbe57.f0a9c"
        ],
        "x": 495,
        "y": 120,
        "wires": []
    },
    {
        "id": "d40dbe57.f0a9c",
        "type": "link in",
        "z": "95167fef.b6134",
        "name": "",
        "links": [
            "56f4f77c.b52a78"
        ],
        "x": 1455,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "12e98816.16dea8",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "91a7fb27.153388",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Reset",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "ON",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "93125ad8.268fd8",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "illumenance",
        "property": "illumenance",
        "propertyType": "flow",
        "rules": [
            {
                "t": "lt",
                "v": "illumenance",
                "vt": "env"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 160,
        "wires": [
            [
                "938ec30b.4297f",
                "fb3a9993.6269b8",
                "12e98816.16dea8"
            ],
            [
                "efc9c5a8.94ff98"
            ]
        ]
    },
    {
        "id": "ab9063bb.93cdb",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "set illumenance",
        "rules": [
            {
                "t": "set",
                "p": "illumenance",
                "pt": "flow",
                "to": "illumenance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 180,
        "wires": [
            [
                "26870d78.89b472"
            ]
        ]
    },
    {
        "id": "e6f595a8.bbe788",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "reset",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 80,
        "wires": [
            [
                "a11a91da.5ad24"
            ]
        ]
    },
    {
        "id": "49d59fdb.c8f13",
        "type": "time-range-switch",
        "z": "95167fef.b6134",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "21:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 730,
        "y": 160,
        "wires": [
            [
                "93125ad8.268fd8"
            ],
            [
                "7619e08.a8fb32",
                "fb3a9993.6269b8"
            ]
        ]
    },
    {
        "id": "7619e08.a8fb32",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "NightTime",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "efc9c5a8.94ff98",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "BRIGHT",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TO Bright",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1580,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a85cb1de.b2ab",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "998943e2.e0d0f"
            ]
        ]
    },
    {
        "id": "50aa8aad.14fbf4",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 240,
        "wires": [
            [
                "998943e2.e0d0f",
                "4e96a6d5.febc48"
            ]
        ]
    },
    {
        "id": "4e96a6d5.febc48",
        "type": "change",
        "z": "95167fef.b6134",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "1320f8a5.4784c7",
        "type": "switch",
        "z": "95167fef.b6134",
        "name": "",
        "property": "status",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 280,
        "wires": [
            [
                "b2a9199c.b4fc38",
                "938ec30b.4297f"
            ],
            [
                "b2a9199c.b4fc38",
                "938ec30b.4297f"
            ]
        ]
    },
    {
        "id": "3db5fa316d693b26",
        "type": "function",
        "z": "beb2c07c77748830",
        "name": "Connected",
        "func": "\n  \n  \n  \n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: env.get(\"text\"),\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "2543e4c5.28612c",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "b7abb1c033a236e9",
        "type": "trigger",
        "z": "c15399232bac2ca3",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "15",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 140,
        "wires": [
            [
                "2543e4c5.28612c",
                "853ea5b8d8ea2b6f"
            ]
        ]
    },
    {
        "id": "8d2467ba32ba6f8d",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 80,
        "wires": [
            [
                "adc5b3cc5fb3acb9"
            ],
            [
                "5c138fa713ff7c90",
                "25b0ce2a287f7a88"
            ]
        ]
    },
    {
        "id": "5e0d8112.7e4fc",
        "type": "traffic",
        "z": "c15399232bac2ca3",
        "name": "btn_block",
        "property_allow": "payload",
        "filter_allow": "go",
        "ignore_case_allow": true,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "8d2467ba32ba6f8d"
            ]
        ]
    },
    {
        "id": "94fa43d7a18c8a2a",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ON",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "5c138fa713ff7c90",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state OFF Countdown",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF Countdown",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d672dd5902ab9ae0",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "096fc2a5f95b7fe3"
            ],
            [
                "096fc2a5f95b7fe3"
            ]
        ]
    },
    {
        "id": "096fc2a5f95b7fe3",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 140,
        "wires": [
            [
                "b7abb1c033a236e9"
            ]
        ]
    },
    {
        "id": "adc5b3cc5fb3acb9",
        "type": "switch",
        "z": "c15399232bac2ca3",
        "name": "LightTreshold ",
        "property": "LightTreshold",
        "propertyType": "env",
        "rules": [
            {
                "t": "eq",
                "v": "ignore",
                "vt": "str"
            },
            {
                "t": "gte",
                "v": "illum",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 620,
        "y": 80,
        "wires": [
            [
                "4b6cb34a2d363e76",
                "096fc2a5f95b7fe3",
                "94fa43d7a18c8a2a"
            ],
            [
                "94fa43d7a18c8a2a",
                "4b6cb34a2d363e76",
                "096fc2a5f95b7fe3"
            ],
            [
                "29f9c1a39ca382a2"
            ]
        ]
    },
    {
        "id": "29f9c1a39ca382a2",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state Bright",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "To Bright",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "853ea5b8d8ea2b6f",
        "type": "change",
        "z": "c15399232bac2ca3",
        "name": "state On",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "25b0ce2a287f7a88",
        "type": "function",
        "z": "c15399232bac2ca3",
        "name": "delay",
        "func": "msg.delay = env.get(\"delay\") * 60000\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 180,
        "wires": [
            [
                "b7abb1c033a236e9"
            ]
        ]
    },
    {
        "id": "4b6cb34a2d363e76",
        "type": "delay",
        "z": "c15399232bac2ca3",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 860,
        "y": 80,
        "wires": [
            [
                "2543e4c5.28612c"
            ]
        ]
    },
    {
        "id": "e239cc32.ce75b",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller: NO",
        "links": [],
        "x": 1775,
        "y": 60,
        "wires": [
            [
                "ea100c04.f677b"
            ]
        ]
    },
    {
        "id": "be178b19.a730f8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller:  RU",
        "links": [],
        "x": 1775,
        "y": 100,
        "wires": [
            [
                "1dd6721c.ecdc0e"
            ]
        ]
    },
    {
        "id": "c9b1af2b.75dac",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Kjeller: ENG",
        "links": [
            "1484b9d6.aaa5c6"
        ],
        "x": 1775,
        "y": 140,
        "wires": [
            [
                "5f187dff.709a44"
            ]
        ]
    },
    {
        "id": "342f3c87.de1764",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: RU",
        "links": [],
        "x": 1775,
        "y": 180,
        "wires": [
            [
                "2df34fb1.a7855"
            ]
        ]
    },
    {
        "id": "d8761e25.88f1d",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: NO",
        "links": [
            "eb9070bf.75d39",
            "9dde96a4.f1d6d8"
        ],
        "x": 1755,
        "y": 400,
        "wires": [
            [
                "d09cfa06.b99e18"
            ]
        ]
    },
    {
        "id": "e812b99e.e523f8",
        "type": "pushbullet",
        "z": "1c11632f.f206fd",
        "config": "530528aa.2006c8",
        "pushtype": "note",
        "title": "",
        "chan": "",
        "name": "Notification",
        "x": 2010,
        "y": 460,
        "wires": []
    },
    {
        "id": "9d6f976b.5d59f8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Pushbullet",
        "links": [
            "e7746f47.54cbc",
            "c0005e0c.a1014",
            "976db23e.1f8ba",
            "c0909415.c77af8"
        ],
        "x": 1755,
        "y": 460,
        "wires": [
            [
                "e812b99e.e523f8"
            ]
        ]
    },
    {
        "id": "817f1df1.c5f98",
        "type": "exec",
        "z": "1c11632f.f206fd",
        "command": "node-red-restart",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 1360,
        "y": 80,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "aecb8d48.af66f",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1160,
        "y": 80,
        "wires": [
            [
                "817f1df1.c5f98"
            ]
        ]
    },
    {
        "id": "3572fdf5.48cc62",
        "type": "miio-roborock-event",
        "z": "1c11632f.f206fd",
        "name": "Mr Robot",
        "server": "6708f2f6.06829c",
        "outputAtStartup": true,
        "x": 260,
        "y": 80,
        "wires": [
            [
                "1f150a19.40f1f6"
            ]
        ]
    },
    {
        "id": "704455a7.c3d2ec",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "Mr Robot",
        "label": "{{label}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 1,
        "width": 3,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-bolt",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 800,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "9ae92a2b.99c9c8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Convert Data",
        "func": "     msg.label = msg.status.state_text;\n     //msg.payload = global.get(\"Mode\");\n     msg.payload = false;\n     if(msg.label === \"charging\"){\n         msg.payload = true;\n     }\n     \n     \n     msg.label = \"Mr Robot is \" + msg.label; \n     \n \nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 610,
        "y": 80,
        "wires": [
            [
                "704455a7.c3d2ec"
            ]
        ]
    },
    {
        "id": "128705ae.2e87ba",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Status / INFO",
        "info": "",
        "x": 210,
        "y": 40,
        "wires": []
    },
    {
        "id": "1ecef1db.323e0e",
        "type": "ui_switch",
        "z": "1c11632f.f206fd",
        "name": "Status",
        "label": "{{label}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "",
        "style": "",
        "onvalue": "home",
        "onvalueType": "str",
        "onicon": "fa-home",
        "oncolor": "Green",
        "offvalue": "away",
        "offvalueType": "str",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 790,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "f679bcb.a33044",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Convert Data",
        "func": "     msg.label = global.get(\"Mode\");\n     msg.payload = global.get(\"Mode\");\n \nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 140,
        "wires": [
            [
                "1ecef1db.323e0e"
            ]
        ]
    },
    {
        "id": "8456ad2c.7b492",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "1e397062fcfbb0e9"
        ],
        "x": 215,
        "y": 140,
        "wires": [
            [
                "f679bcb.a33044"
            ]
        ]
    },
    {
        "id": "d871d736.d19838",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "772b0560.6b8bcc"
        ],
        "x": 215,
        "y": 200,
        "wires": [
            [
                "fe7d3938.a5fd88"
            ]
        ]
    },
    {
        "id": "84abded8.462ac",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "",
        "links": [
            "47763aff.5ff334"
        ],
        "x": 215,
        "y": 240,
        "wires": [
            [
                "f4cc46fb.79d698"
            ]
        ]
    },
    {
        "id": "19836afb.acbac5",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Person Out",
        "links": [
            "e3ae9576.18be48"
        ],
        "x": 955,
        "y": 220,
        "wires": []
    },
    {
        "id": "820037b0.c8cac8",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: English",
        "func": "msg.payload = \"Welcome Home Karina\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "f4fa0e6f.b6cf2",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: Norsk",
        "func": "msg.payload = \"Velkommen Hjem Karina\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "abeca5ba.816198",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: Russisk",
        "func": "msg.payload = \"я люблю тебя\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 180,
        "wires": [
            [
                "2df34fb1.a7855"
            ]
        ]
    },
    {
        "id": "57ba7f31.9cd56",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Off",
        "group": "927bb6cc.493638",
        "order": 6,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "x": 830,
        "y": 480,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "ed7a3ab.c4f31c8",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "On",
        "group": "927bb6cc.493638",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "x": 830,
        "y": 440,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "d2142d17.21a64",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Auto",
        "group": "927bb6cc.493638",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 830,
        "y": 520,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "7f7ea747.fb10a8",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": "2",
        "topic": "Auto",
        "x": 830,
        "y": 560,
        "wires": [
            [
                "f8670f96ca7cf391"
            ]
        ]
    },
    {
        "id": "71871582.621a2c",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Off",
        "group": "231b0632.0e84ca",
        "order": 6,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "x": 830,
        "y": 640,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "8cc2264a.376548",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "On",
        "group": "231b0632.0e84ca",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "x": 830,
        "y": 600,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "80ef18fb.d3bc48",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "Auto",
        "group": "231b0632.0e84ca",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 830,
        "y": 680,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "a9d1416e.a3b5b",
        "type": "comment",
        "z": "1c11632f.f206fd",
        "name": "Basic Simple",
        "info": "This example uses the Lifx platform. The Lifx node works well with the thing nodes, as it requires no initization to receive inbound messages. And the Lifx node already uses the MAC address as the message topic, so the Lifx Things are setup with the MAC address as their ID.",
        "x": 1070,
        "y": 20,
        "wires": []
    },
    {
        "id": "1f150a19.40f1f6",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "rate",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 420,
        "y": 80,
        "wires": [
            [
                "9ae92a2b.99c9c8"
            ]
        ]
    },
    {
        "id": "f4cc46fb.79d698",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Karina",
        "rules": [
            {
                "t": "set",
                "p": "Karina",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 260,
        "wires": [
            [
                "67492538.8a508c"
            ]
        ]
    },
    {
        "id": "fe7d3938.a5fd88",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "Øivind",
        "rules": [
            {
                "t": "set",
                "p": "oivheg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 180,
        "wires": [
            [
                "feeff268.c217c"
            ]
        ]
    },
    {
        "id": "6987ca2e.892e94",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "btn_upstairs",
        "links": [
            "6e6f2eda.8a5af",
            "fabdb6a9.b22598"
        ],
        "x": 1055,
        "y": 480,
        "wires": []
    },
    {
        "id": "ff979eb7.893f3",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "btn_downstairs",
        "links": [
            "34407a70.7715c6",
            "56d97603.6cdfe8"
        ],
        "x": 1035,
        "y": 640,
        "wires": []
    },
    {
        "id": "2899fe6e.4401a2",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "FILM",
        "group": "ca3eef.3da5b11",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "{{payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "block",
        "topicType": "str",
        "x": 830,
        "y": 720,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "5c7f0a8.bbb0af4",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "text",
                "v": "node-red have started",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "15",
        "topic": "",
        "x": 1310,
        "y": 280,
        "wires": [
            [
                "6231a20f24a2e3ca"
            ]
        ]
    },
    {
        "id": "dd227924.f03a78",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "name": "ALLE",
        "connection": "639afec7.a73a3",
        "x": 2030,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "15d28c99.680783",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH: Stue: ENG",
        "links": [
            "7db434df.a3db2c",
            "976db23e.1f8ba",
            "a16f5c34.ba508"
        ],
        "x": 1775,
        "y": 300,
        "wires": [
            [
                "dd227924.f03a78"
            ]
        ]
    },
    {
        "id": "65f5a4f8.7de8fc",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "S-Off",
        "group": "a8deaee7.c8dff",
        "order": 6,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "red",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "false",
        "payloadType": "bool",
        "topic": "off",
        "topicType": "str",
        "x": 830,
        "y": 820,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "d2e37f4b.df0e9",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "S-On",
        "group": "a8deaee7.c8dff",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "green",
        "bgcolor": "{{background}}",
        "icon": "power_settings_new",
        "payload": "true",
        "payloadType": "bool",
        "topic": "on",
        "topicType": "str",
        "x": 830,
        "y": 780,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "fb14610a.ba0cf",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "btn_Bedroom",
        "links": [
            "1aceef23.4fc291",
            "d9e85afd.05fb38"
        ],
        "x": 1035,
        "y": 800,
        "wires": []
    },
    {
        "id": "216a5566.53b0aa",
        "type": "ui_button",
        "z": "1c11632f.f206fd",
        "name": "S-Auto",
        "group": "a8deaee7.c8dff",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "AUTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "Auto",
        "topicType": "str",
        "x": 830,
        "y": 860,
        "wires": [
            [
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "d9e85afd.05fb38",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "btn_Color",
        "links": [
            "fb14610a.ba0cf"
        ],
        "x": 495,
        "y": 820,
        "wires": [
            [
                "1d4bef5d.bd33a1"
            ]
        ]
    },
    {
        "id": "1d4bef5d.bd33a1",
        "type": "subflow:c8930ccb.6e912",
        "z": "1c11632f.f206fd",
        "name": "Bedroom",
        "env": [],
        "x": 660,
        "y": 820,
        "wires": [
            [
                "d2e37f4b.df0e9"
            ],
            [
                "65f5a4f8.7de8fc"
            ],
            [
                "216a5566.53b0aa"
            ]
        ]
    },
    {
        "id": "790d26f6.d423a8",
        "type": "subflow:c8930ccb.6e912",
        "z": "1c11632f.f206fd",
        "name": "Basement",
        "env": [],
        "x": 640,
        "y": 640,
        "wires": [
            [
                "8cc2264a.376548"
            ],
            [
                "71871582.621a2c"
            ],
            [
                "80ef18fb.d3bc48"
            ]
        ]
    },
    {
        "id": "2b70efb5.d5416",
        "type": "subflow:c8930ccb.6e912",
        "z": "1c11632f.f206fd",
        "name": "Upstairs",
        "env": [],
        "x": 640,
        "y": 480,
        "wires": [
            [
                "ed7a3ab.c4f31c8"
            ],
            [
                "57ba7f31.9cd56"
            ],
            [
                "d2142d17.21a64"
            ]
        ]
    },
    {
        "id": "34407a70.7715c6",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "btn_B-Color",
        "links": [
            "ff979eb7.893f3"
        ],
        "x": 495,
        "y": 640,
        "wires": [
            [
                "790d26f6.d423a8"
            ]
        ]
    },
    {
        "id": "6e6f2eda.8a5af",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "btn_U-Color",
        "links": [
            "6987ca2e.892e94"
        ],
        "x": 495,
        "y": 480,
        "wires": [
            [
                "2b70efb5.d5416"
            ]
        ]
    },
    {
        "id": "32131fe0.68d4c",
        "type": "time-range-switch",
        "z": "1c11632f.f206fd",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1150,
        "y": 580,
        "wires": [
            [
                "fb14610a.ba0cf",
                "ff979eb7.893f3"
            ],
            []
        ]
    },
    {
        "id": "feeff268.c217c",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Heggland",
        "links": [
            "6864b7fa.51f528"
        ],
        "x": 955,
        "y": 180,
        "wires": []
    },
    {
        "id": "67492538.8a508c",
        "type": "link out",
        "z": "1c11632f.f206fd",
        "name": "Karina",
        "links": [
            "ae3ebfe2.54e44"
        ],
        "x": 955,
        "y": 260,
        "wires": []
    },
    {
        "id": "50a60792.19b3e8",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "name": "OFFICE",
        "connection": "862863a9.265f3",
        "x": 2040,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "e1a25373.858cb",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "OFFICE",
        "links": [
            "dc33a268.a0933",
            "b423eb89f2883a20",
            "1a0e8a5610faf0f6",
            "4e6013de2aa5c07f",
            "800fa39afa4a1bde",
            "2e45bd4a7ce7164c"
        ],
        "x": 1515,
        "y": 360,
        "wires": [
            [
                "6231a20f24a2e3ca"
            ]
        ]
    },
    {
        "id": "c71338d4.ce73c8",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "SHIELD STATUS",
        "links": [
            "5e8d3398.55375c"
        ],
        "x": 605,
        "y": 720,
        "wires": [
            [
                "2899fe6e.4401a2"
            ]
        ]
    },
    {
        "id": "7a81f7e1.38f6f8",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "d": true,
        "name": "Kjeller",
        "connection": "4dd42f71.91823",
        "x": 2030,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "5f187dff.709a44",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "Text: English",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: msg.text,\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1890,
        "y": 140,
        "wires": [
            [
                "7a81f7e1.38f6f8"
            ]
        ]
    },
    {
        "id": "87af81c4.c910b",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "Decons_Upstairs",
        "links": [
            "fbd30b58.0dc988"
        ],
        "x": 855,
        "y": 400,
        "wires": [
            [
                "6987ca2e.892e94"
            ]
        ]
    },
    {
        "id": "c720f0cc.65429",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "DEcons_Downstairs",
        "links": [
            "63220a70.24ebb4"
        ],
        "x": 845,
        "y": 760,
        "wires": [
            [
                "ff979eb7.893f3"
            ]
        ]
    },
    {
        "id": "0259d792f5b75f52",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "night",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 21 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "night",
        "payloadType": "str",
        "x": 250,
        "y": 320,
        "wires": [
            [
                "9eea7aeb43d074a3"
            ]
        ]
    },
    {
        "id": "9eea7aeb43d074a3",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "b8d1aea9ca80ad0d",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "day",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "day",
        "payloadType": "str",
        "x": 250,
        "y": 380,
        "wires": [
            [
                "9eea7aeb43d074a3"
            ]
        ]
    },
    {
        "id": "f8670f96ca7cf391",
        "type": "change",
        "z": "1c11632f.f206fd",
        "name": "set Auto",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1230,
        "y": 520,
        "wires": [
            [
                "6987ca2e.892e94",
                "ff979eb7.893f3",
                "32131fe0.68d4c",
                "fb14610a.ba0cf"
            ]
        ]
    },
    {
        "id": "41c183996b5493bd",
        "type": "inject",
        "z": "1c11632f.f206fd",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "20",
        "topic": "Auto",
        "x": 1090,
        "y": 400,
        "wires": [
            [
                "f8670f96ca7cf391"
            ]
        ]
    },
    {
        "id": "d09cfa06.b99e18",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "429b8253.24d1dc",
        "name": "Stue: NO",
        "x": 2020,
        "y": 400,
        "wires": []
    },
    {
        "id": "ea100c04.f677b",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "d1934670.897a88",
        "name": "Kjeller: Norsk",
        "x": 2050,
        "y": 60,
        "wires": []
    },
    {
        "id": "1dd6721c.ecdc0e",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "a967d384.f5115",
        "name": "Kjeller:RU",
        "x": 2040,
        "y": 100,
        "wires": []
    },
    {
        "id": "2df34fb1.a7855",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "5ee6b185.35f2d",
        "name": "Stue:RU",
        "x": 2040,
        "y": 180,
        "wires": []
    },
    {
        "id": "eeb4b0da.ffdb",
        "type": "googlehome-notify",
        "z": "1c11632f.f206fd",
        "server": "429b8253.24d1dc",
        "name": "Stue: NO",
        "x": 2220,
        "y": 200,
        "wires": []
    },
    {
        "id": "55847e6350255a23",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1870,
        "y": 360,
        "wires": [
            [
                "50a60792.19b3e8"
            ]
        ]
    },
    {
        "id": "8a1f0fa2c013ae33",
        "type": "castv2-sender",
        "z": "1c11632f.f206fd",
        "name": "Stue",
        "connection": "1744610e.18ab3f",
        "x": 2010,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "8230075b49008c5c",
        "type": "delay",
        "z": "1c11632f.f206fd",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1850,
        "y": 520,
        "wires": [
            [
                "8a1f0fa2c013ae33"
            ]
        ]
    },
    {
        "id": "5cfbdbd83670143c",
        "type": "link in",
        "z": "1c11632f.f206fd",
        "name": "GH-STUE",
        "links": [],
        "x": 1685,
        "y": 520,
        "wires": [
            [
                "8230075b49008c5c"
            ]
        ]
    },
    {
        "id": "6231a20f24a2e3ca",
        "type": "function",
        "z": "1c11632f.f206fd",
        "name": "converter",
        "func": "\n  \n  \n  \n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: msg.text,\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1640,
        "y": 360,
        "wires": [
            [
                "55847e6350255a23"
            ]
        ]
    },
    {
        "id": "95811a33.4d7d18",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "KJØKKEN",
        "group": "927bb6cc.493638",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "KJØKKEN",
        "topicType": "str",
        "x": 1370,
        "y": 660,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "ef7a18c8.b37818",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "TV",
        "group": "231b0632.0e84ca",
        "order": 3,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "icon": "fa-television",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 770,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "da254232.d820b",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "Soverom",
        "group": "a8deaee7.c8dff",
        "order": 3,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-bed",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 1580,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "c6724f39.53f47",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "O-LYS",
        "group": "e25fe03d.94a6a",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "true",
        "payloadType": "bool",
        "topic": "O-LYS",
        "topicType": "str",
        "x": 1350,
        "y": 340,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "94eb7140.f691d",
        "type": "ui_switch",
        "z": "34fc4e1d.243ef2",
        "name": "heggland",
        "label": "Øivind",
        "tooltip": "",
        "group": "69a63d21.a935c4",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-user",
        "oncolor": "Green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-user",
        "offcolor": "orange",
        "x": 320,
        "y": 280,
        "wires": [
            [
                "55cc920f.08f7ac"
            ]
        ]
    },
    {
        "id": "cbd47089.141c8",
        "type": "ui_switch",
        "z": "34fc4e1d.243ef2",
        "name": "karina",
        "label": "Karina",
        "tooltip": "",
        "group": "69a63d21.a935c4",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-user",
        "oncolor": "Green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-user",
        "offcolor": "orange",
        "x": 310,
        "y": 240,
        "wires": [
            [
                "3a876ebf.a09ea2"
            ]
        ]
    },
    {
        "id": "ae3ebfe2.54e44",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "name": "KARINA",
        "links": [
            "67492538.8a508c"
        ],
        "x": 215,
        "y": 240,
        "wires": [
            [
                "cbd47089.141c8"
            ]
        ]
    },
    {
        "id": "3a876ebf.a09ea2",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "links": [
            "b923bf0d.82c3b"
        ],
        "x": 415,
        "y": 240,
        "wires": []
    },
    {
        "id": "6864b7fa.51f528",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "links": [
            "feeff268.c217c"
        ],
        "x": 215,
        "y": 280,
        "wires": [
            [
                "94eb7140.f691d"
            ]
        ]
    },
    {
        "id": "55cc920f.08f7ac",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "links": [
            "cbd8bcf7.4bc8c"
        ],
        "x": 415,
        "y": 280,
        "wires": []
    },
    {
        "id": "a19e493b.49cd68",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "K-LYS",
        "group": "231b0632.0e84ca",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "K-LYS",
        "topicType": "str",
        "x": 1350,
        "y": 500,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "3e444ebc.b3a102",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "S-LYS",
        "group": "a8deaee7.c8dff",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "S-LYS",
        "topicType": "str",
        "x": 1350,
        "y": 460,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "54c12383.3b8e7c",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 460,
        "y": 720,
        "wires": [
            [
                "9fcc84da.3f61b8"
            ],
            [
                "4bc4e08c.7d0a9"
            ]
        ]
    },
    {
        "id": "4bc4e08c.7d0a9",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 740,
        "wires": [
            [
                "ef7a18c8.b37818"
            ]
        ]
    },
    {
        "id": "9fcc84da.3f61b8",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "black",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 700,
        "wires": [
            [
                "ef7a18c8.b37818"
            ]
        ]
    },
    {
        "id": "92091a2e.df6988",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "G-LYS",
        "group": "70ca41b6.c8208",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "G-LYS",
        "topicType": "str",
        "x": 1350,
        "y": 380,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "a88b9898.287c38",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "K-O-LYS",
        "group": "3be8a4e3.dba93c",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "K-O-LYS",
        "topicType": "str",
        "x": 1360,
        "y": 580,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "6075171d.f0db08",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "name": "SHIELD",
        "links": [
            "5e8d3398.55375c"
        ],
        "x": 375,
        "y": 720,
        "wires": [
            [
                "54c12383.3b8e7c"
            ]
        ]
    },
    {
        "id": "567755e9f6d5914d",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "B-PRES",
        "group": "231b0632.0e84ca",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "basement",
        "topicType": "str",
        "x": 1140,
        "y": 1020,
        "wires": [
            [
                "5ed205423081c847"
            ]
        ]
    },
    {
        "id": "d1dd0b4c718650f7",
        "type": "ui_template",
        "z": "34fc4e1d.243ef2",
        "group": "357d373a.2d1478",
        "name": "icon style",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .bigIcon{\n        font-size:2em;\n        transition: 1s;\n    }\n    .bigIcon.red{\n        color:red;\n    }\n    \n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "global",
        "className": "",
        "x": 400,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "d58c58151e606c9c",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "KJ-PRES",
        "group": "927bb6cc.493638",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "kitchn",
        "topicType": "str",
        "x": 1140,
        "y": 1100,
        "wires": [
            [
                "5ed205423081c847"
            ]
        ]
    },
    {
        "id": "750c2433948ed999",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "S-PRESS",
        "group": "a8deaee7.c8dff",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 1160,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "462b0ce386932b99",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "O-PRESS",
        "group": "e25fe03d.94a6a",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "Office",
        "topicType": "str",
        "x": 1140,
        "y": 1220,
        "wires": [
            [
                "5ed205423081c847"
            ]
        ]
    },
    {
        "id": "d7fd489965c175ac",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "K-O-PRESS",
        "group": "3be8a4e3.dba93c",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "Karina_OFFICE",
        "topicType": "str",
        "x": 1150,
        "y": 1180,
        "wires": [
            [
                "5ed205423081c847"
            ]
        ]
    },
    {
        "id": "9ac436922540aab1",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "G-PRESS",
        "group": "70ca41b6.c8208",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "hall",
        "topicType": "str",
        "x": 1140,
        "y": 1140,
        "wires": [
            [
                "5ed205423081c847"
            ]
        ]
    },
    {
        "id": "73d5a60daa5ab7b8",
        "type": "inject",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 450,
        "y": 960,
        "wires": [
            [
                "63f0af2edef78983",
                "a112e076e707d95e",
                "1b222dee91e68389",
                "611230af549c6f13",
                "9f5d5a8f972157f8",
                "82d8124e62101b3b",
                "fb73f6de60ec82aa",
                "5890e9029bf984bc"
            ]
        ]
    },
    {
        "id": "63f0af2edef78983",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "B-Presence",
        "property": "B-Presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 960,
        "wires": [
            [
                "4557dc7381faaa15"
            ],
            [
                "266c60160ba98d57"
            ]
        ]
    },
    {
        "id": "4557dc7381faaa15",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 940,
        "wires": [
            [
                "567755e9f6d5914d"
            ]
        ]
    },
    {
        "id": "266c60160ba98d57",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 980,
        "wires": [
            [
                "567755e9f6d5914d"
            ]
        ]
    },
    {
        "id": "a112e076e707d95e",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "BA-Presence",
        "property": "BA-Presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1060,
        "wires": [
            [
                "94272825052ce75c"
            ],
            [
                "cb89cb633406a49e"
            ]
        ]
    },
    {
        "id": "94272825052ce75c",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "bathroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1040,
        "wires": [
            [
                "0065961ffb430f90"
            ]
        ]
    },
    {
        "id": "cb89cb633406a49e",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1080,
        "wires": [
            [
                "0065961ffb430f90"
            ]
        ]
    },
    {
        "id": "0065961ffb430f90",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "BA-PRES",
        "group": "9f7c23e0bf86f5c3",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "bathroom",
        "topicType": "str",
        "x": 1140,
        "y": 1060,
        "wires": [
            [
                "5ed205423081c847"
            ]
        ]
    },
    {
        "id": "539565975c8a6a54",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "BA-LYS",
        "group": "9f7c23e0bf86f5c3",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "BA-LYS",
        "topicType": "str",
        "x": 1360,
        "y": 540,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "72dfcf6a346124e5",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "LastPrecence",
        "rules": [
            {
                "t": "set",
                "p": "LastPrecence",
                "pt": "global",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1940,
        "y": 1060,
        "wires": [
            [
                "cd761b614522d2ab"
            ]
        ]
    },
    {
        "id": "1b222dee91e68389",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "ST-Presence",
        "property": "ST-presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1160,
        "wires": [
            [
                "c542db3d6d996187"
            ],
            [
                "f0075cf284d82b8e"
            ]
        ]
    },
    {
        "id": "c542db3d6d996187",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "kitchn",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1140,
        "wires": [
            [
                "d58c58151e606c9c"
            ]
        ]
    },
    {
        "id": "f0075cf284d82b8e",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1180,
        "wires": [
            [
                "d58c58151e606c9c"
            ]
        ]
    },
    {
        "id": "611230af549c6f13",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "HA-Presence",
        "property": "HA-Presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1280,
        "wires": [
            [
                "ab4f6813ea88ebca"
            ],
            [
                "3db996f32ae0ad7b"
            ]
        ]
    },
    {
        "id": "ab4f6813ea88ebca",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "hall",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1260,
        "wires": [
            [
                "9ac436922540aab1"
            ]
        ]
    },
    {
        "id": "3db996f32ae0ad7b",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1300,
        "wires": [
            [
                "9ac436922540aab1"
            ]
        ]
    },
    {
        "id": "b423eb89f2883a20",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "d": true,
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2235,
        "y": 1060,
        "wires": []
    },
    {
        "id": "cd761b614522d2ab",
        "type": "function",
        "z": "34fc4e1d.243ef2",
        "name": "Text: English",
        "func": "if (msg.room){\n  msg.room = msg.room.replace(\"_\", \" \");\n  }\n  \n  \n  \n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Last Room is \" + msg.room,\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 1060,
        "wires": [
            [
                "b423eb89f2883a20"
            ]
        ]
    },
    {
        "id": "d6d2a0500f15dfec",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "d": true,
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ST-presence",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1920,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "9f5d5a8f972157f8",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "KO-Presence",
        "property": "KO-presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 680,
        "y": 1380,
        "wires": [
            [
                "dc8344999aa8faf3"
            ],
            [
                "2ea24c249b4e7aa4"
            ]
        ]
    },
    {
        "id": "dc8344999aa8faf3",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "Karina_OFFICE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1360,
        "wires": [
            [
                "d7fd489965c175ac"
            ]
        ]
    },
    {
        "id": "2ea24c249b4e7aa4",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1400,
        "wires": [
            [
                "d7fd489965c175ac"
            ]
        ]
    },
    {
        "id": "78982c54d7cfed47",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "!=",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "LastPrecence",
                "vt": "global"
            },
            {
                "t": "null"
            },
            {
                "t": "eq",
                "v": "hall",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "O-presence\t",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "KO-presence\t",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "kitchn",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 1710,
        "y": 1060,
        "wires": [
            [
                "72dfcf6a346124e5"
            ],
            [],
            [],
            [],
            [],
            [
                "d6d2a0500f15dfec"
            ]
        ]
    },
    {
        "id": "5ed205423081c847",
        "type": "rbe",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "background",
        "topi": "topic",
        "x": 1360,
        "y": 1060,
        "wires": [
            [
                "94be91ae14263403"
            ]
        ]
    },
    {
        "id": "c2a6540cf2006146",
        "type": "link out",
        "z": "34fc4e1d.243ef2",
        "name": "O-Light",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee"
        ],
        "x": 1715,
        "y": 340,
        "wires": []
    },
    {
        "id": "3e07a9b8db351d48",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "Closet",
        "group": "5fbbc12a986329c4",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "Closet",
        "topicType": "str",
        "x": 1350,
        "y": 420,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "b5b4e683f02ca9f3",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "vaskerom",
        "group": "71d3b8ea0b115e6e",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "black",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-lightbulb-o",
        "payload": "",
        "payloadType": "str",
        "topic": "vaskerom",
        "topicType": "str",
        "x": 1360,
        "y": 620,
        "wires": [
            [
                "c2a6540cf2006146"
            ]
        ]
    },
    {
        "id": "ee3e825fcad82993",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "links": [
            "80e36239586e7edc"
        ],
        "x": 515,
        "y": 540,
        "wires": [
            [
                "cc174d77b5907f86"
            ]
        ]
    },
    {
        "id": "cc174d77b5907f86",
        "type": "function",
        "z": "34fc4e1d.243ef2",
        "name": "Btn_LIghts",
        "func": "msg.background = \"grey\";\nif (msg.payload.power == \"on\"){\n    msg.background = \"yellow\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 540,
        "wires": [
            [
                "c8d35c2375c9aeee"
            ]
        ]
    },
    {
        "id": "c8d35c2375c9aeee",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Office_Light",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Hallway",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bedroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bathroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "karinaoffice",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "laundry",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kjøkken",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 9,
        "x": 910,
        "y": 560,
        "wires": [
            [
                "c6724f39.53f47"
            ],
            [
                "92091a2e.df6988"
            ],
            [
                "3e07a9b8db351d48"
            ],
            [
                "3e444ebc.b3a102"
            ],
            [
                "a19e493b.49cd68"
            ],
            [
                "539565975c8a6a54"
            ],
            [
                "a88b9898.287c38"
            ],
            [
                "b5b4e683f02ca9f3"
            ],
            [
                "95811a33.4d7d18"
            ]
        ]
    },
    {
        "id": "df0c163669cad87c",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "name": "Reset ST-Presense",
        "links": [
            "67b396cf9240af63"
        ],
        "x": 1355,
        "y": 1140,
        "wires": [
            [
                "589de4231d9a2394"
            ]
        ]
    },
    {
        "id": "589de4231d9a2394",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "94be91ae14263403",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "background",
        "property": "background",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "lightgreen",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1540,
        "y": 1060,
        "wires": [
            [
                "78982c54d7cfed47"
            ]
        ]
    },
    {
        "id": "82d8124e62101b3b",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "O-Presence",
        "property": "O-presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1460,
        "wires": [
            [
                "ba76e30c3de85152"
            ],
            [
                "0d128c3fd381ecf7"
            ]
        ]
    },
    {
        "id": "ba76e30c3de85152",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "Karina_OFFICE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1440,
        "wires": [
            [
                "462b0ce386932b99"
            ]
        ]
    },
    {
        "id": "0d128c3fd381ecf7",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1480,
        "wires": [
            [
                "462b0ce386932b99"
            ]
        ]
    },
    {
        "id": "144253238ba7a897",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "V-PRESS",
        "group": "71d3b8ea0b115e6e",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 1160,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "6369e9bb58069b62",
        "type": "ui_button",
        "z": "34fc4e1d.243ef2",
        "name": "C-PRESS",
        "group": "5fbbc12a986329c4",
        "order": 2,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "white",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "fa-eye bigIcon",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 1160,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "fb73f6de60ec82aa",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "C-Presence",
        "property": "C-Presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1560,
        "wires": [
            [
                "42173fc2290ab75a"
            ],
            [
                "efeb992813d67877"
            ]
        ]
    },
    {
        "id": "42173fc2290ab75a",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1540,
        "wires": [
            [
                "144253238ba7a897"
            ]
        ]
    },
    {
        "id": "efeb992813d67877",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1580,
        "wires": [
            [
                "144253238ba7a897"
            ]
        ]
    },
    {
        "id": "5890e9029bf984bc",
        "type": "switch",
        "z": "34fc4e1d.243ef2",
        "name": "V-Presence",
        "property": "V-Presence",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 1660,
        "wires": [
            [
                "c86aec7aa49ca18c"
            ],
            [
                "2055ac32c1509238"
            ]
        ]
    },
    {
        "id": "c86aec7aa49ca18c",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "lightgreen",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1640,
        "wires": [
            [
                "6369e9bb58069b62"
            ]
        ]
    },
    {
        "id": "2055ac32c1509238",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "grey",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1680,
        "wires": [
            [
                "6369e9bb58069b62"
            ]
        ]
    },
    {
        "id": "d7f5cfb64ad22ad0",
        "type": "change",
        "z": "34fc4e1d.243ef2",
        "name": "KO-presence:T",
        "rules": [
            {
                "t": "set",
                "p": "KO-presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "885fc820467d8739",
        "type": "link in",
        "z": "34fc4e1d.243ef2",
        "name": "Karina OF HUE",
        "links": [
            "2998be5081486cc3"
        ],
        "x": 1285,
        "y": 740,
        "wires": [
            [
                "d7f5cfb64ad22ad0"
            ]
        ]
    },
    {
        "id": "6e1a0143.f51f8",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1455,
        "y": 1300,
        "wires": []
    },
    {
        "id": "b5c52e38.5a0b5",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "Bevegelse Gangen",
        "label": "Bevegelse Gangen",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 5,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "x": 630,
        "y": 1100,
        "wires": [
            [
                "b05e450967f5da8d"
            ]
        ]
    },
    {
        "id": "a3713cf3.b331a",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "Bevegelse nede",
        "label": "Bevegelse Nede {{msg.illumenance}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 8,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "animate": true,
        "x": 620,
        "y": 940,
        "wires": [
            [
                "bc57e78aaf68965d"
            ]
        ]
    },
    {
        "id": "dcf434ce.e89888",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "Movement Hall",
        "links": [
            "328ec247.9e5eee"
        ],
        "x": 475,
        "y": 1100,
        "wires": [
            [
                "b5c52e38.5a0b5",
                "f539323231f77776"
            ]
        ]
    },
    {
        "id": "f66e7e24.aca9d",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "Movement Nede",
        "links": [
            "b951c7f1.f25428"
        ],
        "x": 475,
        "y": 940,
        "wires": [
            [
                "a3713cf3.b331a"
            ]
        ]
    },
    {
        "id": "99ed1ce4.90a0c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "Set Upstairs lights ",
        "links": [
            "39e053b3d2fb7ed8"
        ],
        "x": 1255,
        "y": 240,
        "wires": [
            [
                "9253d22c.17587"
            ]
        ]
    },
    {
        "id": "c825f67d.b5dba8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "set-downstaris lights",
        "links": [
            "9a820556.4df458"
        ],
        "x": 1255,
        "y": 280,
        "wires": [
            [
                "76c860b3.3a25c"
            ]
        ]
    },
    {
        "id": "7c9078bb.3bd958",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Basemet Reset",
        "links": [
            "7a4a01ee.c97e"
        ],
        "x": 1135,
        "y": 300,
        "wires": []
    },
    {
        "id": "fabdb6a9.b22598",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "btn_upstairs",
        "links": [
            "6987ca2e.892e94"
        ],
        "x": 155,
        "y": 260,
        "wires": [
            [
                "952977f1.2f4798"
            ]
        ]
    },
    {
        "id": "429f76d8.f44498",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "button",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 260,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "99bb192c.9613d8"
            ]
        ]
    },
    {
        "id": "56d97603.6cdfe8",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "btn_downstairs",
        "links": [
            "ff979eb7.893f3"
        ],
        "x": 155,
        "y": 300,
        "wires": [
            [
                "ff0e4529.8db608"
            ]
        ]
    },
    {
        "id": "128d5a8c.8a17f5",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "button",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 300,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "99bb192c.9613d8"
            ]
        ]
    },
    {
        "id": "76c860b3.3a25c",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "B_illumenance",
                "pt": "flow",
                "to": "payload.illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "952977f1.2f4798",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "upstairs",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "upstairs",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 260,
        "wires": [
            [
                "429f76d8.f44498"
            ]
        ]
    },
    {
        "id": "ff0e4529.8db608",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 300,
        "wires": [
            [
                "128d5a8c.8a17f5"
            ]
        ]
    },
    {
        "id": "f2786c6b.d98eb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "GO",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 260,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "ef6b84bd.139bb8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 340,
        "wires": [
            [
                "3ceb6365.4b21bc"
            ]
        ]
    },
    {
        "id": "af18fdf6.83584",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Soverom",
        "label": "Bevegelse Soverom {{msg.illum}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 7,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 600,
        "y": 1300,
        "wires": [
            [
                "551be057.65bed"
            ]
        ]
    },
    {
        "id": "50b0d259.df502c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Movement Soverom",
        "links": [
            "9ace10c4.4ce8f"
        ],
        "x": 475,
        "y": 1300,
        "wires": [
            [
                "af18fdf6.83584"
            ]
        ]
    },
    {
        "id": "6e045be5.c83874",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bedroom_illumenance",
                "pt": "flow",
                "to": "payload.illuminance",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "3510f454.e53bec",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "Block LIght",
        "rules": [
            {
                "t": "set",
                "p": "bedroom",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 360,
        "wires": [
            [
                "6e045be5.c83874"
            ]
        ]
    },
    {
        "id": "ce2c692a.a3a9c8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "allow LIght",
        "rules": [
            {
                "t": "set",
                "p": "bedroom",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 320,
        "wires": [
            [
                "6e045be5.c83874"
            ]
        ]
    },
    {
        "id": "c40e547e.a15af8",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "Light bedroom",
        "property": "payload.illuminance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "250",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1200,
        "y": 400,
        "wires": [
            [
                "ce2c692a.a3a9c8"
            ],
            [
                "3510f454.e53bec"
            ]
        ]
    },
    {
        "id": "32e7306b.a8497",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "button",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Auto",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 340,
        "wires": [
            [
                "f2786c6b.d98eb"
            ],
            [
                "ef6b84bd.139bb8",
                "99bb192c.9613d8"
            ]
        ]
    },
    {
        "id": "6ff82cc7.7f6d34",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "set-downstaris lights",
        "links": [],
        "x": 935,
        "y": 400,
        "wires": [
            [
                "c40e547e.a15af8"
            ]
        ]
    },
    {
        "id": "f7029354.44404",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Bedroom Reset",
        "links": [
            "27734f04.1bd46",
            "939d1d44.2632e",
            "7c6e26c.c6758d8",
            "19489cd49c8e05e3"
        ],
        "x": 1135,
        "y": 340,
        "wires": []
    },
    {
        "id": "e54806fb.80a248",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "bedroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 340,
        "wires": [
            [
                "32e7306b.a8497"
            ]
        ]
    },
    {
        "id": "1aceef23.4fc291",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "btn_Bedroom",
        "links": [
            "fb14610a.ba0cf"
        ],
        "x": 155,
        "y": 340,
        "wires": [
            [
                "e54806fb.80a248"
            ]
        ]
    },
    {
        "id": "641555a3.3a90ec",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "Upstairs block",
        "links": [
            "2cc83436.3fa25c"
        ],
        "x": 1135,
        "y": 260,
        "wires": []
    },
    {
        "id": "3ceb6365.4b21bc",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "Room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "upstairs",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "bedroom",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 3,
        "x": 710,
        "y": 300,
        "wires": [
            [
                "af4303d0.15fad"
            ],
            [
                "d3c43c4.fea9bc"
            ],
            [
                "882dbe4f.06e99"
            ]
        ]
    },
    {
        "id": "af4303d0.15fad",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "STOP/GO",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 880,
        "y": 260,
        "wires": [
            [
                "641555a3.3a90ec"
            ],
            [
                "641555a3.3a90ec",
                "b831f3e7.05899"
            ]
        ]
    },
    {
        "id": "d3c43c4.fea9bc",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "STOP/GO",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 880,
        "y": 300,
        "wires": [
            [
                "7c9078bb.3bd958"
            ],
            [
                "7c9078bb.3bd958"
            ]
        ]
    },
    {
        "id": "882dbe4f.06e99",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "STOP/GO",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "STOP",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 880,
        "y": 340,
        "wires": [
            [
                "f7029354.44404",
                "ce2c692a.a3a9c8"
            ],
            [
                "f7029354.44404",
                "3510f454.e53bec"
            ]
        ]
    },
    {
        "id": "e17d0a43.b0e048",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "RESET lights",
        "links": [
            "247260f.c82dca",
            "fc4fe81e.444628"
        ],
        "x": 155,
        "y": 180,
        "wires": [
            [
                "7284606e.34aff"
            ]
        ]
    },
    {
        "id": "551be057.65bed",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "cont",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 830,
        "y": 1300,
        "wires": [
            [
                "876c799e.859a08"
            ]
        ]
    },
    {
        "id": "9253d22c.17587",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "U_illumenance",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1420,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "573ad2.f49d253",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "Reset",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 05 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 700,
        "y": 140,
        "wires": [
            [
                "7284606e.34aff"
            ]
        ]
    },
    {
        "id": "18b93929.bea567",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 1380,
        "wires": [
            [
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "876c799e.859a08",
        "type": "time-range-switch",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "10:00",
        "endTime": "20:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 970,
        "y": 1300,
        "wires": [
            [
                "a4afb1bbd79c5da6",
                "c0a924816dea4ee8"
            ],
            [
                "d3daac16ab6cdf92"
            ]
        ]
    },
    {
        "id": "7284606e.34aff",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 180,
        "wires": [
            [
                "af4303d0.15fad",
                "d3c43c4.fea9bc"
            ]
        ]
    },
    {
        "id": "21c80566.d9201a",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1455,
        "y": 940,
        "wires": []
    },
    {
        "id": "ed122137.eed21",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "MORNING",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "60",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 530,
        "y": 460,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "bd26ed9a.5daa7",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "NIGHT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "35",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 20 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "300000",
        "payloadType": "num",
        "x": 520,
        "y": 540,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "69f4a103.cfabb",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "Set offdelay",
        "rules": [
            {
                "t": "set",
                "p": "offdelay",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "ondimm",
                "pt": "flow",
                "to": "ondimm",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "b831f3e7.05899",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "topic",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 180,
        "wires": [
            [
                "1ee99591.60c08a"
            ],
            [
                "d9a04db.c7961b"
            ]
        ]
    },
    {
        "id": "9262c612.43a058",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1505,
        "y": 180,
        "wires": []
    },
    {
        "id": "1ee99591.60c08a",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 160,
        "wires": [
            [
                "9262c612.43a058"
            ]
        ]
    },
    {
        "id": "d9a04db.c7961b",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 200,
        "wires": [
            [
                "9262c612.43a058"
            ]
        ]
    },
    {
        "id": "8d389ebc.22cbb",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "NOON",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 520,
        "y": 500,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "7a4a01ee.c97e",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "btn:block D",
        "links": [
            "7c9078bb.3bd958"
        ],
        "x": 1135,
        "y": 880,
        "wires": [
            [
                "183c95c7745f2ea4"
            ]
        ]
    },
    {
        "id": "99bb192c.9613d8",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 555,
        "y": 300,
        "wires": []
    },
    {
        "id": "579bb856c24442fe",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "Reset",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 10 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 640,
        "y": 400,
        "wires": [
            [
                "a27814c613fa2b20"
            ]
        ]
    },
    {
        "id": "b05e450967f5da8d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "HA-Presence",
        "rules": [
            {
                "t": "set",
                "p": "HA-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1100,
        "wires": [
            [
                "4ce3539c5f7a0ca7"
            ]
        ]
    },
    {
        "id": "4d0ae664b9906d7d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3090,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "e578725c1a2aec32",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "STARTUP",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ondimm",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "20",
        "topic": "",
        "payload": "900000",
        "payloadType": "num",
        "x": 530,
        "y": 580,
        "wires": [
            [
                "69f4a103.cfabb"
            ]
        ]
    },
    {
        "id": "87d1ce3c19202d34",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1455,
        "y": 1100,
        "wires": []
    },
    {
        "id": "2cc83436.3fa25c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "links": [
            "641555a3.3a90ec"
        ],
        "x": 995,
        "y": 640,
        "wires": [
            [
                "d17d889454f3d3a1"
            ]
        ]
    },
    {
        "id": "e2d7c57f5c31b977",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "mode": "link",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1465,
        "y": 720,
        "wires": []
    },
    {
        "id": "be2ad471.d9c448",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Movement oppe",
        "links": [
            "63e9f9b.1d13608",
            "d4cd1de.82711e",
            "e92f253c.11b9b8",
            "b9eed7dde8000c3e"
        ],
        "x": 485,
        "y": 720,
        "wires": [
            [
                "167a965f.fa254a",
                "18e793bb.41ccac"
            ]
        ]
    },
    {
        "id": "18e793bb.41ccac",
        "type": "ui_switch",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "Bevegelse oppe",
        "label": "Bevegelse Oppe {{msg.illumenance}}",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 6,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "test",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 680,
        "y": 720,
        "wires": [
            [
                "ca9cda18826d54da",
                "ed863371775575ab"
            ]
        ]
    },
    {
        "id": "167a965f.fa254a",
        "type": "and-gate",
        "z": "aa0ae7ae.75d228",
        "d": true,
        "g": "ff7ca7f8980ed0b1",
        "name": "!Movement",
        "rules": [
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "StueVtoalett"
            },
            {
                "t": "false",
                "propertyType": "msg",
                "property": "payload",
                "topic": "Kitchen: eye"
            }
        ],
        "outputTopic": "",
        "gateType": "and",
        "emitOnlyIfTrue": true,
        "x": 630,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "d17d889454f3d3a1",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "upstairs",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "120",
                "type": "num"
            },
            {
                "name": "delay",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 1260,
        "y": 720,
        "wires": [
            [
                "e2d7c57f5c31b977"
            ]
        ]
    },
    {
        "id": "ca9cda18826d54da",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "illum",
                "pt": "msg",
                "to": "U_illumenance",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 720,
        "wires": [
            [
                "d17d889454f3d3a1"
            ]
        ]
    },
    {
        "id": "ed863371775575ab",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "ff7ca7f8980ed0b1",
        "name": "ST-presence",
        "rules": [
            {
                "t": "set",
                "p": "ST-presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "183c95c7745f2ea4",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "basement",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "5",
                "type": "num"
            }
        ],
        "x": 1250,
        "y": 940,
        "wires": [
            [
                "21c80566.d9201a"
            ]
        ]
    },
    {
        "id": "4ce3539c5f7a0ca7",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "gangen",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "3",
                "type": "num"
            }
        ],
        "x": 1250,
        "y": 1100,
        "wires": [
            [
                "87d1ce3c19202d34"
            ]
        ]
    },
    {
        "id": "a4afb1bbd79c5da6",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "",
        "env": [
            {
                "name": "room",
                "value": "bedroom",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "30",
                "type": "num"
            }
        ],
        "x": 1250,
        "y": 1300,
        "wires": [
            [
                "6e1a0143.f51f8"
            ]
        ]
    },
    {
        "id": "d3daac16ab6cdf92",
        "type": "trigger",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "ONCE",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 970,
        "y": 1360,
        "wires": [
            [
                "18b93929.bea567",
                "a4afb1bbd79c5da6"
            ]
        ]
    },
    {
        "id": "c0a924816dea4ee8",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "4764ba70f833e4a9",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1420,
        "wires": [
            [
                "d3daac16ab6cdf92"
            ]
        ]
    },
    {
        "id": "a27814c613fa2b20",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "Reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 400,
        "wires": [
            [
                "882dbe4f.06e99"
            ]
        ]
    },
    {
        "id": "f9450bda48f83deb",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "home",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 1160,
        "wires": [
            [
                "b9eed7dde8000c3e"
            ]
        ]
    },
    {
        "id": "f539323231f77776",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "Movement",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 1160,
        "wires": [
            [
                "f9450bda48f83deb"
            ]
        ]
    },
    {
        "id": "b9eed7dde8000c3e",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "g": "a7b26502af3b65e3",
        "name": "",
        "mode": "link",
        "links": [
            "be2ad471.d9c448"
        ],
        "x": 845,
        "y": 1160,
        "wires": []
    },
    {
        "id": "bc57e78aaf68965d",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "g": "172b4292bafc68a7",
        "name": "B-Presence",
        "rules": [
            {
                "t": "set",
                "p": "B-Presence",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 940,
        "wires": [
            [
                "183c95c7745f2ea4"
            ]
        ]
    },
    {
        "id": "7c376eb857a4e46f",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "BasementBlock",
        "links": [
            "8a0ab10e55653060"
        ],
        "x": 695,
        "y": 240,
        "wires": [
            [
                "d3c43c4.fea9bc"
            ]
        ]
    },
    {
        "id": "5d980e14a31e5332",
        "type": "inject",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "00 21 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "STOP",
        "payloadType": "str",
        "x": 350,
        "y": 400,
        "wires": [
            [
                "d3c43c4.fea9bc"
            ]
        ]
    },
    {
        "id": "28f356670a5a6dc9",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "O-LYS",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "movement",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "change",
                "p": "movement",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "on",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "movement",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1600,
        "wires": [
            [
                "d3afa1ea39895105"
            ]
        ]
    },
    {
        "id": "f2e0ac31e202a4e3",
        "type": "subflow:c15399232bac2ca3",
        "z": "aa0ae7ae.75d228",
        "name": "O-LYS",
        "env": [
            {
                "name": "room",
                "value": "O-LYS",
                "type": "str"
            },
            {
                "name": "LightTreshold",
                "value": "ignore",
                "type": "str"
            },
            {
                "name": "delay",
                "value": "15",
                "type": "num"
            }
        ],
        "x": 850,
        "y": 1600,
        "wires": [
            [
                "28f356670a5a6dc9"
            ]
        ]
    },
    {
        "id": "ca59d875951bc88c",
        "type": "link in",
        "z": "aa0ae7ae.75d228",
        "name": "O-LYS",
        "links": [
            "b526ea173bec8f67"
        ],
        "x": 445,
        "y": 1600,
        "wires": [
            [
                "f2e0ac31e202a4e3",
                "d4e988839861fdd7"
            ]
        ]
    },
    {
        "id": "d3afa1ea39895105",
        "type": "link out",
        "z": "aa0ae7ae.75d228",
        "name": "O-LYS",
        "mode": "link",
        "links": [
            "80b9f8ea0180e4ee"
        ],
        "x": 1345,
        "y": 1600,
        "wires": []
    },
    {
        "id": "d4e988839861fdd7",
        "type": "switch",
        "z": "aa0ae7ae.75d228",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 850,
        "y": 1680,
        "wires": [
            [
                "8360c95b413918e1"
            ],
            [
                "1b1b701f2f4d7455"
            ]
        ]
    },
    {
        "id": "8360c95b413918e1",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "O-presence:T",
        "rules": [
            {
                "t": "set",
                "p": "O-presence",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "1b1b701f2f4d7455",
        "type": "change",
        "z": "aa0ae7ae.75d228",
        "name": "O-presence:F",
        "rules": [
            {
                "t": "set",
                "p": "O-presence",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "9c18ec5f.f9594",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "INFORM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 140,
        "wires": [
            [
                "6a421ae3.f71ae4",
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "ae47dd19.04f86",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "GO",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "GO",
        "payloadType": "str",
        "x": 230,
        "y": 60,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "38b19a16.a4b306",
        "type": "inject",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "STOP",
        "payloadType": "str",
        "x": 230,
        "y": 100,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "3b05335c.ab790c",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.emitVolume = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 140,
        "wires": [
            [
                "7db434df.a3db2c"
            ]
        ]
    },
    {
        "id": "9430e52f.746a78",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "msg.payload = \"Please Remember to Take out the TRASH\";\nmsg.topic = \"Remember Garbage\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 100,
        "wires": [
            [
                "c0005e0c.a1014"
            ]
        ]
    },
    {
        "id": "37115d31.12a892",
        "type": "switch",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 180,
        "wires": [
            [
                "584db3f7.80672c"
            ],
            [
                "757cb634.cb61d8"
            ]
        ]
    },
    {
        "id": "584db3f7.80672c",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 160,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "757cb634.cb61d8",
        "type": "change",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 200,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "28f59771.b88068",
        "type": "ui_button",
        "z": "bc3b2c68.b35f6",
        "name": "Søppel",
        "group": "56a8be2a.9b9eb",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Søppel",
        "tooltip": "Trykk når søppel tatt ut",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "STOP",
        "payloadType": "str",
        "topic": "FALSE",
        "x": 230,
        "y": 20,
        "wires": [
            [
                "47a496d1.bcac18"
            ]
        ]
    },
    {
        "id": "e24d6f6a.515a6",
        "type": "ui_toast",
        "z": "bc3b2c68.b35f6",
        "position": "top right",
        "displayTime": "10",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "Husk Søppel",
        "name": "Husk Søppel",
        "x": 970,
        "y": 60,
        "wires": []
    },
    {
        "id": "6a421ae3.f71ae4",
        "type": "bigtimer",
        "z": "bc3b2c68.b35f6",
        "outtopic": "",
        "outpayload1": "",
        "outpayload2": "",
        "name": "Big Timer",
        "comment": "",
        "lat": "58.851299",
        "lon": "5.748830",
        "starttime": "1035",
        "endtime": "1320",
        "starttime2": 0,
        "endtime2": 0,
        "startoff": 0,
        "endoff": 0,
        "startoff2": 0,
        "endoff2": 0,
        "offs": 0,
        "outtext1": "GO",
        "outtext2": "STOP",
        "timeout": 1440,
        "sun": false,
        "mon": false,
        "tue": true,
        "wed": false,
        "thu": false,
        "fri": false,
        "sat": false,
        "jan": true,
        "feb": false,
        "mar": false,
        "apr": false,
        "may": true,
        "jun": false,
        "jul": false,
        "aug": false,
        "sep": true,
        "oct": false,
        "nov": false,
        "dec": false,
        "day1": 0,
        "month1": 0,
        "day2": 0,
        "month2": 0,
        "day3": 0,
        "month3": 0,
        "day4": 0,
        "month4": 0,
        "day5": 0,
        "month5": 0,
        "day6": 0,
        "month6": 0,
        "day7": "",
        "month7": "",
        "day8": "",
        "month8": "",
        "day9": "",
        "month9": "",
        "day10": "",
        "month10": "",
        "day11": "",
        "month11": "",
        "day12": "",
        "month12": "",
        "d1": 0,
        "w1": 0,
        "d2": 0,
        "w2": 0,
        "d3": 0,
        "w3": 0,
        "d4": 0,
        "w4": 0,
        "d5": 0,
        "w5": 0,
        "d6": 0,
        "w6": 0,
        "xday1": 0,
        "xmonth1": 0,
        "xday2": 0,
        "xmonth2": 0,
        "xday3": 0,
        "xmonth3": 0,
        "xday4": 0,
        "xmonth4": 0,
        "xday5": 0,
        "xmonth5": 0,
        "xday6": 0,
        "xmonth6": 0,
        "xd1": 0,
        "xw1": 0,
        "xd2": 0,
        "xw2": 0,
        "xd3": 0,
        "xw3": 0,
        "xd4": 0,
        "xw4": 0,
        "xd5": 0,
        "xw5": 0,
        "xd6": 0,
        "xw6": 0,
        "suspend": false,
        "random": false,
        "repeat": false,
        "atstart": true,
        "odd": false,
        "even": false,
        "x": 360,
        "y": 180,
        "wires": [
            [
                "47a496d1.bcac18"
            ],
            [
                "47a496d1.bcac18",
                "37115d31.12a892"
            ],
            []
        ]
    },
    {
        "id": "47a496d1.bcac18",
        "type": "traffic",
        "z": "bc3b2c68.b35f6",
        "name": "Traffic sample",
        "property_allow": "payload",
        "filter_allow": "GO",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "stop",
        "ignore_case_stop": true,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 700,
        "y": 80,
        "wires": [
            [
                "e24d6f6a.515a6",
                "9430e52f.746a78",
                "3b05335c.ab790c",
                "b5be7475.8e3328"
            ]
        ]
    },
    {
        "id": "7db434df.a3db2c",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "",
        "links": [
            "15d28c99.680783",
            "fee9f406.ef48d8"
        ],
        "x": 1095,
        "y": 140,
        "wires": []
    },
    {
        "id": "c0005e0c.a1014",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "SÃ¸ppel_Push",
        "links": [
            "9d6f976b.5d59f8"
        ],
        "x": 1095,
        "y": 100,
        "wires": []
    },
    {
        "id": "b5be7475.8e3328",
        "type": "function",
        "z": "bc3b2c68.b35f6",
        "name": "Text: English",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Please Remember to Take out the TRASH\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 180,
        "wires": [
            [
                "a16f5c34.ba508"
            ]
        ]
    },
    {
        "id": "a16f5c34.ba508",
        "type": "link out",
        "z": "bc3b2c68.b35f6",
        "name": "Garbage out",
        "links": [
            "15d28c99.680783"
        ],
        "x": 1095,
        "y": 180,
        "wires": []
    },
    {
        "id": "10016b07.ab9885",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Presence",
        "info": "",
        "x": 120,
        "y": 100,
        "wires": []
    },
    {
        "id": "7c348293.52162c",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "Every 10 seconds",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 240,
        "wires": [
            [
                "f44e1823.867bc8"
            ]
        ]
    },
    {
        "id": "f0615fd.9f26ba",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Home",
        "func": "// msg.payload = {\"mode\":\"home\"};\n// global.set(\"Mode\", \"home\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2010,
        "y": 200,
        "wires": [
            [
                "247260f.c82dca",
                "29d24b09.012634",
                "5e0f66ea.3848a8",
                "d1ebc40657a5f26c"
            ]
        ]
    },
    {
        "id": "e4c32eed.12537",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Away",
        "func": "// msg.payload = {\"mode\":\"away\"};\n// global.set(\"Mode\", \"away\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2010,
        "y": 320,
        "wires": [
            [
                "fc4fe81e.444628",
                "77d1d4b3.4641ec",
                "6f3c796296db2c0c"
            ]
        ]
    },
    {
        "id": "1329b56.bea634b",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "links": [
            "328ec247.9e5eee",
            "63e9f9b.1d13608",
            "9ace10c4.4ce8f",
            "b951c7f1.f25428",
            "d4cd1de.82711e",
            "e92f253c.11b9b8",
            "455faa8d.6c9aa4"
        ],
        "x": 175,
        "y": 460,
        "wires": [
            [
                "477666d4.b53928"
            ]
        ]
    },
    {
        "id": "55a1471c.7ca3e8",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "",
        "op2": "true",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "30",
        "extend": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 460,
        "wires": [
            [
                "8bc83fb6.95689"
            ]
        ]
    },
    {
        "id": "e2460a6c.579118",
        "type": "Unifi",
        "z": "8b99f8fe.7b27b8",
        "name": "Heggland",
        "ip": "178.128.169.181",
        "port": 8443,
        "site": "7vyhbfa5",
        "command": "20",
        "unifios": false,
        "x": 860,
        "y": 240,
        "wires": [
            [
                "eabe9d09ac5494a3"
            ]
        ]
    },
    {
        "id": "61ee7057.5df1f",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 460,
        "wires": [
            [],
            [
                "ebfc5adc.7672f8"
            ]
        ]
    },
    {
        "id": "fdbf838e.f9e58",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 520,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "ebfc5adc.7672f8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 460,
        "wires": [
            [
                "5ca10b6218e10f1a"
            ]
        ]
    },
    {
        "id": "3de649e9.5c9be6",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "to bedroom",
        "links": [],
        "x": 1395,
        "y": 480,
        "wires": []
    },
    {
        "id": "a085a6f7.ae8698",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 480,
        "wires": [
            [
                "3de649e9.5c9be6"
            ]
        ]
    },
    {
        "id": "247260f.c82dca",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: HOME",
        "mode": "link",
        "links": [
            "14ac8f4a0be280af",
            "e17d0a43.b0e048"
        ],
        "x": 2185,
        "y": 120,
        "wires": []
    },
    {
        "id": "fc4fe81e.444628",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "SH: Away",
        "mode": "link",
        "links": [
            "6626af8888151004",
            "6c1d6758.428808",
            "e17d0a43.b0e048"
        ],
        "x": 2215,
        "y": 380,
        "wires": []
    },
    {
        "id": "e1dcab5a.66f5f8",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "11:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 430,
        "y": 560,
        "wires": [
            [
                "2e0d79f5.69a796"
            ],
            []
        ]
    },
    {
        "id": "2e0d79f5.69a796",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Movement Morning",
        "links": [
            "1d2eacde.d050c3"
        ],
        "x": 555,
        "y": 560,
        "wires": []
    },
    {
        "id": "1d2eacde.d050c3",
        "type": "link in",
        "z": "8b99f8fe.7b27b8",
        "name": "FH: Home Mode",
        "links": [
            "2e0d79f5.69a796"
        ],
        "x": 1755,
        "y": 160,
        "wires": [
            [
                "3e6914e6.deefec"
            ]
        ]
    },
    {
        "id": "3e6914e6.deefec",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1850,
        "y": 160,
        "wires": [
            [],
            [
                "f0615fd.9f26ba"
            ]
        ]
    },
    {
        "id": "772b0560.6b8bcc",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "heggland",
        "links": [
            "d871d736.d19838"
        ],
        "x": 1995,
        "y": 460,
        "wires": []
    },
    {
        "id": "47763aff.5ff334",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "karina",
        "links": [
            "b9ab5a15.2f2aa8",
            "84abded8.462ac"
        ],
        "x": 1995,
        "y": 500,
        "wires": []
    },
    {
        "id": "8ea3f755.e68d88",
        "type": "miio-roborock-command",
        "z": "8b99f8fe.7b27b8",
        "name": "Mr Robot Start",
        "server": "6708f2f6.06829c",
        "command_name": "► Start",
        "command": "app_start",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 2880,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "5e0f66ea.3848a8",
        "type": "miio-roborock-command",
        "z": "8b99f8fe.7b27b8",
        "name": "Mr Robot STOP",
        "server": "6708f2f6.06829c",
        "command_name": "◼ Stop & dock",
        "command": "app_stop_dock",
        "commandType": "vacuum_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "coordinates": "",
        "fan_speed": 100,
        "voice_pack": null,
        "homekit_stop_to_dock": true,
        "x": 2600,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f44e1823.867bc8",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Guestmode?",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 410,
        "y": 240,
        "wires": [
            [
                "a4626cbe.2a6a4"
            ]
        ]
    },
    {
        "id": "a4626cbe.2a6a4",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "!vacation",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "vacation",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 240,
        "wires": [
            [
                "72a46790.043618"
            ]
        ]
    },
    {
        "id": "77d1d4b3.4641ec",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "07:00",
        "endTime": "16:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 2510,
        "y": 360,
        "wires": [
            [
                "accd6d3d.10c09"
            ],
            []
        ]
    },
    {
        "id": "accd6d3d.10c09",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "op1": "true",
        "op2": "",
        "op1type": "bool",
        "op2type": "nul",
        "duration": "12",
        "extend": false,
        "overrideDelay": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2690,
        "y": 360,
        "wires": [
            [
                "8ea3f755.e68d88"
            ]
        ]
    },
    {
        "id": "d1068875.e54d18",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Sleep",
        "func": "msg.payload = {\"mode\":\"sleep\"};\nglobal.set(\"Mode\", \"sleep\")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1250,
        "y": 520,
        "wires": [
            [
                "c9b7d9c6.2c46e8"
            ]
        ]
    },
    {
        "id": "c9b7d9c6.2c46e8",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "mode": "link",
        "links": [
            "ad0eef5605ed22c5"
        ],
        "x": 1395,
        "y": 520,
        "wires": []
    },
    {
        "id": "52999902.dc1b78",
        "type": "comment",
        "z": "8b99f8fe.7b27b8",
        "name": "Set Sleep status",
        "info": "",
        "x": 140,
        "y": 400,
        "wires": []
    },
    {
        "id": "d6d8cf38.1794d",
        "type": "rbe",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1790,
        "y": 440,
        "wires": [
            [
                "772b0560.6b8bcc"
            ]
        ]
    },
    {
        "id": "3d692d1e.98b022",
        "type": "rbe",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 1790,
        "y": 480,
        "wires": [
            [
                "47763aff.5ff334"
            ]
        ]
    },
    {
        "id": "c7ee4eb5.5141c",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "pushtype": "note",
        "title": "Nattmodus",
        "chan": "",
        "name": "Nattmodus",
        "x": 1410,
        "y": 600,
        "wires": []
    },
    {
        "id": "412d28c0.b59968",
        "type": "pushbullet in",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "name": "",
        "x": 620,
        "y": 640,
        "wires": [
            [
                "7483e98c.d64388"
            ]
        ]
    },
    {
        "id": "7483e98c.d64388",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Nattmodus",
        "property": "data.title",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Nattmodus",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 770,
        "y": 640,
        "wires": [
            [
                "31e59f17.de62b"
            ]
        ]
    },
    {
        "id": "31e59f17.de62b",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Dismissed?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Push dismissed",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 930,
        "y": 640,
        "wires": [
            [
                "2571016f.0085ee"
            ]
        ]
    },
    {
        "id": "fe989649.553108",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "delayNattmodus",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 520,
        "wires": [
            [
                "d1068875.e54d18"
            ],
            [
                "8bc83fb6.95689"
            ]
        ]
    },
    {
        "id": "a731240e.5da298",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "delayNattmodus",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1310,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "8bc83fb6.95689",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 600,
        "wires": [
            [
                "a731240e.5da298",
                "f67b9d7c.ac75",
                "9bbfb61b.57ed88"
            ]
        ]
    },
    {
        "id": "2571016f.0085ee",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 640,
        "wires": [
            [
                "a731240e.5da298"
            ]
        ]
    },
    {
        "id": "9bbfb61b.57ed88",
        "type": "delay",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1280,
        "y": 560,
        "wires": [
            [
                "fe989649.553108"
            ]
        ]
    },
    {
        "id": "477666d4.b53928",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 460,
        "wires": [
            [
                "61ee7057.5df1f"
            ],
            [
                "fdbf838e.f9e58",
                "e1dcab5a.66f5f8"
            ]
        ]
    },
    {
        "id": "f67b9d7c.ac75",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "oivheg",
        "property": "oivheg",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1250,
        "y": 600,
        "wires": [
            [
                "c7ee4eb5.5141c"
            ]
        ]
    },
    {
        "id": "8f0e361a.88e718",
        "type": "ui_switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Status",
        "label": "Guestmode",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 3,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "false",
        "onvalueType": "bool",
        "onicon": "fa-home",
        "oncolor": "Green",
        "offvalue": "true",
        "offvalueType": "bool",
        "officon": "fa-sign-out",
        "offcolor": "red",
        "x": 510,
        "y": 100,
        "wires": [
            [
                "e67e0c77.93b2c"
            ]
        ]
    },
    {
        "id": "e67e0c77.93b2c",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "guestmode",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "7152deea.25fcb",
        "type": "pushbullet",
        "z": "8b99f8fe.7b27b8",
        "config": "530528aa.2006c8",
        "pushtype": "file",
        "title": "Tegneserier",
        "chan": "",
        "name": "Tegneserier",
        "x": 770,
        "y": 840,
        "wires": []
    },
    {
        "id": "45ed298b.458838",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 12 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 840,
        "wires": [
            [
                "e090fcff.94f85"
            ]
        ]
    },
    {
        "id": "e090fcff.94f85",
        "type": "fs-file-lister",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "start": "/usr/local/HomeSeer/html/images/Tegneserier",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "files",
        "path": true,
        "single": false,
        "depth": 0,
        "stat": false,
        "showWarnings": true,
        "x": 420,
        "y": 840,
        "wires": [
            [
                "24dfc256.71129e"
            ]
        ]
    },
    {
        "id": "24dfc256.71129e",
        "type": "delay",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "4",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 580,
        "y": 840,
        "wires": [
            [
                "7152deea.25fcb"
            ]
        ]
    },
    {
        "id": "77b78689.5eac68",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "away",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1510,
        "y": 280,
        "wires": [
            [
                "e4c32eed.12537",
                "a5d3065e.5a0698",
                "7cc0632f36592083",
                "4241a94a84740929"
            ]
        ]
    },
    {
        "id": "a5d3065e.5a0698",
        "type": "trigger",
        "z": "8b99f8fe.7b27b8",
        "name": "home",
        "op1": "true",
        "op2": "0",
        "op1type": "bool",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1510,
        "y": 240,
        "wires": [
            [
                "f0615fd.9f26ba",
                "8ebc2701b1ba1795"
            ]
        ]
    },
    {
        "id": "29d24b09.012634",
        "type": "time-range-switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "08:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 2250,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "72a46790.043618",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "! Sleep",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "sleep",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 720,
        "y": 240,
        "wires": [
            [
                "e2460a6c.579118"
            ]
        ]
    },
    {
        "id": "dc33a268.a0933",
        "type": "link out",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2195,
        "y": 260,
        "wires": []
    },
    {
        "id": "eabe9d09ac5494a3",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "Determine device presence",
        "func": "// @ts-nocheck\nconst lastSeenSeconds = 120;\nlet presenceCutoff = (new Date() - (lastSeenSeconds * 1000)) / 1000; \nconst people = {\n    \"presence/heggland\": \"heggland\",\n    \"presence/karina\": \"karina\",\n    \"presence/person3\": \"stian\"\n};\nlet data = {};\ndata.payload = false;\ndata.people = [];\nfor (let device in msg.payload[0]){\n    \n    let name = msg.payload[0][device].name\n    let lastseen = msg.payload[0][device].last_seen\n\n    switch (name) {\n        case \"heggland\":\n     \n            data.people.push(\"heggland\");\n            data.payload = true;\n            break;\n        case \"karina\":\n           \n            data.people.push(\"karina\");\n            data.payload = true;\n            break;\n        default:\n\n         break;\n    } \n\n}\n\n\nreturn data",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 240,
        "wires": [
            [
                "1e1f56fa524173df",
                "f471eaf5a8b7a9c1"
            ]
        ],
        "outputLabels": [
            "oivheg "
        ]
    },
    {
        "id": "1e1f56fa524173df",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1310,
        "y": 240,
        "wires": [
            [
                "a5d3065e.5a0698",
                "77b78689.5eac68"
            ],
            [
                "9ab9f797bec97d04"
            ]
        ]
    },
    {
        "id": "f471eaf5a8b7a9c1",
        "type": "function",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "func": "msg.people.forEach(function(element) {\n    msg.payload =true;\n    if (element == \"heggland\"){\n        node.send(msg);\n        \n    }\n    if (element == \"karina\") {\n        node.send([null,msg]);\n\n    }\n});",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 420,
        "wires": [
            [
                "d6d8cf38.1794d"
            ],
            [
                "3d692d1e.98b022"
            ]
        ]
    },
    {
        "id": "7cc0632f36592083",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "home = false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 360,
        "wires": [
            [
                "d6d8cf38.1794d",
                "3d692d1e.98b022"
            ]
        ]
    },
    {
        "id": "9ab9f797bec97d04",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "Mode",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1330,
        "y": 280,
        "wires": [
            [
                "77b78689.5eac68"
            ],
            [
                "7cc0632f36592083",
                "e4c32eed.12537"
            ]
        ]
    },
    {
        "id": "5ca10b6218e10f1a",
        "type": "switch",
        "z": "8b99f8fe.7b27b8",
        "name": "isStandBy",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 460,
        "wires": [
            [
                "55a1471c.7ca3e8"
            ]
        ]
    },
    {
        "id": "6f3c796296db2c0c",
        "type": "ambi-temp-mode",
        "z": "8b99f8fe.7b27b8",
        "d": true,
        "oauthClient": "4ec8324b.b2dc1c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "value": "20",
        "x": 2630,
        "y": 320,
        "wires": []
    },
    {
        "id": "d1ebc40657a5f26c",
        "type": "ambi-temp-mode",
        "z": "8b99f8fe.7b27b8",
        "d": true,
        "oauthClient": "4ec8324b.b2dc1c",
        "room_name": "varmepumpe",
        "location_name": "Gravarsveien 57 A",
        "value": "22",
        "x": 2610,
        "y": 160,
        "wires": []
    },
    {
        "id": "e84a6399a09f4881",
        "type": "ui_button",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "group": "69a63d21.a935c4",
        "order": 2,
        "width": "1",
        "height": "1",
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-sun-o",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2270,
        "y": 120,
        "wires": [
            [
                "d1ebc40657a5f26c"
            ]
        ]
    },
    {
        "id": "ccbb6a685833dc60",
        "type": "Unifi",
        "z": "8b99f8fe.7b27b8",
        "name": "Heggland",
        "ip": "178.128.169.181",
        "port": 8443,
        "site": "7vyhbfa5",
        "command": "20",
        "unifios": false,
        "x": 800,
        "y": 1040,
        "wires": [
            [
                "0a35c796e2ac3dba"
            ]
        ]
    },
    {
        "id": "0d95f81c907bb18f",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "SiteStats",
                "v": "SiteStats",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 480,
        "y": 1020,
        "wires": [
            [
                "ccbb6a685833dc60"
            ]
        ]
    },
    {
        "id": "0a35c796e2ac3dba",
        "type": "debug",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 960,
        "wires": []
    },
    {
        "id": "10da2dda5a4ff101",
        "type": "inject",
        "z": "8b99f8fe.7b27b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1890,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "4241a94a84740929",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "System is AWAY",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "System is AWAY",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 280,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "8ebc2701b1ba1795",
        "type": "change",
        "z": "8b99f8fe.7b27b8",
        "name": "System is HOME",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "System is HOME",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2050,
        "y": 240,
        "wires": [
            [
                "dc33a268.a0933"
            ]
        ]
    },
    {
        "id": "ddc8b687.374538",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "topic": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Happy sulten : ZHASwitch",
        "outputs": 2,
        "device": "00:15:8d:00:01:4a:08:f7-01-0006",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 80,
        "wires": [
            [
                "547e3ce0.793284",
                "933b65ba.415558"
            ],
            []
        ]
    },
    {
        "id": "547e3ce0.793284",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "d": true,
        "name": "Happy outside ",
        "func": "msg.payload = \"Happy wants to GO Inside \";\nmsg.emitVolume =50;\n\n\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Inside\",\n        \"description\": msg.payload,\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 80,
        "wires": [
            [
                "ba60c720.f08e38"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "976db23e.1f8ba",
        "type": "link out",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "links": [
            "9d6f976b.5d59f8",
            "fee9f406.ef48d8",
            "15d28c99.680783"
        ],
        "x": 815,
        "y": 80,
        "wires": []
    },
    {
        "id": "eb90ae51.1af18",
        "type": "deconz-input",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "topic": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Happy vil ut : ZHASwitch",
        "outputs": 2,
        "device": "00:15:8d:00:01:9d:e5:2c-01-0006",
        "state": "buttonevent",
        "output": "always",
        "outputAtStartup": false,
        "x": 270,
        "y": 140,
        "wires": [
            [
                "4f048068.a4401",
                "ddeb10c8.abffe"
            ],
            []
        ]
    },
    {
        "id": "4f048068.a4401",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "d": true,
        "name": "Happy hungry",
        "func": "msg.payload = \"Happy is hungry\";\nmsg.emitVolume =50;\n\n\nlet msg2 = {};\nmsg2.payload = [ {\n        \"title\": \"Eat\",\n        \"description\": \"Happy wants to eat\",\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9ab1a383.0f88b",
        "type": "ui_list",
        "z": "1b14ec1b.20ab54",
        "group": "374dd77b.cadc38",
        "name": "Happy",
        "order": 1,
        "width": 6,
        "height": 5,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Happy",
        "x": 910,
        "y": 100,
        "wires": []
    },
    {
        "id": "ba60c720.f08e38",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 690,
        "y": 80,
        "wires": [
            [
                "976db23e.1f8ba"
            ]
        ]
    },
    {
        "id": "4324ade3.0032c4",
        "type": "http request",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.1.154:1880/feed",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 690,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "ddeb10c8.abffe",
        "type": "trigger",
        "z": "1b14ec1b.20ab54",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 500,
        "y": 140,
        "wires": [
            [
                "4324ade3.0032c4"
            ]
        ]
    },
    {
        "id": "933b65ba.415558",
        "type": "function",
        "z": "1b14ec1b.20ab54",
        "name": "Happy hungry",
        "func": "  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"Happy wants  to go INSIDE\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\n\n\n\n\nlet msg2 = {};\n\n\n\n\n\nmsg2.payload = [ {\n        \"title\": \"Outside\",\n        \"description\": msg.payload,\n        \"icon\": \"https://lh3.googleusercontent.com/F7dHEApWlOufIKF5NX7EHtx1VTPfKWRIN-bOMch2Mi5eixq7cASp-Jh4kr2T4u5l5OUwkhZgowOD6HSOvnnSDi14oaDkREKSmejYnyOujkuSUw5mkIr_AqgIkZro25qWezWl3jxMwv-yTNCzPGV_ABugX9malJX4ZMEumc0cz5wQHsJxfh334ayq_yAslDd7cRzVytebggUPZ7kzxiWYtNAPZLzuOhZLu831adN6OM91wD7glPQoticU3Lh97Hzi1bHI55CEsMuY0DI4jIGlHCkhziI7Xm3FoZCjqX467O5uqKxHzdsamQ9FLGPquo7xr5FBaFUlrwtYoliH1kfSLEVF5C2b_zwErbcjQPCmKyPWQiUthDLvtcatWZ-zC7XmZb3knlSdb_ecwFmbm5lyn0krvtDU123uynS_xLK2C8uXhUP_A3r2msHBEIqrQoDP3HCHlJl2rOQ77Mxgh1uqUCZTT2EUGs67B-beYgbVcd_8wydZfHl6Pn4LP04yilrP3yCZtPT9zC_j-XM4AH_5kunbXytenZHLteaI4ppe4u9lnRCjX5nq8vshrXfOJINr_XvBbUQRHb1uUxQ9N0R_a8i7McUanKl06SX967PMOl9mxSC4LrisMzTj4KoWATsVCU8oXeo6DEsx-l0ICLeLven98hfoAFZym6jPVhBbUmZF7c_IGuqEgUvDw0HI1jc5uATSRxz-7YDELuDpAz4DKQBMMToV-yZdpNQXsM3zpu1Je7j9nA=w563-h545-no\"\n    }];\n\nreturn [msg, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 40,
        "wires": [
            [
                "ba60c720.f08e38"
            ],
            [
                "9ab1a383.0f88b"
            ]
        ]
    },
    {
        "id": "a4770dbb.04eff",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "button press",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "7002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8002",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 400,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "20238790.e84df8",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 440,
        "wires": [
            [
                "1bb57f45.872e71",
                "26caebff.0ab3c4",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "4182b18c.6b705",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "CLOSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "255",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 400,
        "wires": [
            [
                "1bb57f45.872e71",
                "112531d1.56298e",
                "515c9831.0334b8"
            ]
        ]
    },
    {
        "id": "6c1d6758.428808",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "IK: Sov",
        "links": [
            "fd49ca1d.879ac8",
            "b630d8c.cb7f128",
            "fc4fe81e.444628"
        ],
        "x": 355,
        "y": 360,
        "wires": [
            [
                "6bb5ecbc.1d0e04"
            ]
        ]
    },
    {
        "id": "cec0f8cb.33f1b8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 360,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "74a70908.bd50d8",
        "type": "inject",
        "z": "605ae98f.8a9998",
        "d": true,
        "name": "Åpne Gardin 07 00",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 290,
        "y": 320,
        "wires": [
            [
                "8818e486.2765d8"
            ]
        ]
    },
    {
        "id": "bb45bf3b.5ab5f",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "",
        "links": [
            "d8a4e608.f39898"
        ],
        "x": 1315,
        "y": 400,
        "wires": []
    },
    {
        "id": "26caebff.0ab3c4",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Open",
        "func": "msg.payload = {openPercent : 100};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "112531d1.56298e",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "Close",
        "func": "msg.payload = {openPercent : 0};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1210,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "d6717b22.f0d1e8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "open/close",
        "property": "payload.openPercent",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "100",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 770,
        "y": 440,
        "wires": [
            [
                "4182b18c.6b705"
            ],
            [
                "20238790.e84df8"
            ]
        ]
    },
    {
        "id": "1bb57f45.872e71",
        "type": "function",
        "z": "605ae98f.8a9998",
        "name": "",
        "func": "        msg.payload = {devices:{id: \"id\",name: \"Sov_Gardin\", power: (msg.payload === 0) ? \"off\" : \"on\"}};\n      \n        \n   \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 400,
        "wires": [
            [
                "bb45bf3b.5ab5f"
            ]
        ]
    },
    {
        "id": "2603c373.b06f0c",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 630,
        "y": 320,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "8818e486.2765d8",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "sleepLonger",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 320,
        "wires": [
            [
                "2603c373.b06f0c"
            ]
        ]
    },
    {
        "id": "6bb5ecbc.1d0e04",
        "type": "switch",
        "z": "605ae98f.8a9998",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "away",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 360,
        "wires": [
            [
                "d87cbd2e.f854f"
            ]
        ]
    },
    {
        "id": "d87cbd2e.f854f",
        "type": "change",
        "z": "605ae98f.8a9998",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 360,
        "wires": [
            [
                "cec0f8cb.33f1b8"
            ]
        ]
    },
    {
        "id": "ad29b802.69fbb8",
        "type": "link in",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "1b253553.66750b"
        ],
        "x": 355,
        "y": 400,
        "wires": [
            [
                "a4770dbb.04eff"
            ]
        ]
    },
    {
        "id": "515c9831.0334b8",
        "type": "link out",
        "z": "605ae98f.8a9998",
        "name": "Fyrtur",
        "links": [
            "800c441a.1f78d8"
        ],
        "x": 1175,
        "y": 360,
        "wires": []
    },
    {
        "id": "602fce3c.7d792",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "d": true,
        "influxdb": "99977a8c.c02588",
        "name": "Get Motion ",
        "query": "select * from Motion ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 850,
        "y": 160,
        "wires": [
            [
                "4c3aea37.34b724"
            ]
        ]
    },
    {
        "id": "991ef94.bba8508",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "Movement",
        "order": 1,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Movement",
        "x": 1250,
        "y": 160,
        "wires": []
    },
    {
        "id": "8f9dc82d.0e7b28",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 120,
        "wires": [
            [
                "4c3aea37.34b724"
            ]
        ]
    },
    {
        "id": "fc896ae2.2631d8",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.mode\n    listdata.icon_name = \"fa-home\";\n    if(listdata.title == \"away\"){\n         listdata.icon_name = \"fa-sign-out\";\n    }else if (listdata.title == \"sleep\"){\n         listdata.icon_name = \"fa-bed\";\n    }\n    \n    listdata.title = msg.payload.mode + \": \" + msg.payload.time.toLocaleTimeString();\n    listdata.description = msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1050,
        "y": 280,
        "wires": [
            [
                "9525b6d6.0d24b8"
            ],
            [
                "3f602c1d.afdeb4"
            ]
        ]
    },
    {
        "id": "fbde8b9b.41d5c8",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "d": true,
        "influxdb": "99977a8c.c02588",
        "name": "Get Mode",
        "query": "select * from Mode ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 840,
        "y": 260,
        "wires": [
            [
                "fc896ae2.2631d8"
            ]
        ]
    },
    {
        "id": "3f602c1d.afdeb4",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "Mode",
        "order": 2,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Mode",
        "x": 1230,
        "y": 280,
        "wires": []
    },
    {
        "id": "9525b6d6.0d24b8",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 240,
        "wires": [
            [
                "fc896ae2.2631d8"
            ]
        ]
    },
    {
        "id": "4c3aea37.34b724",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.name + \": \" + msg.payload.time.toLocaleTimeString();\n    listdata.icon_name =  \"fa-stop\";\n    if(msg.payload.movement === true){\n           listdata.icon_name = \"fa-play\";\n    }\n    \n    \n    listdata.description =  msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "x": 1049,
        "y": 163,
        "wires": [
            [
                "8f9dc82d.0e7b28"
            ],
            [
                "991ef94.bba8508"
            ]
        ]
    },
    {
        "id": "3d1162d0.861b9e",
        "type": "function",
        "z": "f487aa99.386108",
        "name": "Iterate",
        "func": "//Node has 2 outputs - 1 for itteration and 1 for completion\nvar nextObj, out;\nvar itt = msg.iterationInfo;\n\n\n//If the iterating has not yet begun set up the iteration metadata in the msg\nif (typeof itt === 'undefined') {\n    //Make sure payload is an array\n    if( Object.prototype.toString.call(msg.payload) !== '[object Array]' ) {\n       msg.payload = [msg.payload];\n    }\n\n    msg.iterationInfo = itt = {};\n    itt.index = -1;\n    itt.inArray = msg.payload;\n    itt.outArray = [];\n\n//Otherwise just push the input to the output array\n} else {\n    \n    var listdata = {};\n     listdata.title = msg.payload.name\n    listdata.icon_name = \"fa-home\";\n    if(msg.payload.Status === false){\n         listdata.icon_name = \"fa-sign-out\";\n    }\n    \n    listdata.title = msg.payload.name + \": \" + msg.payload.Status;\n    listdata.description = \"KL:  \" + msg.payload.time.toLocaleTimeString() + \" \" + msg.payload.time.toDateString()  ;\n    itt.outArray.push(listdata)\n}\n\n//Goto next object\nitt.index ++;\n\n//If there are stil objects left to iterate goto the next one in the original array\nif (itt.index < itt.inArray.length) {\n    nextObj = msg;\n    msg.payload = itt.inArray[itt.index];\n\n//otherwise pass the out array as the payload\n} else {\n    out = msg;\n    msg.payload = itt.outArray;\n    delete msg.iterationInfo;\n}\n\nreturn [nextObj, out];",
        "outputs": "2",
        "noerr": 0,
        "x": 1050,
        "y": 380,
        "wires": [
            [
                "13992971.9f5ad7"
            ],
            [
                "7867cbfa.2c5394"
            ]
        ]
    },
    {
        "id": "d3a7cd73.75602",
        "type": "influxdb in",
        "z": "f487aa99.386108",
        "d": true,
        "influxdb": "99977a8c.c02588",
        "name": "Get UserState",
        "query": "select * from UserState ORDER BY time DESC limit 10 ",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "x": 860,
        "y": 360,
        "wires": [
            [
                "3d1162d0.861b9e"
            ]
        ]
    },
    {
        "id": "7867cbfa.2c5394",
        "type": "ui_list",
        "z": "f487aa99.386108",
        "group": "583fffe9.e7d8f",
        "name": "userState",
        "order": 2,
        "width": "7",
        "height": 15,
        "lineType": "three",
        "actionType": "none",
        "allowHTML": false,
        "outputs": 0,
        "topic": "Mode",
        "x": 1240,
        "y": 380,
        "wires": []
    },
    {
        "id": "13992971.9f5ad7",
        "type": "trigger",
        "z": "f487aa99.386108",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "10",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "3d1162d0.861b9e"
            ]
        ]
    },
    {
        "id": "77ccbb67.9f0614",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "d": true,
        "influxdb": "99977a8c.c02588",
        "name": "Motion",
        "measurement": "Motion",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 220,
        "wires": []
    },
    {
        "id": "6c66c8c9.ee9c18",
        "type": "function",
        "z": "f487aa99.386108",
        "d": true,
        "name": "Store Movement",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    name:msg.topic,\n    movement: msg.payload\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 220,
        "wires": [
            [
                "77ccbb67.9f0614"
            ]
        ]
    },
    {
        "id": "93ef5d70.0130e",
        "type": "link in",
        "z": "f487aa99.386108",
        "d": true,
        "name": "Movement Status",
        "links": [
            "b6bc1feb.434cf",
            "96c7928d.91306",
            "947d038a.551e7",
            "1549e12e.f9b98f",
            "5a15544b.c6b1ac",
            "c30c4c38.708fe",
            "ee25b1da.bb3eb",
            "b6ae8f46.335be"
        ],
        "x": 175,
        "y": 220,
        "wires": [
            [
                "6c66c8c9.ee9c18"
            ]
        ]
    },
    {
        "id": "fdbcb7b8.ece208",
        "type": "function",
        "z": "f487aa99.386108",
        "d": true,
        "name": "Store Mode",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    mode:global.get(\"Mode\")\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 260,
        "wires": [
            [
                "5da10e65.4ab27"
            ]
        ]
    },
    {
        "id": "5da10e65.4ab27",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "d": true,
        "influxdb": "99977a8c.c02588",
        "name": "Mode",
        "measurement": "Mode",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 260,
        "wires": []
    },
    {
        "id": "5b63eaae.4cbcf4",
        "type": "link in",
        "z": "f487aa99.386108",
        "d": true,
        "name": "Mode Status",
        "links": [
            "973fda0d.893748",
            "47e242b5.0edd6c"
        ],
        "x": 175,
        "y": 260,
        "wires": [
            [
                "fdbcb7b8.ece208"
            ]
        ]
    },
    {
        "id": "e665b73a.350dd8",
        "type": "influxdb out",
        "z": "f487aa99.386108",
        "d": true,
        "influxdb": "99977a8c.c02588",
        "name": "Users",
        "measurement": "UserState",
        "precision": "",
        "retentionPolicy": "",
        "x": 470,
        "y": 300,
        "wires": []
    },
    {
        "id": "1ad64b95.49d574",
        "type": "function",
        "z": "f487aa99.386108",
        "d": true,
        "name": "Store Person",
        "func": "var d = new Date();\nvar n = d.getTime();\n\nmsg.payload = {\n    name:msg.topic,\n    Status: msg.payload\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "e665b73a.350dd8"
            ]
        ]
    },
    {
        "id": "e3ae9576.18be48",
        "type": "link in",
        "z": "f487aa99.386108",
        "d": true,
        "name": "Person Status",
        "links": [
            "3220b5b9.05cd2a",
            "19836afb.acbac5"
        ],
        "x": 175,
        "y": 300,
        "wires": [
            [
                "1ad64b95.49d574"
            ]
        ]
    },
    {
        "id": "22d0e1ba.e0cbce",
        "type": "complete",
        "z": "f487aa99.386108",
        "name": "",
        "scope": [
            "77ccbb67.9f0614",
            "5da10e65.4ab27",
            "e665b73a.350dd8",
            "23cd8333.cca3dc",
            "dffa2b6b.ff3df8"
        ],
        "uncaught": false,
        "x": 610,
        "y": 260,
        "wires": [
            [
                "602fce3c.7d792",
                "fbde8b9b.41d5c8",
                "d3a7cd73.75602"
            ]
        ]
    },
    {
        "id": "95557cc6.e0f9e",
        "type": "ui_ui_control",
        "z": "f487aa99.386108",
        "name": "",
        "events": "change",
        "x": 590,
        "y": 100,
        "wires": [
            [
                "602fce3c.7d792",
                "fbde8b9b.41d5c8",
                "d3a7cd73.75602"
            ]
        ]
    },
    {
        "id": "a76ee99e.e4d718",
        "type": "json",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 250,
        "y": 140,
        "wires": [
            [
                "277f34fb.de5d9c",
                "6a61eaef.36c104"
            ]
        ]
    },
    {
        "id": "84ab604.32a85a",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Mode",
                "pt": "global",
                "to": "payload.site.house.mode",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 60,
        "wires": [
            [
                "47e242b5.0edd6c"
            ]
        ]
    },
    {
        "id": "39dd072e.b84138",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "sleep",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1130,
        "y": 60,
        "wires": [
            [
                "84ab604.32a85a"
            ],
            [
                "84ab604.32a85a"
            ]
        ]
    },
    {
        "id": "8e07c57f.92d158",
        "type": "rbe",
        "z": "e3737c94.fd59f",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload.site.house.mode",
        "topi": "topic",
        "x": 870,
        "y": 60,
        "wires": [
            [
                "39dd072e.b84138"
            ]
        ]
    },
    {
        "id": "77d4a580.a4a38c",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "Type/ Function",
        "func": "\n\nif(typeof  msg.payload.site !== \"undefined\")\n{\n    var Mode = msg.payload.site.mode;\n return msg; \n} \n\nif(typeof  msg.payload.devices === \"undefined\"  ||  msg.payload.devices === null)\n{\n    //node.warn(\"no Device\");\n    return null;\n}\n\nif(typeof  msg.payload.devices[0].functionality !== \"undefined\" && msg.payload.devices[0].functionality !== null )\n{\n \n    if (msg.payload.devices[0].functionality == \"lighting\") {\n        var Light = {};\n        Light.name = msg.payload.devices[0].name;\n        Light.power = msg.payload.devices[0].param.power;\n        Light.Room = msg.payload.devices[0].room;\n        Light.id = msg.payload.devices[0].id;\n       return [null,Light];  \n    }\n     if (msg.payload.devices[0].functionality == \"heating\") {\n        var Heat = {};\n        Heat.name = msg.payload.devices[0].name;\n        Heat.power = msg.payload.devices[0].param.power;\n        Heat.Room = msg.payload.devices[0].room;\n        Heat.id = msg.payload.devices[0].id;\n       return [null,null,Heat];  \n    }\n    if (msg.payload.devices[0].functionality == \"appliance\") {\n        var appliance = {};\n        appliance.name = msg.payload.devices[0].name;\n        appliance.power = msg.payload.devices[0].param.power;\n        appliance.Room = msg.payload.devices[0].room;\n        appliance.id = msg.payload.devices[0].id;\n       return [null,null,null,null,appliance];  \n    }\n \n} else if (msg.payload.devices[0].functionality === null){\n   \n    var mvmnt = {};\n        mvmnt.name = msg.payload.devices[0].name;\n        mvmnt.topic = mvmnt.name;\n        mvmnt.temperature = msg.payload.devices[0].temperature;\n        mvmnt.room = msg.payload.devices[0].room;\n        mvmnt.id = msg.payload.devices[0].id;\n        mvmnt.illuminance = msg.payload.devices[0].param.illuminance\n        mvmnt.payload = msg.payload.devices[0].param.presence\n        \n    return [null,null,null,mvmnt];  \n}\n\n  \n",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 140,
        "wires": [
            [],
            [
                "8ad3e3c1.ae8ea"
            ],
            [
                "f2e0b439.cfe148"
            ],
            [
                "c270ae4859f1e7bb"
            ],
            [
                "f57725ce.089018"
            ]
        ],
        "outputLabels": [
            "Mode",
            "Light",
            "Heat",
            "Movement",
            "appliance"
        ]
    },
    {
        "id": "47e242b5.0edd6c",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Mode Out",
        "links": [
            "5b63eaae.4cbcf4"
        ],
        "x": 1595,
        "y": 60,
        "wires": []
    },
    {
        "id": "8ad3e3c1.ae8ea",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Light_OUT",
        "links": [
            "babcae54.9d1a9",
            "d7b6736b.b8d49",
            "cb008c94.5ff1f"
        ],
        "x": 1095,
        "y": 100,
        "wires": []
    },
    {
        "id": "7422f190.1aacf",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "11",
        "device_id": "11",
        "name": "Stue",
        "x": 970,
        "y": 440,
        "wires": []
    },
    {
        "id": "ae05daf4.f22088",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "10",
        "device_id": "10",
        "name": "Kjøkken",
        "x": 960,
        "y": 480,
        "wires": []
    },
    {
        "id": "57f7d91c.4946d8",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "17",
        "device_id": "17",
        "name": "Kjeller Gang",
        "x": 970,
        "y": 520,
        "wires": []
    },
    {
        "id": "a60ec8c0.5360a8",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "15",
        "device_id": "15",
        "name": "Vaskerom: Lys",
        "x": 980,
        "y": 680,
        "wires": []
    },
    {
        "id": "9d11c4da.344988",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "9",
        "device_id": "9",
        "name": "Closet",
        "x": 950,
        "y": 720,
        "wires": []
    },
    {
        "id": "472600f9.2afc6",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "20",
        "device_id": "20",
        "name": "Karina",
        "x": 950,
        "y": 760,
        "wires": []
    },
    {
        "id": "78b65f45.8b367",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "5",
        "device_id": "5",
        "name": "Kontor: Lys",
        "x": 970,
        "y": 800,
        "wires": []
    },
    {
        "id": "3de67605.ae865a",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "21",
        "device_id": "21",
        "name": "Gangen",
        "x": 960,
        "y": 560,
        "wires": []
    },
    {
        "id": "4bc3c84.d3b2838",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "FH:What Light",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Stue",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjøkken",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kjeller Gang",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Gangen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Vaskerom: Lys",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Karina",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Kontor: Lys",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 8,
        "x": 380,
        "y": 660,
        "wires": [
            [
                "7422f190.1aacf"
            ],
            [
                "ae05daf4.f22088"
            ],
            [
                "57f7d91c.4946d8"
            ],
            [
                "3de67605.ae865a"
            ],
            [
                "a60ec8c0.5360a8"
            ],
            [
                "9d11c4da.344988"
            ],
            [
                "472600f9.2afc6"
            ],
            [
                "78b65f45.8b367"
            ]
        ]
    },
    {
        "id": "aebee55b.78c578",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Status ",
        "info": "",
        "x": 130,
        "y": 80,
        "wires": []
    },
    {
        "id": "84619273.5b4a6",
        "type": "comment",
        "z": "e3737c94.fd59f",
        "name": "Lights",
        "info": "",
        "x": 130,
        "y": 440,
        "wires": []
    },
    {
        "id": "93258667.8e8568",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "Lights",
        "links": [
            "bb47679e.49ecb8"
        ],
        "x": 135,
        "y": 660,
        "wires": [
            [
                "4bc3c84.d3b2838"
            ]
        ]
    },
    {
        "id": "f2e0b439.cfe148",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Heating",
        "links": [],
        "x": 1095,
        "y": 140,
        "wires": []
    },
    {
        "id": "d4cd1de.82711e",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Movement oppe",
        "links": [
            "be2ad471.d9c448",
            "1329b56.bea634b"
        ],
        "x": 1595,
        "y": 140,
        "wires": []
    },
    {
        "id": "8d3b028a.588a3",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 4,
        "x": 1390,
        "y": 160,
        "wires": [
            [
                "d4cd1de.82711e"
            ],
            [
                "b951c7f1.f25428"
            ],
            [
                "a3c35e5e1ca4940d"
            ],
            [
                "3ca6c5070a53611d"
            ]
        ]
    },
    {
        "id": "b951c7f1.f25428",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "Movement Nede",
        "links": [
            "f66e7e24.aca9d",
            "1329b56.bea634b"
        ],
        "x": 1595,
        "y": 180,
        "wires": []
    },
    {
        "id": "54bf5eae.c8ef3",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "Room",
        "property": "room",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "upstairs",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "gangen",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "bedroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "bathroom",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 5,
        "x": 410,
        "y": 520,
        "wires": [
            [
                "7130649263b126cc"
            ],
            [
                "57f7d91c.4946d8"
            ],
            [
                "3de67605.ae865a"
            ],
            [
                "472600f9.2afc6"
            ],
            [
                "3f0a059e.7103da"
            ]
        ]
    },
    {
        "id": "64bc6db.9a90194",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "FH Room Lights",
        "links": [
            "21c80566.d9201a",
            "6e1a0143.f51f8",
            "9262c612.43a058",
            "99bb192c.9613d8",
            "4c1858d290c94d44",
            "87d1ce3c19202d34",
            "e2d7c57f5c31b977"
        ],
        "x": 134,
        "y": 521,
        "wires": [
            [
                "5da7627f.49119c"
            ]
        ]
    },
    {
        "id": "5da7627f.49119c",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "",
        "func": "let msg2 = {};\n\nmsg2.room = msg.room;\nif (msg.payload == true || msg.payload == false) {\n    msg2.payload = { power: msg.payload === true ? \"on\" : \"off\" };\n} else {\n    msg2.payload = msg.payload;\n}\n\n\nreturn msg2;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 520,
        "wires": [
            [
                "54bf5eae.c8ef3"
            ]
        ]
    },
    {
        "id": "f08e4592.a992e8",
        "type": "catch",
        "z": "e3737c94.fd59f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 360,
        "y": 40,
        "wires": [
            [
                "3aaddf77.5c70f"
            ]
        ]
    },
    {
        "id": "3aaddf77.5c70f",
        "type": "debug",
        "z": "e3737c94.fd59f",
        "name": "ERROR",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 520,
        "y": 40,
        "wires": []
    },
    {
        "id": "f57725ce.089018",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "",
        "links": [],
        "x": 1095,
        "y": 280,
        "wires": []
    },
    {
        "id": "8d086061.8b918",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "22",
        "device_id": "22",
        "name": "Ovn",
        "x": 950,
        "y": 860,
        "wires": []
    },
    {
        "id": "3229de3c.7ea162",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "power",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": true,
        "outputs": 2,
        "x": 420,
        "y": 860,
        "wires": [
            [
                "845f8e9d.766ea"
            ],
            [
                "2393b6f.cffe14a"
            ]
        ]
    },
    {
        "id": "845f8e9d.766ea",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "ON",
        "func": "msg.payload = {};\nmsg.payload.power = \"on\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 840,
        "wires": [
            [
                "57f7d91c.4946d8"
            ]
        ]
    },
    {
        "id": "2393b6f.cffe14a",
        "type": "function",
        "z": "e3737c94.fd59f",
        "name": "OFF",
        "func": "msg.payload = {};\nmsg.payload.power = \"off\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 880,
        "wires": [
            [
                "57f7d91c.4946d8"
            ]
        ]
    },
    {
        "id": "c660d15c.213f9",
        "type": "get-state",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "1 etg LUX",
        "get_type": "devices",
        "device_id": "23",
        "device": "23",
        "room": "",
        "x": 1640,
        "y": 440,
        "wires": [
            [
                "e03e153f.c778d8"
            ]
        ]
    },
    {
        "id": "e03e153f.c778d8",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "1 etg Lux",
        "links": [],
        "x": 1835,
        "y": 440,
        "wires": []
    },
    {
        "id": "fe85490e.fd0958",
        "type": "site",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "Hegglunds",
        "x": 120,
        "y": 140,
        "wires": [
            [
                "a76ee99e.e4d718"
            ]
        ]
    },
    {
        "id": "c601c69e.6137e8",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "Gusetmode",
        "property": "guestmode",
        "propertyType": "global",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": true,
        "outputs": 1,
        "x": 1230,
        "y": 160,
        "wires": [
            [
                "8d3b028a.588a3"
            ]
        ]
    },
    {
        "id": "d2c31c81.92246",
        "type": "get-state",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "name": "B etg LUX",
        "get_type": "devices",
        "device_id": "19",
        "device": "19",
        "room": "",
        "x": 1650,
        "y": 380,
        "wires": [
            [
                "9a820556.4df458"
            ]
        ]
    },
    {
        "id": "9a820556.4df458",
        "type": "link out",
        "z": "e3737c94.fd59f",
        "name": "1 etg Lux",
        "links": [
            "c825f67d.b5dba8"
        ],
        "x": 1835,
        "y": 380,
        "wires": []
    },
    {
        "id": "277f34fb.de5d9c",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "clean",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 420,
        "wires": [
            [
                "d2c31c81.92246",
                "c660d15c.213f9"
            ]
        ]
    },
    {
        "id": "30239893.0863c8",
        "type": "link in",
        "z": "e3737c94.fd59f",
        "name": "FH_Kjeller",
        "links": [],
        "x": 155,
        "y": 860,
        "wires": [
            [
                "69654cee.133f94"
            ]
        ]
    },
    {
        "id": "69654cee.133f94",
        "type": "rbe",
        "z": "e3737c94.fd59f",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "power",
        "x": 290,
        "y": 860,
        "wires": [
            [
                "3229de3c.7ea162"
            ]
        ]
    },
    {
        "id": "69bb91cc.c35c3",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "Device",
        "property": "payload.devices[0].name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 140,
        "wires": [
            [
                "77d4a580.a4a38c"
            ]
        ]
    },
    {
        "id": "3f0a059e.7103da",
        "type": "change-device",
        "z": "e3737c94.fd59f",
        "user": "fae123cb.bd4b2",
        "device": "46",
        "device_id": "46",
        "name": "dimmer",
        "x": 960,
        "y": 600,
        "wires": []
    },
    {
        "id": "6a61eaef.36c104",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 140,
        "wires": [
            [
                "69bb91cc.c35c3",
                "b36abc6167954013"
            ]
        ]
    },
    {
        "id": "04d0c0d3ead85731",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "status",
        "property": "status",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "day",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "night",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 630,
        "y": 440,
        "wires": [
            [
                "7422f190.1aacf",
                "ae05daf4.f22088"
            ],
            [
                "ae05daf4.f22088"
            ],
            [
                "7422f190.1aacf",
                "ae05daf4.f22088"
            ]
        ]
    },
    {
        "id": "c270ae4859f1e7bb",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "Mode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1040,
        "y": 160,
        "wires": [
            [
                "c601c69e.6137e8"
            ]
        ]
    },
    {
        "id": "b36abc6167954013",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "Mode",
        "property": "payload.site.house.mode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 60,
        "wires": [
            [
                "8e07c57f.92d158"
            ]
        ]
    },
    {
        "id": "7130649263b126cc",
        "type": "switch",
        "z": "e3737c94.fd59f",
        "name": "",
        "property": "payload.power",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 440,
        "wires": [
            [
                "ae05daf4.f22088",
                "7422f190.1aacf"
            ],
            [
                "04d0c0d3ead85731"
            ]
        ]
    },
    {
        "id": "a3c35e5e1ca4940d",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "C-Presence",
        "rules": [
            {
                "t": "set",
                "p": "C-Presence",
                "pt": "global",
                "to": "payload.devices[0].param.presence",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "3ca6c5070a53611d",
        "type": "change",
        "z": "e3737c94.fd59f",
        "name": "V-Presence",
        "rules": [
            {
                "t": "set",
                "p": "V-Presence",
                "pt": "global",
                "to": "payload.devices[0].param.presence",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "6d8cd486.3ac49c",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse StueVtoalett",
        "topic": "StueVtoalett",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:8e:b1:4d-01-0406"
        ],
        "device_name": "1etg: Stue-Gang : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 300,
        "y": 100,
        "wires": [
            [
                "8b7a0dc.31806f"
            ]
        ]
    },
    {
        "id": "e92f253c.11b9b8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Trapp",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "be2ad471.d9c448"
        ],
        "x": 975,
        "y": 100,
        "wires": []
    },
    {
        "id": "3bfccd97.de6142",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Gangen",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/ec:1b:bd:ff:fe:a2:fd:03-01-0006"
        ],
        "device_name": "Gangen : ZHAPresence",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 290,
        "y": 160,
        "wires": [
            [
                "84d4238b.16cfe"
            ],
            []
        ]
    },
    {
        "id": "328ec247.9e5eee",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Gang",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "dcf434ce.e89888"
        ],
        "x": 695,
        "y": 160,
        "wires": []
    },
    {
        "id": "84cb19d4.d232e8",
        "type": "deconz-output",
        "z": "a7af161f.d5ece8",
        "name": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Window covering device 5 : Window covering device",
        "device": "cc:cc:cc:ff:fe:02:96:c6-01",
        "command": "bri",
        "commandType": "deconz_cmd",
        "payload": "payload",
        "payloadType": "msg",
        "transitionTime": "",
        "transitionTimeType": "num",
        "x": 880,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "36aeb8a0.824178",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Window covering device 5 : Window covering device",
        "outputs": 2,
        "device": "cc:cc:cc:ff:fe:02:96:c6-01",
        "state": 0,
        "output": "always",
        "outputAtStartup": true,
        "x": 310,
        "y": 660,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1b253553.66750b",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "ad29b802.69fbb8"
        ],
        "x": 1325,
        "y": 540,
        "wires": []
    },
    {
        "id": "800c441a.1f78d8",
        "type": "link in",
        "z": "a7af161f.d5ece8",
        "name": "DZ_Fyrtur",
        "links": [
            "515c9831.0334b8"
        ],
        "x": 615,
        "y": 660,
        "wires": [
            [
                "84cb19d4.d232e8",
                "b039dec6.2eabd"
            ]
        ]
    },
    {
        "id": "84d4238b.16cfe",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Gangen",
                "type": "str"
            },
            {
                "name": "ignore_state",
                "value": "true",
                "type": "bool"
            }
        ],
        "x": 530,
        "y": 160,
        "wires": [
            [
                "328ec247.9e5eee"
            ]
        ]
    },
    {
        "id": "8b7a0dc.31806f",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "StueVtoalett",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 100,
        "wires": [
            [
                "e92f253c.11b9b8"
            ]
        ]
    },
    {
        "id": "780badae.5effd4",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "Bedroom",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/bc:33:ac:ff:fe:18:65:a7-01-0006"
        ],
        "device_name": "Soverom : ZHAPresence",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 290,
        "y": 220,
        "wires": [
            [
                "32a8f67f.ad5fca"
            ],
            []
        ]
    },
    {
        "id": "32a8f67f.ad5fca",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Bedroom",
                "type": "str"
            },
            {
                "name": "ETG",
                "value": "2",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 220,
        "wires": [
            [
                "9ace10c4.4ce8f"
            ]
        ]
    },
    {
        "id": "9ace10c4.4ce8f",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bvegelse Soverom",
        "links": [
            "50b0d259.df502c",
            "1329b56.bea634b"
        ],
        "x": 695,
        "y": 220,
        "wires": []
    },
    {
        "id": "24b6d06c.7e0e6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0406"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 280,
        "y": 280,
        "wires": [
            [
                "c993abab.7f54d8"
            ]
        ]
    },
    {
        "id": "c993abab.7f54d8",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Kjøkken",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 280,
        "wires": [
            [
                "63e9f9b.1d13608"
            ]
        ]
    },
    {
        "id": "63e9f9b.1d13608",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse Kjøkken",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "be2ad471.d9c448"
        ],
        "x": 755,
        "y": 280,
        "wires": []
    },
    {
        "id": "620a790d.f793f8",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bryter",
        "topic": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Kjeller Bryter : ZHASwitch",
        "outputs": 2,
        "device": "60:a4:23:ff:fe:28:37:14-01-1000",
        "state": "buttonevent",
        "output": "onupdate",
        "outputAtStartup": false,
        "x": 1180,
        "y": 380,
        "wires": [
            [
                "b3936326.9069d",
                "1b253553.66750b",
                "daf07d4d.1f365"
            ],
            []
        ]
    },
    {
        "id": "b3936326.9069d",
        "type": "switch",
        "z": "a7af161f.d5ece8",
        "name": "Upstairs",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1001",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 1520,
        "y": 360,
        "wires": [
            [
                "161bb255.512b1e"
            ],
            [
                "4340bf1e.b870c"
            ],
            [
                "91591da1.3f633"
            ]
        ]
    },
    {
        "id": "161bb255.512b1e",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 340,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "4340bf1e.b870c",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 380,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "fbd30b58.0dc988",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Upstairs",
        "links": [
            "87af81c4.c910b"
        ],
        "x": 1925,
        "y": 380,
        "wires": []
    },
    {
        "id": "91591da1.3f633",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "Auto",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "fbd30b58.0dc988"
            ]
        ]
    },
    {
        "id": "b039dec6.2eabd",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 740,
        "wires": []
    },
    {
        "id": "daf07d4d.1f365",
        "type": "switch",
        "z": "a7af161f.d5ece8",
        "name": "Downstairs",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "3002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4002",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3001",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 1520,
        "y": 480,
        "wires": [
            [
                "54177de6.161014"
            ],
            [
                "f15b1d.2b4844e"
            ],
            [
                "c4ac5b4f.39cb38"
            ]
        ]
    },
    {
        "id": "54177de6.161014",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "ON",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 460,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "f15b1d.2b4844e",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 500,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "63220a70.24ebb4",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Downstairs",
        "links": [
            "c720f0cc.65429"
        ],
        "x": 1805,
        "y": 480,
        "wires": []
    },
    {
        "id": "c4ac5b4f.39cb38",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "Auto",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Auto",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 540,
        "wires": [
            [
                "63220a70.24ebb4"
            ]
        ]
    },
    {
        "id": "3d5c496e.056dd6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Bevegelse BAD",
        "topic": "",
        "server": "12895ae7.9c6bf5",
        "device_name": "Presence 16 : ZHAPresence",
        "outputs": 2,
        "device": "00:15:8d:00:05:4a:78:00-01-0406",
        "state": "presence",
        "output": "always",
        "outputAtStartup": true,
        "x": 260,
        "y": 820,
        "wires": [
            [
                "da3398b4.aebae8"
            ],
            []
        ]
    },
    {
        "id": "bdda4d7b.253eb",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Dør BAD",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:02:8d:6d:2d-01-0006"
        ],
        "device_name": "Window / Door Sensor : ZHAOpenClose",
        "query": "",
        "outputs": 2,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            },
            {
                "type": "homekit",
                "format": "single",
                "onstart": true,
                "onerror": true,
                "payload": [
                    "__auto__"
                ]
            }
        ],
        "x": 240,
        "y": 880,
        "wires": [
            [
                "108bf876.9a7808"
            ],
            []
        ]
    },
    {
        "id": "da3398b4.aebae8",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "CleanData",
        "func": "let data = {};\ndata.payload = msg.payload_raw.state.presence;\ndata.topic = \"Bathroom\";\nreturn data;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 820,
        "wires": [
            [
                "455faa8d.6c9aa4"
            ]
        ]
    },
    {
        "id": "108bf876.9a7808",
        "type": "function",
        "z": "a7af161f.d5ece8",
        "name": "CleanData",
        "func": "let data = {};\ndata.state = msg.payload.open;\ndata.topic = \"Bathroom\";\nreturn data;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 880,
        "wires": [
            [
                "dc7a9dbe.e7065"
            ]
        ]
    },
    {
        "id": "455faa8d.6c9aa4",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bathrrom_Movement",
        "mode": "link",
        "links": [
            "1329b56.bea634b",
            "c840b6850a9f9370"
        ],
        "x": 755,
        "y": 820,
        "wires": []
    },
    {
        "id": "dc7a9dbe.e7065",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Bathroom_Door",
        "links": [
            "1131c1ae.3f329e",
            "6a9591ce.b7b71",
            "ea645748ca3e406e"
        ],
        "x": 755,
        "y": 880,
        "wires": []
    },
    {
        "id": "77add7af.42aad8",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload_raw.state.presence",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 780,
        "wires": []
    },
    {
        "id": "35e39765a7880666",
        "type": "deconz-get",
        "z": "a7af161f.d5ece8",
        "name": "",
        "config_version": 1,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:02:8d:6d:2d-01-0006"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 540,
        "y": 1040,
        "wires": [
            [
                "54b1a50f1019f313"
            ]
        ]
    },
    {
        "id": "54b1a50f1019f313",
        "type": "debug",
        "z": "a7af161f.d5ece8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 780,
        "y": 1020,
        "wires": []
    },
    {
        "id": "41db4b9ea985084b",
        "type": "inject",
        "z": "a7af161f.d5ece8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 370,
        "y": 1020,
        "wires": [
            [
                "35e39765a7880666"
            ]
        ]
    },
    {
        "id": "72d4018db023f810",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Office",
        "topic": "",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:e5:d3:9c-01-0406"
        ],
        "device_name": "Kjøkken : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "always",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 210,
        "y": 360,
        "wires": [
            [
                "6fd91fe30a14cff0"
            ]
        ]
    },
    {
        "id": "6fd91fe30a14cff0",
        "type": "subflow:94ff8f0f.02c5a",
        "z": "a7af161f.d5ece8",
        "name": "",
        "env": [
            {
                "name": "Name",
                "value": "Office",
                "type": "str"
            }
        ],
        "x": 530,
        "y": 360,
        "wires": [
            [
                "b526ea173bec8f67"
            ]
        ]
    },
    {
        "id": "b526ea173bec8f67",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "Office",
        "mode": "link",
        "links": [
            "ca59d875951bc88c"
        ],
        "x": 755,
        "y": 360,
        "wires": []
    },
    {
        "id": "18232fd100af2fd6",
        "type": "deconz-input",
        "z": "a7af161f.d5ece8",
        "name": "Kitchen ILLUM",
        "topic": "StueVtoalett",
        "config_version": 2,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "auto",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0400"
        ],
        "device_name": "1etg: Stue-Gang : ZHAPresence",
        "query": "",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "output": "onchange",
                "onstart": true,
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 180,
        "y": 500,
        "wires": [
            [
                "3bb8b86054a6a31d"
            ]
        ]
    },
    {
        "id": "3bb8b86054a6a31d",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "state",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.lux",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 480,
        "wires": [
            [
                "39e053b3d2fb7ed8"
            ]
        ]
    },
    {
        "id": "ecb2a8e113bee947",
        "type": "change",
        "z": "a7af161f.d5ece8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "7cf17ee9964084fc",
        "type": "inject",
        "z": "a7af161f.d5ece8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 600,
        "wires": [
            [
                "7be6d3bce0f65a19"
            ]
        ]
    },
    {
        "id": "39e053b3d2fb7ed8",
        "type": "link out",
        "z": "a7af161f.d5ece8",
        "name": "KITCHEN LIGHT",
        "mode": "link",
        "links": [
            "99ed1ce4.90a0c"
        ],
        "x": 685,
        "y": 460,
        "wires": []
    },
    {
        "id": "7be6d3bce0f65a19",
        "type": "deconz-get",
        "z": "a7af161f.d5ece8",
        "name": "",
        "config_version": 1,
        "server": "12895ae7.9c6bf5",
        "statustext": "",
        "statustext_type": "default",
        "search_type": "device",
        "device_list": [
            "sensors/uniqueid/00:15:8d:00:07:00:29:61-01-0400"
        ],
        "device_name": "",
        "query": "{}",
        "outputs": 1,
        "output_rules": [
            {
                "type": "state",
                "format": "single",
                "payload": [
                    "__complete__"
                ]
            }
        ],
        "x": 230,
        "y": 560,
        "wires": [
            [
                "3bb8b86054a6a31d"
            ]
        ]
    },
    {
        "id": "a17425f6.276c18",
        "type": "http in",
        "z": "bd342fd3.e926f",
        "name": "Facedetected",
        "url": "/facedetected",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 300,
        "y": 200,
        "wires": [
            [
                "b4a2c165.ca205"
            ]
        ]
    },
    {
        "id": "b4a2c165.ca205",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 200,
        "wires": []
    },
    {
        "id": "ec85161f.bf0468",
        "type": "http in",
        "z": "bd342fd3.e926f",
        "name": "Facedetected",
        "url": "/facedetected",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 290,
        "y": 260,
        "wires": [
            [
                "b4f0d10d.f591a",
                "6a7bf4f5.17715c",
                "3f496c12.523bd4"
            ]
        ]
    },
    {
        "id": "b4f0d10d.f591a",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.detected",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 260,
        "wires": []
    },
    {
        "id": "6a7bf4f5.17715c",
        "type": "http response",
        "z": "bd342fd3.e926f",
        "name": "respose",
        "statusCode": "200",
        "headers": {
            "resposne": "ok"
        },
        "x": 800,
        "y": 200,
        "wires": []
    },
    {
        "id": "48804df1.d0f5e4",
        "type": "function",
        "z": "bd342fd3.e926f",
        "name": "Happy outside ",
        "func": "var name = msg.payload.detected\n  msg.payload = {\n    app: \"DefaultMediaReceiver\",\n    type: \"TTS\",\n    text: \"\"+name+\" have been detected\",\n    speed: 1, // optional to adjust TTS speed, defaults to 1\n    language: \"en\", // optional to set TTS language, default to en\n    metadata: { // optional unless desired, follows normal metadata rules noted above\n      title: \"Media title\"\n    }\n  }\n\n\n\nreturn [msg];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 820,
        "y": 300,
        "wires": [
            [
                "1217ddf6.8b7182"
            ]
        ]
    },
    {
        "id": "1217ddf6.8b7182",
        "type": "link out",
        "z": "bd342fd3.e926f",
        "name": "",
        "links": [
            "fee9f406.ef48d8"
        ],
        "x": 945,
        "y": 280,
        "wires": []
    },
    {
        "id": "3f496c12.523bd4",
        "type": "delay",
        "z": "bd342fd3.e926f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 560,
        "y": 320,
        "wires": [
            [
                "48804df1.d0f5e4"
            ]
        ]
    },
    {
        "id": "64c3f5f94e5a7d3e",
        "type": "mqtt in",
        "z": "bd342fd3.e926f",
        "name": "",
        "topic": "people/detected",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 600,
        "wires": [
            [
                "c5d2da82a4e41161"
            ]
        ]
    },
    {
        "id": "c5d2da82a4e41161",
        "type": "switch",
        "z": "bd342fd3.e926f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "oivind",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "k",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kam",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sti",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ter",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 423,
        "y": 606,
        "wires": [
            [
                "788f2036f96660ee"
            ],
            [
                "96c4abdfa5054103"
            ],
            [
                "9540494b9293235e"
            ],
            [
                "9fdb3aac9b5128ce"
            ],
            [
                "3a97888a4f0a9962"
            ],
            [
                "a6d3d6549d43f8d8",
                "3a97888a4f0a9962"
            ]
        ]
    },
    {
        "id": "2e45bd4a7ce7164c",
        "type": "link out",
        "z": "bd342fd3.e926f",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 1055,
        "y": 580,
        "wires": []
    },
    {
        "id": "788f2036f96660ee",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "ø",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Øivind detected",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 560,
        "wires": [
            [
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "96c4abdfa5054103",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "k",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Karina detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kar",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 600,
        "wires": [
            [
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "9540494b9293235e",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "kam",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Karina detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kam",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 717,
        "y": 634,
        "wires": [
            [
                "4be78cbd7bb83d3e",
                "8169cbfb5508a232"
            ]
        ]
    },
    {
        "id": "a6d3d6549d43f8d8",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "unkn",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Unknown person detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Unknown",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 760,
        "wires": [
            [
                "4be78cbd7bb83d3e",
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "9fdb3aac9b5128ce",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "Stian ",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Stian detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "sti",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 717,
        "y": 674,
        "wires": [
            [
                "4be78cbd7bb83d3e"
            ]
        ]
    },
    {
        "id": "3a97888a4f0a9962",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "Tereza ",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "Tereza detected",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "ter",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 717,
        "y": 714,
        "wires": [
            [
                "4be78cbd7bb83d3e"
            ]
        ]
    },
    {
        "id": "a3b67c25c00a17f5",
        "type": "function",
        "z": "bd342fd3.e926f",
        "name": "",
        "func": "let count_guests = flow.get(\"count_guests\") || 0\n\ncount_guests++\n\nflow.set(\"count_guests\", count_guests);\n\nmsg.text = \"There are \" + count_guests + \"Guest\"\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 720,
        "wires": [
            [
                "2e45bd4a7ce7164c"
            ]
        ]
    },
    {
        "id": "13d2366f7749cc3d",
        "type": "change",
        "z": "bd342fd3.e926f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "count_guests",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 740,
        "wires": [
            [
                "96c4abdfa5054103",
                "9540494b9293235e",
                "9fdb3aac9b5128ce",
                "3a97888a4f0a9962",
                "a6d3d6549d43f8d8"
            ]
        ]
    },
    {
        "id": "3856374e5300e595",
        "type": "inject",
        "z": "bd342fd3.e926f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 740,
        "wires": [
            [
                "13d2366f7749cc3d"
            ]
        ]
    },
    {
        "id": "4be78cbd7bb83d3e",
        "type": "trigger",
        "z": "bd342fd3.e926f",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "0",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "topic",
        "topic": "topc",
        "outputs": 1,
        "x": 900,
        "y": 720,
        "wires": [
            [
                "a3b67c25c00a17f5"
            ]
        ]
    },
    {
        "id": "df6a59c5141b8e2c",
        "type": "mqtt in",
        "z": "bd342fd3.e926f",
        "name": "",
        "topic": "people/unknown",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 920,
        "wires": [
            [
                "a6d3d6549d43f8d8",
                "24caf2ec3e9a6418"
            ]
        ]
    },
    {
        "id": "24caf2ec3e9a6418",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 960,
        "wires": []
    },
    {
        "id": "8169cbfb5508a232",
        "type": "debug",
        "z": "bd342fd3.e926f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 860,
        "wires": []
    },
    {
        "id": "a64342af.a4b47",
        "type": "castv2-sender",
        "z": "1c88039c.df631c",
        "name": "SHIELD",
        "connection": "3587f56e.3de5ba",
        "x": 220,
        "y": 240,
        "wires": [
            [
                "81af6cca.e9c66",
                "89d0b2b7.ea426",
                "dfb84673.fd6598"
            ]
        ]
    },
    {
        "id": "81af6cca.e9c66",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "payload.playerState",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "PLAYING",
                "vt": "str"
            },
            {
                "t": "nempty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 240,
        "wires": [
            [
                "68d9f69.9352e08"
            ],
            [
                "ff0f6df7.5a918"
            ]
        ]
    },
    {
        "id": "99eeb7d8.8caeb8",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "FH_Kjeller",
        "links": [
            "3b978634.3ed85a"
        ],
        "x": 1155,
        "y": 240,
        "wires": []
    },
    {
        "id": "e141ad77.43517",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 200,
        "wires": [
            [
                "9c8ff821.d99f48"
            ]
        ]
    },
    {
        "id": "ff0f6df7.5a918",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "power",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 280,
        "wires": [
            [
                "99eeb7d8.8caeb8",
                "df254ac2.220318"
            ]
        ]
    },
    {
        "id": "68d9f69.9352e08",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "payload.media.duration",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "5400",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 200,
        "wires": [
            [
                "e141ad77.43517"
            ]
        ]
    },
    {
        "id": "ee4bdb8e.0c68a8",
        "type": "castv2-sender",
        "z": "1c88039c.df631c",
        "name": "SHIELD",
        "connection": "3587f56e.3de5ba",
        "x": 360,
        "y": 580,
        "wires": [
            [
                "5ed35b0.f324da4"
            ]
        ]
    },
    {
        "id": "5ed35b0.f324da4",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "isStandBy",
                "pt": "global",
                "to": "platform.isStandBy",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 580,
        "wires": [
            [
                "e9bb9204.50585"
            ]
        ]
    },
    {
        "id": "e9bb9204.50585",
        "type": "switch",
        "z": "1c88039c.df631c",
        "name": "",
        "property": "isStandBy",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 580,
        "wires": [
            [
                "a1111ae.032f9e8",
                "e926d9379abd724f"
            ],
            [
                "352c4db3.c00bc2",
                "7207e65ef67dab2d",
                "9d2af7af886c38df"
            ]
        ]
    },
    {
        "id": "352c4db3.c00bc2",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "On",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Ser på TV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 600,
        "wires": [
            [
                "5e8d3398.55375c"
            ]
        ]
    },
    {
        "id": "a1111ae.032f9e8",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "black",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "TV er AV",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 560,
        "wires": [
            [
                "5e8d3398.55375c"
            ]
        ]
    },
    {
        "id": "b50c3d14.adf0e",
        "type": "inject",
        "z": "1c88039c.df631c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payloadType": "date",
        "x": 170,
        "y": 580,
        "wires": [
            [
                "ee4bdb8e.0c68a8"
            ]
        ]
    },
    {
        "id": "5e8d3398.55375c",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "SHIELD",
        "links": [
            "c71338d4.ce73c8",
            "6075171d.f0db08",
            "f5405a5b1a414228"
        ],
        "x": 1125,
        "y": 580,
        "wires": []
    },
    {
        "id": "9c8ff821.d99f48",
        "type": "trigger",
        "z": "1c88039c.df631c",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1030,
        "y": 220,
        "wires": [
            [
                "99eeb7d8.8caeb8"
            ]
        ]
    },
    {
        "id": "df254ac2.220318",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 240,
        "wires": [
            [
                "9c8ff821.d99f48"
            ]
        ]
    },
    {
        "id": "89d0b2b7.ea426",
        "type": "switch",
        "z": "1c88039c.df631c",
        "d": true,
        "name": "",
        "property": "platform.applications[0].statusText",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Youtube",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Plex",
                "vt": "str"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 570,
        "y": 340,
        "wires": [
            [
                "49d893b7.f4e99c"
            ],
            [
                "28e6418d.dfba6e"
            ],
            []
        ]
    },
    {
        "id": "49d893b7.f4e99c",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Youtube",
        "func": "msg.text = \"You are watching Youtube\";\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 320,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "28e6418d.dfba6e",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Plex",
        "func": "msg.text = \"You are watching Plex\";\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "1484b9d6.aaa5c6",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "Shield app",
        "links": [
            "c9b1af2b.75dac"
        ],
        "x": 965,
        "y": 340,
        "wires": []
    },
    {
        "id": "dfb84673.fd6598",
        "type": "switch",
        "z": "1c88039c.df631c",
        "d": true,
        "name": "",
        "property": "platform.applications[0].statusText",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 400,
        "wires": [
            [
                "2cac3554.e5dc5a"
            ]
        ]
    },
    {
        "id": "347b2f4c.11cd",
        "type": "function",
        "z": "1c88039c.df631c",
        "name": "Text: Youtube",
        "func": "msg.text = \"You are watching\" + msg.platform.applications[0].statusText;\nmsg.emitVolume = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 780,
        "y": 400,
        "wires": [
            [
                "1484b9d6.aaa5c6"
            ]
        ]
    },
    {
        "id": "2cac3554.e5dc5a",
        "type": "delay",
        "z": "1c88039c.df631c",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 600,
        "y": 400,
        "wires": [
            [
                "347b2f4c.11cd"
            ]
        ]
    },
    {
        "id": "7207e65ef67dab2d",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "B-Presence",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "e926d9379abd724f",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "GO",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "GO",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 520,
        "wires": [
            [
                "8a0ab10e55653060"
            ]
        ]
    },
    {
        "id": "9d2af7af886c38df",
        "type": "change",
        "z": "1c88039c.df631c",
        "name": "STOP",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "STOP",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 680,
        "wires": [
            [
                "8a0ab10e55653060"
            ]
        ]
    },
    {
        "id": "8a0ab10e55653060",
        "type": "link out",
        "z": "1c88039c.df631c",
        "name": "block light",
        "mode": "link",
        "links": [
            "7c376eb857a4e46f"
        ],
        "x": 1245,
        "y": 560,
        "wires": []
    },
    {
        "id": "e821612e.e3cf4",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "1s/1s",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "c2c469db.580898"
            ]
        ]
    },
    {
        "id": "2618401a.d4a3",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 670,
        "y": 40,
        "wires": []
    },
    {
        "id": "663ee350.a90bfc",
        "type": "mqtt out",
        "z": "bd80cf37.f9982",
        "name": "",
        "topic": "spotify",
        "qos": "",
        "retain": "",
        "broker": "[YOUR CONFIG]",
        "x": 850,
        "y": 80,
        "wires": []
    },
    {
        "id": "d89db731.9dcb28",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.item.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 80,
        "wires": [
            [
                "663ee350.a90bfc"
            ]
        ]
    },
    {
        "id": "158b6d57.3b4133",
        "type": "ui_text",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Track",
        "format": "{{msg.payload.item.name}}",
        "layout": "col-center",
        "x": 650,
        "y": 120,
        "wires": []
    },
    {
        "id": "41887616.7d8738",
        "type": "ui_button",
        "z": "bd80cf37.f9982",
        "name": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 1,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Previous",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "skip_previous",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 120,
        "y": 260,
        "wires": [
            [
                "346d2e57.3f7082"
            ]
        ]
    },
    {
        "id": "c15e8169.b6692",
        "type": "ui_button",
        "z": "bd80cf37.f9982",
        "name": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 3,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Next",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "skip_next",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "5edcb928.352ed8"
            ]
        ]
    },
    {
        "id": "7a73ed1f.05fd24",
        "type": "mqtt in",
        "z": "bd80cf37.f9982",
        "name": "",
        "topic": "spotify.next",
        "qos": "2",
        "datatype": "auto",
        "broker": "[YOUR CONFIG]",
        "inputs": 0,
        "x": 120,
        "y": 100,
        "wires": [
            [
                "5edcb928.352ed8"
            ]
        ]
    },
    {
        "id": "c5dea8fe.215358",
        "type": "mqtt in",
        "z": "bd80cf37.f9982",
        "name": "",
        "topic": "spotify.prev",
        "qos": "2",
        "datatype": "auto",
        "broker": "[YOUR CONFIG]",
        "inputs": 0,
        "x": 120,
        "y": 300,
        "wires": [
            [
                "346d2e57.3f7082"
            ]
        ]
    },
    {
        "id": "64962fb7.11d53",
        "type": "ui_template",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "name": "Album Pic",
        "order": 5,
        "width": "12",
        "height": "6",
        "format": "<div height=\"{{msg.payload.item.album.images[1].height}}\" align=\"center\">\n<IMG ng-src=\"{{msg.payload.item.album.images[1].url}}\"></IMG>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 660,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "22da8308.01cf5c",
        "type": "ui_switch",
        "z": "bd80cf37.f9982",
        "name": "Paly/Pause",
        "label": "",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 2,
        "width": "4",
        "height": "1",
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "play_circle_outline",
        "oncolor": "green",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "pause_circle_outline",
        "offcolor": "red",
        "x": 670,
        "y": 280,
        "wires": [
            [
                "1774f4d0.a4739b"
            ]
        ]
    },
    {
        "id": "ec129954.d01af8",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.is_playing",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 220,
        "wires": [
            [
                "22da8308.01cf5c"
            ]
        ]
    },
    {
        "id": "54f46f35.233",
        "type": "switch",
        "z": "bd80cf37.f9982",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 380,
        "wires": [
            [
                "e497a2b8.fd79d"
            ],
            [
                "943e9a49.25e0f8"
            ]
        ]
    },
    {
        "id": "1774f4d0.a4739b",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 810,
        "y": 280,
        "wires": [
            [
                "54f46f35.233"
            ]
        ]
    },
    {
        "id": "79a3657f.878c5c",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 650,
        "y": 420,
        "wires": [
            [
                "943e9a49.25e0f8"
            ]
        ]
    },
    {
        "id": "c1699696.1dc128",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 650,
        "y": 340,
        "wires": [
            [
                "e497a2b8.fd79d"
            ]
        ]
    },
    {
        "id": "a22e150b.756278",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "Next",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 180,
        "wires": [
            [
                "5edcb928.352ed8"
            ]
        ]
    },
    {
        "id": "86b64b52.ec27b8",
        "type": "inject",
        "z": "bd80cf37.f9982",
        "name": "Prev",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 220,
        "wires": [
            [
                "346d2e57.3f7082"
            ]
        ]
    },
    {
        "id": "6832171f.b21738",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 750,
        "y": 540,
        "wires": []
    },
    {
        "id": "df71ed65.9b56d",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 530,
        "y": 480,
        "wires": [
            [
                "2ce1a0e9.0f532"
            ]
        ]
    },
    {
        "id": "478a3775.62ec48",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 730,
        "y": 480,
        "wires": []
    },
    {
        "id": "401fa237.e6689c",
        "type": "debug",
        "z": "bd80cf37.f9982",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "params",
        "targetType": "msg",
        "x": 750,
        "y": 580,
        "wires": []
    },
    {
        "id": "2ce1a0e9.0f532",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "[payload]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 580,
        "wires": [
            [
                "5e6aa81e.236958"
            ]
        ]
    },
    {
        "id": "7bc62009.3278a",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.progress_ms",
                "pt": "msg",
                "to": "progress",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 640,
        "wires": [
            [
                "3b445fef.e2239",
                "c330a77b.500f58"
            ]
        ]
    },
    {
        "id": "edd7f8d.22b6f08",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.duration_ms",
                "pt": "msg",
                "to": "duration",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 680,
        "wires": [
            [
                "fa925eeb.d8ada",
                "c330a77b.500f58"
            ]
        ]
    },
    {
        "id": "332f05a0.74111a",
        "type": "ui_numeric",
        "z": "bd80cf37.f9982",
        "d": true,
        "name": "",
        "label": "progress",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 6,
        "width": 0,
        "height": 0,
        "wrap": true,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 780,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "3b445fef.e2239",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "progress/1000",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 640,
        "wires": [
            [
                "332f05a0.74111a",
                "f1ffcbe7.256788"
            ]
        ],
        "outputLabels": [
            "seconds"
        ]
    },
    {
        "id": "fa925eeb.d8ada",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "duration/1000",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 680,
        "wires": [
            [
                "3c13b288.116c7e",
                "19eb810.cf58c7f"
            ]
        ],
        "outputLabels": [
            "seconds"
        ]
    },
    {
        "id": "3c13b288.116c7e",
        "type": "ui_numeric",
        "z": "bd80cf37.f9982",
        "d": true,
        "name": "",
        "label": "duration",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 7,
        "width": 0,
        "height": 0,
        "wrap": true,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 780,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "511f99e0.c089b8",
        "type": "ui_slider",
        "z": "bd80cf37.f9982",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "4c99ccf8.ce4ef4",
        "order": 9,
        "width": "8",
        "height": "1",
        "passthru": true,
        "outs": "end",
        "topic": "",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 370,
        "y": 760,
        "wires": [
            [
                "cede39fd.b940e8"
            ]
        ]
    },
    {
        "id": "c330a77b.500f58",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ui_control",
                "pt": "msg",
                "to": "{\"min\":1,\"max\":$.duration}",
                "tot": "jsonata"
            },
            {
                "t": "move",
                "p": "progress",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 760,
        "wires": [
            [
                "511f99e0.c089b8"
            ]
        ]
    },
    {
        "id": "e86a673c.c09fa8",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "params",
                "pt": "msg",
                "to": "[payload]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 840,
        "wires": [
            [
                "d908d76d.5667d8"
            ]
        ]
    },
    {
        "id": "cede39fd.b940e8",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "deadband",
        "gap": "3000",
        "start": "",
        "inout": "in",
        "property": "payload",
        "x": 540,
        "y": 760,
        "wires": [
            [
                "7bafa715.11bc28"
            ]
        ]
    },
    {
        "id": "4240c7f2.ebbae8",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.item.id",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 480,
        "wires": [
            [
                "df71ed65.9b56d"
            ]
        ]
    },
    {
        "id": "7bafa715.11bc28",
        "type": "trigger",
        "z": "bd80cf37.f9982",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "1000",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 200,
        "y": 840,
        "wires": [
            [
                "6d55f578.603afc"
            ]
        ]
    },
    {
        "id": "6d55f578.603afc",
        "type": "rbe",
        "z": "bd80cf37.f9982",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "property": "payload",
        "x": 390,
        "y": 840,
        "wires": [
            [
                "e86a673c.c09fa8"
            ]
        ]
    },
    {
        "id": "19eb810.cf58c7f",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "minutes",
                "pt": "msg",
                "to": "(payload/60)-((payload/60)%1)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "seconds",
                "pt": "msg",
                "to": "(payload%60)",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "params",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 940,
        "wires": [
            [
                "fa04b5d9.0f1728"
            ]
        ]
    },
    {
        "id": "fa04b5d9.0f1728",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "minutes",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "seconds",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 940,
        "wires": [
            [
                "d7f74681.e827d8"
            ]
        ]
    },
    {
        "id": "229a5d9.b0261a2",
        "type": "ui_text",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "order": 10,
        "width": "2",
        "height": "1",
        "name": "total",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 790,
        "y": 940,
        "wires": []
    },
    {
        "id": "f1ffcbe7.256788",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "minutes",
                "pt": "msg",
                "to": "(payload/60)-((payload/60)%1)",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "seconds",
                "pt": "msg",
                "to": "(payload%60)",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "params",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 1000,
        "wires": [
            [
                "958bbb69.850008"
            ]
        ]
    },
    {
        "id": "958bbb69.850008",
        "type": "change",
        "z": "bd80cf37.f9982",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "minutes",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "seconds",
                "pt": "msg",
                "to": "payload[1]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1000,
        "wires": [
            [
                "53842c0a.bbc1d4"
            ]
        ]
    },
    {
        "id": "959827e4.4332b8",
        "type": "ui_text",
        "z": "bd80cf37.f9982",
        "group": "4c99ccf8.ce4ef4",
        "order": 8,
        "width": "2",
        "height": "1",
        "name": "current",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 790,
        "y": 1000,
        "wires": []
    },
    {
        "id": "53842c0a.bbc1d4",
        "type": "range",
        "z": "bd80cf37.f9982",
        "minin": "0",
        "maxin": "60",
        "minout": "0",
        "maxout": "60",
        "action": "scale",
        "round": true,
        "property": "payload[1]",
        "name": "",
        "x": 630,
        "y": 1000,
        "wires": [
            [
                "959827e4.4332b8"
            ]
        ]
    },
    {
        "id": "d7f74681.e827d8",
        "type": "range",
        "z": "bd80cf37.f9982",
        "minin": "0",
        "maxin": "60",
        "minout": "0",
        "maxout": "60",
        "action": "scale",
        "round": true,
        "property": "payload[1]",
        "name": "",
        "x": 630,
        "y": 940,
        "wires": [
            [
                "229a5d9.b0261a2"
            ]
        ]
    },
    {
        "id": "c2c469db.580898",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "getMyCurrentPlayingTrack",
        "x": 380,
        "y": 60,
        "wires": [
            [
                "2618401a.d4a3",
                "d89db731.9dcb28",
                "158b6d57.3b4133",
                "64962fb7.11d53",
                "ec129954.d01af8",
                "7bc62009.3278a",
                "4240c7f2.ebbae8"
            ]
        ]
    },
    {
        "id": "5edcb928.352ed8",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "skipToNext",
        "x": 330,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "346d2e57.3f7082",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "skipToPrevious",
        "x": 340,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e497a2b8.fd79d",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "play",
        "x": 810,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "943e9a49.25e0f8",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "pause",
        "x": 810,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "5e6aa81e.236958",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "getTrack",
        "x": 520,
        "y": 580,
        "wires": [
            [
                "6832171f.b21738",
                "401fa237.e6689c",
                "edd7f8d.22b6f08"
            ]
        ]
    },
    {
        "id": "d908d76d.5667d8",
        "type": "spotify",
        "z": "bd80cf37.f9982",
        "name": "",
        "auth": "95e63b8.37a01c8",
        "api": "seek",
        "x": 790,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "ed876b6c.e43528",
        "type": "Thing Setup",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "thingType": "FH_Light",
        "things": [
            {
                "name": "Hallway",
                "id": "21",
                "props": {
                    "address": 2,
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "Office_Light",
                "id": "5",
                "props": {
                    "address": 6,
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "kjøkken",
                "id": "10",
                "props": {
                    "address": "3",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "stue",
                "id": "11",
                "props": {
                    "address": "14",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "bathroom",
                "id": "46",
                "props": {
                    "address": "37",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "closet",
                "id": "9",
                "props": {
                    "address": "12",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "laundry",
                "id": "15",
                "props": {
                    "address": 9,
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "basement",
                "id": "17",
                "props": {
                    "address": "18",
                    "sv": "out_bin_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "bedroom",
                "id": "20",
                "props": {
                    "address": "22",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "karinaoffice",
                "id": "27",
                "props": {
                    "adress": "27",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            },
            {
                "name": "office",
                "id": "26",
                "props": {
                    "address": "l4",
                    "sv": "out_lvl_switch"
                },
                "state": [],
                "commands": [],
                "children": []
            }
        ],
        "state": [
            {
                "key": "power",
                "value": false
            }
        ],
        "commands": [],
        "statusFunction": "if (state.power === undefined) return null\nlet text = state.power == \"on\" ? 'On' : 'Off'\nif (state.hasOwnProperty('brightness') && state.on){\n     text += ` ${state.brightness < 1 ? state.brightness * 100 : state.brightness}%`\n}\n   \n    \nreturn {\n    fill: state.power == \"on\" ? 'yellow' : 'grey',\n    shape: 'dot',\n    text\n}",
        "debug": true,
        "x": 1440,
        "y": 280,
        "wires": []
    },
    {
        "id": "7d505bde.df4254",
        "type": "Thing Update",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "nodeName": "",
        "name": "",
        "thingType": "FH_Light",
        "debug": true,
        "updates": [
            {
                "key": "power",
                "type": "msg",
                "val": "payload.val.changes.power"
            }
        ],
        "x": 1120,
        "y": 340,
        "wires": []
    },
    {
        "id": "d0eea84c.b46138",
        "type": "Thing Process",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "nodeName": "",
        "thingType": "FH_Light",
        "topic": "$id",
        "debug": false,
        "x": 1280,
        "y": 340,
        "wires": [
            [
                "1b735eb2.af9271"
            ]
        ]
    },
    {
        "id": "1e4e617e.247a5f",
        "type": "debug",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "TO FLOWS: FH_LIght Changed ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1430,
        "y": 440,
        "wires": []
    },
    {
        "id": "29c85b88.abdbe4",
        "type": "Thing Command",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "nodeName": "Set LIght",
        "name": "",
        "command": "",
        "commandType": "msg",
        "debug": false,
        "x": 1940,
        "y": 720,
        "wires": []
    },
    {
        "id": "3ab68b34.7a79d4",
        "type": "comment",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "Futurehome MQTT communication ",
        "info": "This example uses the Lifx platform. The Lifx node works well with the thing nodes, as it requires no initization to receive inbound messages. And the Lifx node already uses the MAC address as the message topic, so the Lifx Things are setup with the MAC address as their ID.",
        "x": 320,
        "y": 200,
        "wires": []
    },
    {
        "id": "faab8b45.892218",
        "type": "Thing Setup",
        "z": "4edd86b6.331768",
        "thingType": "DC_Light",
        "things": [],
        "state": [],
        "commands": [],
        "statusFunction": "if (state.on === undefined) return null\nlet text = state.on ? 'On' : 'Off'\nif (state.hasOwnProperty('brightness') && state.on)\n    text += ` ${state.brightness < 1 ? state.brightness * 100 : state.brightness}%`\nreturn {\n    fill: state.on ? 'yellow' : 'grey',\n    shape: 'dot',\n    text\n}",
        "debug": false,
        "x": 600,
        "y": 60,
        "wires": []
    },
    {
        "id": "a2adaa8d.513fa8",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "Light ID",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload.val.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 340,
        "wires": [
            [
                "7d505bde.df4254"
            ]
        ]
    },
    {
        "id": "bfd0dbf0.b44958",
        "type": "debug",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "TO FH HUB",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1670,
        "y": 300,
        "wires": []
    },
    {
        "id": "1b735eb2.af9271",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "\"pt:j1/mt:cmd/rt:dev/rn:zw/ad:1/sv:\"& thing.props.sv & \"/ad:\"& thing.props.address & \"_0\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"type\": \"cmd.binary.set\",\t    \"serv\": thing.props.sv,\t    \"val_t\": \"bool\",\t    \"val\": payload,\t    \"tags\": null,\t    \"props\": {},\t    \"ver\": \"1\",\t    \"corid\": \"\",\t    \"src\": \"node-red\",\t    \"ctime\": \"\",\t    \"uid\": \"\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 340,
        "wires": [
            [
                "bfd0dbf0.b44958",
                "626ca02b.796b9"
            ]
        ]
    },
    {
        "id": "626ca02b.796b9",
        "type": "mqtt out",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "FH_MQTT",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "41e681f.e420d8",
        "x": 1670,
        "y": 340,
        "wires": []
    },
    {
        "id": "466ec7c3.fe6948",
        "type": "mqtt in",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:app/rn:vinculum/ad:1",
        "qos": "2",
        "datatype": "json",
        "broker": "fa370de0.93e89",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 260,
        "y": 260,
        "wires": [
            [
                "8386f04b.e927a",
                "3e8ea1caee159345"
            ]
        ]
    },
    {
        "id": "8386f04b.e927a",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "FH functionality",
        "property": "payload.val.param.functionality",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "lighting",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 460,
        "y": 260,
        "wires": [
            [
                "c8ca9cb76832f227"
            ],
            []
        ]
    },
    {
        "id": "54d0eff0999dd2f8",
        "type": "debug",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.val",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 940,
        "y": 300,
        "wires": []
    },
    {
        "id": "02046d58b1fac856",
        "type": "Thing Trigger",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "nodeName": "",
        "triggerThing": {
            "path": "type",
            "type": "str",
            "value": "FH_Light"
        },
        "triggerState": null,
        "triggerTest": null,
        "ignoreInit": false,
        "payload": {
            "type": "state",
            "value": ""
        },
        "x": 950,
        "y": 400,
        "wires": [
            [
                "1e4e617e.247a5f",
                "b0dc3ddb928b3d38"
            ]
        ]
    },
    {
        "id": "62c6f49a0d557e7c",
        "type": "mqtt in",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "FH_MQTT",
        "topic": "pt:j1/mt:evt/rt:app/rn:vinculum/ad:1",
        "qos": "0",
        "datatype": "json",
        "broker": "fa370de0.93e89",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 860,
        "y": 60,
        "wires": [
            [
                "f80c7b6e933d9c0a"
            ]
        ]
    },
    {
        "id": "f80c7b6e933d9c0a",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "property": "payload.val.component",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "hub",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 60,
        "wires": [
            [
                "2b3d5935238c0aee"
            ]
        ]
    },
    {
        "id": "2b3d5935238c0aee",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "property": "payload.val.param.current",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Mode",
                "vt": "global"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 60,
        "wires": [
            [
                "8139c30e4d435db3"
            ]
        ]
    },
    {
        "id": "8139c30e4d435db3",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "Mode",
                "pt": "global",
                "to": "payload.val.param.current",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 60,
        "wires": [
            [
                "1e397062fcfbb0e9"
            ]
        ]
    },
    {
        "id": "bd874529797813e0",
        "type": "mqtt out",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set Mode",
        "topic": "pt:j1/mt:cmd/rt:app/rn:vinculum/ad:1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "41e681f.e420d8",
        "x": 1960,
        "y": 100,
        "wires": []
    },
    {
        "id": "845f145271bd8708",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set Mode",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"ctime\": \"2019-09-04 17:36:31 +0200\",\t   \"props\": {},\t   \"resp_to\": \"pt:j1/mt:rsp/rt:app/rn:node-red/ad:flow1\",\t   \"serv\": \"vinculum\",\t   \"src\": \"node-red\",\t   \"tags\": [],\t   \"type\": \"cmd.pd7.request\",\t   \"uid\": \"09936904-8ec8-4280-9285-945d77bd0a74\",\t   \"val\": {\t       \"cmd\": \"set\",\t       \"component\": \"mode\",\t       \"id\": mode,\t       \"param\": {},\t       \"requestId\": 1\t    },\t   \"val_t\": \"object\",\t   \"ver\": \"1\"\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 100,
        "wires": [
            [
                "bd874529797813e0"
            ]
        ]
    },
    {
        "id": "3dbb5ab41be489d2",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "away",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "away",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 60,
        "wires": [
            [
                "845f145271bd8708"
            ]
        ]
    },
    {
        "id": "22fcc7e745cde964",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "home",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "home",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 100,
        "wires": [
            [
                "845f145271bd8708"
            ]
        ]
    },
    {
        "id": "bc1904772d51db44",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "sleep",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "msg",
                "to": "sleep",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 140,
        "wires": [
            [
                "845f145271bd8708"
            ]
        ]
    },
    {
        "id": "6626af8888151004",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set AWAY",
        "links": [
            "fc4fe81e.444628"
        ],
        "x": 1535,
        "y": 60,
        "wires": [
            [
                "3dbb5ab41be489d2"
            ]
        ]
    },
    {
        "id": "14ac8f4a0be280af",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set HOME",
        "links": [
            "247260f.c82dca"
        ],
        "x": 1535,
        "y": 100,
        "wires": [
            [
                "22fcc7e745cde964"
            ]
        ]
    },
    {
        "id": "ad0eef5605ed22c5",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "88b8cd3b91daf3ae",
        "name": "Set SLEEP",
        "links": [
            "c9b7d9c6.2c46e8"
        ],
        "x": 1535,
        "y": 140,
        "wires": [
            [
                "bc1904772d51db44"
            ]
        ]
    },
    {
        "id": "c8ca9cb76832f227",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "FH_Lights",
        "mode": "link",
        "links": [
            "b2659103b136eee6"
        ],
        "x": 595,
        "y": 260,
        "wires": []
    },
    {
        "id": "b2659103b136eee6",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "FH_Lights",
        "links": [
            "c8ca9cb76832f227"
        ],
        "x": 795,
        "y": 320,
        "wires": [
            [
                "a2adaa8d.513fa8",
                "54d0eff0999dd2f8"
            ]
        ]
    },
    {
        "id": "1e397062fcfbb0e9",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "e027b81483470f6e",
        "name": "FH_Mode_Set",
        "mode": "link",
        "links": [
            "8456ad2c.7b492"
        ],
        "x": 1415,
        "y": 60,
        "wires": []
    },
    {
        "id": "647921f4d9a2d950",
        "type": "Thing Get",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "nodeName": "Get Ligth Status",
        "name": "",
        "props": [
            {
                "msgProp": "payload",
                "thingProp": "state",
                "path": "power"
            }
        ],
        "x": 1400,
        "y": 720,
        "wires": [
            [
                "f77ed0a836dc3899",
                "e7a1a9e1e22065c4"
            ]
        ]
    },
    {
        "id": "e540ebb37b986b6f",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Set State",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 720,
        "wires": [
            [
                "29c85b88.abdbe4"
            ]
        ]
    },
    {
        "id": "5361f5befcd5a5d7",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Office_Light",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Office_Light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 820,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "8dba580b98a6ed90",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Hallway",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Hallway",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 620,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "d483447b72658a37",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "kjøkken",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "kjøkken",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 580,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "3406c60a489c0597",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "stue",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "stue",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 540,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "609827799f3da3b7",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "bathroom",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "bathroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 700,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "bcb4101b90fdf099",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "closet",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "closet",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 500,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "be16e854cc354bd1",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "laundry",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "laundry",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 780,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "68b194f85a1ef7a0",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "basement",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "basement",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 740,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "c39c0770f61b61c7",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "bedroom",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "bedroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 660,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "462b887551d30bf4",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "karinaoffice",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "karinaoffice",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 860,
        "wires": [
            [
                "647921f4d9a2d950"
            ]
        ]
    },
    {
        "id": "80b9f8ea0180e4ee",
        "type": "link in",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "Set_Lights",
        "links": [
            "c2a6540cf2006146",
            "d3afa1ea39895105"
        ],
        "x": 795,
        "y": 660,
        "wires": [
            [
                "76142807ba013dd5"
            ]
        ]
    },
    {
        "id": "76142807ba013dd5",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Closet",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "KJØKKEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "G-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "S-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "BA-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "K-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "vaskerom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "O-LYS",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "K-O-LYS",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 9,
        "x": 910,
        "y": 660,
        "wires": [
            [
                "bcb4101b90fdf099"
            ],
            [
                "d483447b72658a37",
                "3406c60a489c0597"
            ],
            [
                "8dba580b98a6ed90"
            ],
            [
                "c39c0770f61b61c7"
            ],
            [
                "609827799f3da3b7"
            ],
            [
                "68b194f85a1ef7a0"
            ],
            [
                "be16e854cc354bd1"
            ],
            [
                "5361f5befcd5a5d7"
            ],
            [
                "462b887551d30bf4"
            ]
        ]
    },
    {
        "id": "80e36239586e7edc",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "Light_Changed",
        "mode": "link",
        "links": [
            "d8c7329f354642ba",
            "ee3e825fcad82993"
        ],
        "x": 1555,
        "y": 400,
        "wires": []
    },
    {
        "id": "b0dc3ddb928b3d38",
        "type": "delay",
        "z": "4edd86b6.331768",
        "g": "b01d69bb34a09e41",
        "name": "",
        "pauseType": "timed",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1190,
        "y": 400,
        "wires": [
            [
                "80e36239586e7edc"
            ]
        ]
    },
    {
        "id": "f77ed0a836dc3899",
        "type": "debug",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1540,
        "y": 640,
        "wires": []
    },
    {
        "id": "e7a1a9e1e22065c4",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "c4cf42bd22da0e90",
        "name": "",
        "property": "movement",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "payload",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1580,
        "y": 720,
        "wires": [
            [
                "e540ebb37b986b6f"
            ]
        ]
    },
    {
        "id": "3e8ea1caee159345",
        "type": "switch",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "External FH ( HUE)",
        "property": "payload.val.param.type.subtype",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "presence",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 460,
        "y": 320,
        "wires": [
            [
                "e7fd9780fcb41f6a"
            ]
        ]
    },
    {
        "id": "e7fd9780fcb41f6a",
        "type": "change",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.val.param.param.presence",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 360,
        "wires": [
            [
                "2998be5081486cc3"
            ]
        ]
    },
    {
        "id": "2998be5081486cc3",
        "type": "link out",
        "z": "4edd86b6.331768",
        "g": "8cba373d8f4d3966",
        "name": "HUE PRESENCE",
        "mode": "link",
        "links": [
            "885fc820467d8739"
        ],
        "x": 605,
        "y": 360,
        "wires": []
    },
    {
        "id": "4c1858d290c94d44",
        "type": "link out",
        "z": "a9a601907d96eb09",
        "name": "",
        "links": [
            "64bc6db.9a90194"
        ],
        "x": 1755,
        "y": 360,
        "wires": []
    },
    {
        "id": "19489cd49c8e05e3",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "RESET Soverom",
        "links": [
            "f7029354.44404"
        ],
        "x": 1155,
        "y": 460,
        "wires": [
            [
                "5ba4b6c089aaea41"
            ]
        ]
    },
    {
        "id": "e1e3a6e5d53d0bbb",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "5",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1390,
        "y": 420,
        "wires": [
            [
                "27499465def8b21b",
                "5ba4b6c089aaea41"
            ]
        ]
    },
    {
        "id": "430bcf57af3f447c",
        "type": "ui_switch",
        "z": "a9a601907d96eb09",
        "name": "BAD",
        "label": "Bevegelse Bad",
        "tooltip": "",
        "group": "56a8be2a.9b9eb",
        "order": 5,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "remove_red_eye",
        "oncolor": "orange",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "remove_red_eye",
        "offcolor": "grey",
        "animate": true,
        "className": "",
        "x": 490,
        "y": 400,
        "wires": [
            [
                "39fa20b64b4e7b2e"
            ]
        ]
    },
    {
        "id": "27499465def8b21b",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "bathroom",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "bathroom",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1640,
        "y": 340,
        "wires": [
            [
                "4c1858d290c94d44"
            ]
        ]
    },
    {
        "id": "c840b6850a9f9370",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "Batroom_Movement",
        "links": [
            "455faa8d.6c9aa4"
        ],
        "x": 395,
        "y": 400,
        "wires": [
            [
                "430bcf57af3f447c"
            ]
        ]
    },
    {
        "id": "ea645748ca3e406e",
        "type": "link in",
        "z": "a9a601907d96eb09",
        "name": "Bathroom_Door",
        "links": [
            "dc7a9dbe.e7065"
        ],
        "x": 395,
        "y": 220,
        "wires": [
            [
                "b6fa1956a91dd176"
            ]
        ]
    },
    {
        "id": "5ba4b6c089aaea41",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 480,
        "wires": [
            [
                "e1e3a6e5d53d0bbb",
                "e362a8900a8120ae"
            ]
        ]
    },
    {
        "id": "857363e3950966cd",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 890,
        "y": 400,
        "wires": [
            [
                "5ba4b6c089aaea41",
                "a3f0cad940b47aa1",
                "38557f4408523618"
            ],
            [
                "2cd7beb6601eb278"
            ]
        ]
    },
    {
        "id": "b6fa1956a91dd176",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Convert to Payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 220,
        "wires": [
            [
                "047237403aaab33f"
            ]
        ]
    },
    {
        "id": "2ebf80ed57b96fc3",
        "type": "time-range-switch",
        "z": "a9a601907d96eb09",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "06:00",
        "endTime": "21:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1050,
        "y": 220,
        "wires": [
            [
                "e06c1ce2758c7f85"
            ],
            [
                "f6c1c04e41814de2"
            ]
        ]
    },
    {
        "id": "f6c1c04e41814de2",
        "type": "time-range-switch",
        "z": "a9a601907d96eb09",
        "name": "Dag",
        "lat": "58.851468",
        "lon": "5.748852",
        "startTime": "21:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1050,
        "y": 180,
        "wires": [
            [
                "431b24da5c1cf8a9"
            ],
            [
                "6e23ce00bcce09a8"
            ]
        ]
    },
    {
        "id": "2ead3a2cb62c18a4",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "",
        "op1": "percent_bathroom",
        "op2": "percent_bathroom",
        "op1type": "flow",
        "op2type": "flow",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1220,
        "y": 340,
        "wires": [
            [
                "27499465def8b21b",
                "5ba4b6c089aaea41"
            ]
        ]
    },
    {
        "id": "e06c1ce2758c7f85",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Day",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1230,
        "y": 220,
        "wires": [
            [
                "dd476929bdbf7621"
            ]
        ]
    },
    {
        "id": "431b24da5c1cf8a9",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Evening",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "50",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 140,
        "wires": [
            [
                "dd476929bdbf7621"
            ]
        ]
    },
    {
        "id": "6e23ce00bcce09a8",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "Night",
        "rules": [
            {
                "t": "set",
                "p": "percent_bathroom",
                "pt": "flow",
                "to": "30",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1230,
        "y": 180,
        "wires": [
            [
                "dd476929bdbf7621"
            ]
        ]
    },
    {
        "id": "dd476929bdbf7621",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 300,
        "wires": [
            [
                "2ead3a2cb62c18a4",
                "5ba4b6c089aaea41"
            ],
            [
                "e1e3a6e5d53d0bbb"
            ]
        ]
    },
    {
        "id": "7a8e7fdc0cb811ee",
        "type": "rbe",
        "z": "a9a601907d96eb09",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 670,
        "y": 280,
        "wires": [
            [
                "38557f4408523618"
            ]
        ]
    },
    {
        "id": "a3f0cad940b47aa1",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "BA-Presence:T",
        "rules": [
            {
                "t": "set",
                "p": "BA-Presence",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "2cd7beb6601eb278",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "BA-Presence:F",
        "rules": [
            {
                "t": "set",
                "p": "BA-Presence",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 540,
        "wires": [
            [
                "a11e5cfbb5aa73a3"
            ]
        ]
    },
    {
        "id": "047237403aaab33f",
        "type": "ui_switch",
        "z": "a9a601907d96eb09",
        "name": "BAD",
        "label": "DOOR",
        "tooltip": "",
        "group": "9f7c23e0bf86f5c3",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "fa-unlock",
        "oncolor": "red",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "fa-lock",
        "offcolor": "green",
        "animate": true,
        "className": "",
        "x": 730,
        "y": 220,
        "wires": [
            [
                "7a8e7fdc0cb811ee",
                "b18f28142ec94046"
            ]
        ]
    },
    {
        "id": "e362a8900a8120ae",
        "type": "trigger",
        "z": "a9a601907d96eb09",
        "name": "OFF",
        "op1": "",
        "op2": "false",
        "op1type": "nul",
        "op2type": "bool",
        "duration": "10",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "true",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1610,
        "y": 480,
        "wires": [
            [
                "27499465def8b21b"
            ]
        ]
    },
    {
        "id": "38557f4408523618",
        "type": "delay",
        "z": "a9a601907d96eb09",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "15",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 2,
        "x": 860,
        "y": 280,
        "wires": [
            [
                "2ebf80ed57b96fc3"
            ],
            [
                "e383b1b84bc9dbd0",
                "5ba4b6c089aaea41"
            ]
        ]
    },
    {
        "id": "e383b1b84bc9dbd0",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 1,
        "x": 890,
        "y": 240,
        "wires": [
            [
                "2ebf80ed57b96fc3"
            ]
        ]
    },
    {
        "id": "b18f28142ec94046",
        "type": "change",
        "z": "a9a601907d96eb09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "dor_open",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "39fa20b64b4e7b2e",
        "type": "rbe",
        "z": "a9a601907d96eb09",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 670,
        "y": 400,
        "wires": [
            [
                "857363e3950966cd"
            ]
        ]
    },
    {
        "id": "a11e5cfbb5aa73a3",
        "type": "switch",
        "z": "a9a601907d96eb09",
        "name": "",
        "property": "dor_open",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1390,
        "y": 540,
        "wires": [
            [
                "e362a8900a8120ae"
            ]
        ]
    },
    {
        "id": "4e6013de2aa5c07f",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 1245,
        "y": 300,
        "wires": []
    },
    {
        "id": "91184b0e10053eeb",
        "type": "aedes broker",
        "z": "021cd6ea3e90db93",
        "name": "Arduino",
        "mqtt_port": "1884",
        "mqtt_ws_bind": "port",
        "mqtt_ws_port": "",
        "mqtt_ws_path": "",
        "cert": "",
        "key": "",
        "certname": "",
        "keyname": "",
        "dburl": "",
        "usetls": false,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "cc902c65355fc2a0"
            ],
            []
        ]
    },
    {
        "id": "bbb9f86114d07be5",
        "type": "mqtt in",
        "z": "021cd6ea3e90db93",
        "name": "",
        "topic": "stairs/state",
        "qos": "2",
        "datatype": "auto",
        "broker": "5d47569e31e42f22",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 340,
        "y": 460,
        "wires": [
            [
                "35663b0957414f64"
            ]
        ]
    },
    {
        "id": "1a0e8a5610faf0f6",
        "type": "link out",
        "z": "021cd6ea3e90db93",
        "name": "",
        "mode": "link",
        "links": [
            "e1a25373.858cb"
        ],
        "x": 2298,
        "y": 460,
        "wires": []
    },
    {
        "id": "930f669a18eeef18",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "6",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1980,
        "y": 460,
        "wires": [
            [
                "1a0e8a5610faf0f6",
                "1a3156237b63c2bb"
            ]
        ]
    },
    {
        "id": "4cd4b3b209ffa75f",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "lst_value",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 460,
        "wires": [
            [
                "fee5b724a8ccf193"
            ]
        ]
    },
    {
        "id": "fee5b724a8ccf193",
        "type": "trigger",
        "z": "021cd6ea3e90db93",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "3",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1360,
        "y": 460,
        "wires": [
            [
                "a64baee919cee0e6"
            ]
        ]
    },
    {
        "id": "a64baee919cee0e6",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "U || D",
        "property": "lst_value",
        "propertyType": "flow",
        "rules": [
            {
                "t": "btwn",
                "v": "45",
                "vt": "num",
                "v2": "90",
                "v2t": "num"
            },
            {
                "t": "lte",
                "v": "40",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1550,
        "y": 460,
        "wires": [
            [
                "5a875997eb40043b"
            ],
            [
                "ec2b0c7452e7b0f2"
            ]
        ]
    },
    {
        "id": "ff2788661afb21da",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "5a875997eb40043b"
            ]
        ]
    },
    {
        "id": "7678f144c5148af9",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "payload.client.connected",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 300,
        "wires": [
            [
                "0a16bcbd068a4386"
            ],
            [
                "051636d7f5e1c145"
            ]
        ]
    },
    {
        "id": "cc902c65355fc2a0",
        "type": "delay",
        "z": "021cd6ea3e90db93",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 540,
        "y": 300,
        "wires": [
            [
                "af83160c4353fe50"
            ]
        ]
    },
    {
        "id": "83665e5eeb0c9dd4",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "is between",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "75",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 850,
        "y": 460,
        "wires": [
            [
                "4cd4b3b209ffa75f"
            ]
        ]
    },
    {
        "id": "af83160c4353fe50",
        "type": "switch",
        "z": "021cd6ea3e90db93",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "clientReady",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "clientDisconnect",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 300,
        "wires": [
            [
                "7678f144c5148af9"
            ],
            [
                "7678f144c5148af9"
            ]
        ]
    },
    {
        "id": "0a16bcbd068a4386",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "connected",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 260,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "051636d7f5e1c145",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "discconnected",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 300,
        "wires": [
            [
                "4e6013de2aa5c07f"
            ]
        ]
    },
    {
        "id": "5a875997eb40043b",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "going upstairs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "up",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 440,
        "wires": [
            [
                "930f669a18eeef18"
            ]
        ]
    },
    {
        "id": "ec2b0c7452e7b0f2",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "going upstairs",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "up",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 480,
        "wires": [
            [
                "930f669a18eeef18"
            ]
        ]
    },
    {
        "id": "1a3156237b63c2bb",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let up_count = flow.get(\"up_count\") || 0\nlet down_count = flow.get(\"down_count\") || 0\n\nif (msg.up == true) {\n    up_count++\n    down_count--;\n} else {\n    down_count++;\n\n    up_count--\n}\n\nflow.set(\"up_count\", up_count);\nflow.set(\"down_count\", down_count);\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2340,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "35663b0957414f64",
        "type": "function",
        "z": "021cd6ea3e90db93",
        "name": "",
        "func": "let last = context.get(\"last\") | 0;\n\nlet count = parseInt(msg.payload) + parseInt(last);\n\n\nmsg.payload = parseInt(count / 2);\ncontext.set(\"last\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 460,
        "wires": [
            [
                "1630e5498522a364"
            ]
        ]
    },
    {
        "id": "1630e5498522a364",
        "type": "calculate",
        "z": "021cd6ea3e90db93",
        "d": true,
        "name": "",
        "pauseType": "timed",
        "calculation": "median",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "x": 680,
        "y": 460,
        "wires": [
            [
                "83665e5eeb0c9dd4"
            ]
        ]
    },
    {
        "id": "b7cae4186e887d19",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "up_count",
                "pt": "flow",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1790,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "a1d7f615b671ac4d",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1600,
        "y": 340,
        "wires": [
            [
                "b7cae4186e887d19"
            ]
        ]
    },
    {
        "id": "4b34abe0a4611149",
        "type": "change",
        "z": "021cd6ea3e90db93",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "up_count",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "b9e501c4f7f1e14b",
        "type": "inject",
        "z": "021cd6ea3e90db93",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1610,
        "y": 300,
        "wires": [
            [
                "4b34abe0a4611149"
            ]
        ]
    }
]